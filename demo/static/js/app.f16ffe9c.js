(function(t){function e(e){for(var i,a,s=e[0],p=e[1],l=e[2],d=0,u=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&u.push(o[a][0]),o[a]=0;for(i in p)Object.prototype.hasOwnProperty.call(p,i)&&(t[i]=p[i]);h&&h(e);while(u.length)u.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var p=n[a];0!==o[p]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={app:0},r=[];function a(t){return s.p+"static/js/"+({}[t]||t)+"."+{"chunk-2d216214":"1ba829b5","chunk-97af01de":"f427f11e"}[t]+".js"}function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=o[t]=[e,i]}));e.push(n[2]=i);var r,p=document.createElement("script");p.charset="utf-8",p.timeout=120,s.nc&&p.setAttribute("nonce",s.nc),p.src=a(t);var l=new Error;r=function(e){p.onerror=p.onload=null,clearTimeout(d);var n=o[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",l.name="ChunkLoadError",l.type=i,l.request=r,n[1](l)}o[t]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:p})}),12e4);p.onerror=p.onload=r,document.head.appendChild(p)}return Promise.all(e)},s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-plugin-hiprint/",s.oe=function(t){throw console.error(t),t};var p=window["webpackJsonp"]=window["webpackJsonp"]||[],l=p.push.bind(p);p.push=e,p=p.slice();for(var d=0;d<p.length;d++)e(p[d]);var h=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"097d":function(t,e,n){},"09bf":function(t,e,n){"use strict";n("1d55")},1032:function(t,e,n){},1264:function(t,e,n){"use strict";e["a"]={name:"黄磊",logoTest:"https://portrait.gitee.com/uploads/avatars/user/1800/5400665_CcSimple_1591166830.png!avatar60",password:"12346",longText:"浙江在线3月29日讯最近，\n一篇小学五年级学生写的作文引起了钱报记者的关注这篇作文的题目叫做《脏话风波》，讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文《脏话风波》浙江在线3月29日讯最近，一篇小学五年级学生写的作文引起了钱报记者的关注。这篇作文的题目叫做《脏话风波》，讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文《脏话风波》浙江在线3月29日讯最近，一篇小学五年级学生写的作文引起了钱报记者的关注。这篇作文的题目叫做《脏话风波》，讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文《脏话风波》浙江在线3月29日讯最近，一篇小学五年级学生写的作文引起了钱报记者的关注。这篇作文的题目叫做《脏话风波》，讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文《脏话风波》浙江在线3月29日讯最近，一篇小学五年级学生写的作文引起了钱报记者的关注。这篇作文的题目叫做《脏话风波》，讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文",table:[{id:"1",name:"王小可",gender:"男",count:"120",amount:"9089元"},{id:"2",name:"梦之遥",gender:"女",count:"20",amount:"89元"},{id:"3",name:"梦之遥",gender:"女",count:"720",amount:"29089元"},{id:"4",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"5",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"6",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"7",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"8",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"9",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"10",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"11",name:"王小可",gender:"男",count:"120",amount:"9089元"},{id:"12",name:"梦之遥",gender:"女",count:"20",amount:"89元"},{id:"13",name:"梦之遥",gender:"女",count:"720",amount:"29089元"},{id:"14",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"15",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"16",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"17",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"18",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"19",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"20",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"21",name:"王小可",gender:"男",count:"120",amount:"9089元"},{id:"22",name:"梦之遥",gender:"女",count:"20",amount:"89元"},{id:"23",name:"梦之遥",gender:"女",count:"720",amount:"29089元"},{id:"24",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"25",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"26",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"27",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"28",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"29",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"21",name:"王小可",gender:"男",count:"120",amount:"9089元"},{id:"22",name:"梦之遥",gender:"女",count:"20",amount:"89元"},{id:"23",name:"梦之遥",gender:"女",count:"720",amount:"29089元"},{id:"24",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"25",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"26",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"27",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"28",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"29",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"21",name:"王小可",gender:"男",count:"120",amount:"9089元"},{id:"22",name:"梦之遥",gender:"女",count:"20",amount:"89元"},{id:"23",name:"梦之遥",gender:"女",count:"720",amount:"29089元"},{id:"29",name:"黄小菊",gender:"女",count:"420",amount:"19089元"},{id:"30",name:"黄小菊",gender:"女",count:"420",amount:"19089元"}]}},"1d55":function(t,e,n){},2395:function(t,e,n){},"25f3":function(t,e,n){"use strict";e["a"]={totalCap:"壹佰元整",logoTest:"https://portrait.gitee.com/uploads/avatars/user/1800/5400665_CcSimple_1591166830.png!avatar60",test:{a:"111",b:"222",longText:"浙江在线3月29日讯最近，\n一篇小学五年级学生写的作文引起了钱报记者的关注这篇作文的题目叫做《脏话风波》，讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文《脏话风波》浙江在线3月29日讯最近，一篇小学五年级学生写的作文引起了钱报记者的关注。这篇作文的题目叫做《脏话风波》，讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文《脏话风波》浙江在线3月29日讯最近，一篇小学五年级学生写的作文引起了钱报记者的关注。这篇作文的题目叫做《脏话风波》，讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文《脏话风波》浙江在线3月29日讯最近，一篇小学五年级学生写的作文引起了钱报记者的关注。这篇作文的题目叫做《脏话风波》，讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文《脏话风波》浙江在线3月29日讯最近，一篇小学五年级学生写的作文引起了钱报记者的关注。这篇作文的题目叫做《脏话风波》，讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文讲述的是小作者班级里发生的一种不文明现象——讲脏话的同学越来越多，有的人说话甚至句句“带把儿”。班主任为了遏制这种现象，煞费苦心想了很多办法，跟学生斗智斗勇……看到这篇作文，记者突然想到，自己读六年级的儿子有天突然冒出一句脏话。此前，他是从不说脏话的。问他怎么学会的，他也说不出个所以然来。于是，记者做了这个小学生脏话现象调查。经过了解才发现，小学生爱说脏话竟然较为普遍，一般三年级会冒出苗头。无论是学习成绩好的，还是平时不太起眼的，都会说脏话。而且，说脏话会“传染”，一旦冒头不制止，到了五六年级甚至可能在班里大爆发。以下为作文"},testaaa:{a:{b:{c:{d:"dddddddddddd"}}}},table_test:{a:[{NAME:"测试商品01",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品02",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品03",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品04",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品05",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品06",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品07",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品08",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品09",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品10",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品11",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品12",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品13",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品14",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品15",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品16",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品17",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品18",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品19",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品20",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品21",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品22",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品23",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品24",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品25",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品26",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品27",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品28",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品29",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品30",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"}]},table:[{INDEX:"1",NAME:"测试商品01",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"2",NAME:"测试商品02",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"3",NAME:"测试商品03",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"4",NAME:"测试商品04",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"5",NAME:"测试商品05",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"6",NAME:"测试商品06",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"7",NAME:"测试商品07",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"8",NAME:"测试商品08",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"9",NAME:"测试商品09",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"10",NAME:"测试商品10",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"11",NAME:"测试商品11",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"12",NAME:"测试商品12",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"13",NAME:"测试商品13",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"14",NAME:"测试商品14",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"15",NAME:"测试商品15",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"16",NAME:"测试商品16",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"17",NAME:"测试商品17",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"18",NAME:"测试商品18",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"19",NAME:"测试商品19",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"20",NAME:"测试商品20",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"21",NAME:"测试商品21",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"22",NAME:"测试商品22",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"23",NAME:"测试商品23",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"24",NAME:"测试商品24",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"25",NAME:"测试商品25",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"26",NAME:"测试商品26",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"27",NAME:"测试商品27",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"28",NAME:"测试商品28",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"29",NAME:"测试商品29",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{INDEX:"30",NAME:"测试商品30",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"}]}},"2ef0":function(t,e,n){"use strict";(function(t){e["a"]={name:"printPreview",props:{},data(){return{visible:!1,spinning:!0,waitShowPrinter:!1,width:0,hiprintTemplate:{},printData:{}}},computed:{},watch:{},created(){},mounted(){},methods:{hideModal(){this.visible=!1},show(e,n,i="210"){this.visible=!0,this.spinning=!0,this.width=i,this.hiprintTemplate=e,this.printData=n,setTimeout(()=>{t("#preview_content_design").html(e.getHtml(n)),this.spinning=!1},500)},print(){this.waitShowPrinter=!0,this.hiprintTemplate.print(this.printData,{},{callback:()=>{console.log("callback"),this.waitShowPrinter=!1}})},toPdf(){this.hiprintTemplate.toPdf({},"打印预览")}}}}).call(this,n("1157"))},3355:function(t,e,n){"use strict";(function(t){var i=n("cc1f"),o=n("b635"),r=n("3e5e"),a=n("25f3");let s;e["a"]={name:"printCustom",components:{printPreview:i["a"]},data(){return{deactivated:!1,mode:0,modeList:[],curPaper:{type:"other",width:220,height:80},paperTypes:{A3:{width:420,height:296.6},A4:{width:210,height:296.6},A5:{width:210,height:147.6},B3:{width:500,height:352.6},B4:{width:250,height:352.6},B5:{width:250,height:175.6}},scaleValue:1,scaleMax:5,scaleMin:.5,paperPopVisible:!1,paperWidth:"220",paperHeight:"80",lastjson:""}},computed:{curPaperType(){let t="other",e=this.paperTypes;for(const n in e){let i=e[n],{width:o,height:r}=this.curPaper;i.width===o&&i.height===r&&(t=n)}return t}},mounted(){this.init(),this.otherPaper()},activated(){this.deactivated&&(this.changeMode(),this.deactivated=!1)},deactivated(){this.deactivated=!0},methods:{init(){this.modeList=r["a"].map(t=>({type:t.type,name:t.name,value:t.value})),this.changeMode()},changeMode(){let{mode:e}=this,n=r["a"][e];o["c"].init({providers:[n.f]}),t(".hiprintEpContainer").empty(),o["c"].PrintElementTypeManager.build(".hiprintEpContainer",n.value),t("#hiprint-printTemplate").empty();let i=this.$ls.get("KEY_TEMPLATES",{}),a=i[n.value]?i[n.value]:{};s=new o["c"].PrintTemplate({template:a,dataMode:1,history:!1,onDataChanged:(t,e)=>{console.log(t),console.log(e)},settingContainer:"#PrintElementOptionSetting",paginationContainer:".hiprint-printPagination"}),s.design("#hiprint-printTemplate"),console.log(s),this.scaleValue=s.editingPanel.scale||1},setPaper(t,e){try{Object.keys(this.paperTypes).includes(t)?(this.curPaper={type:t,width:e.width,height:e.height},s.setPaper(e.width,e.height)):(this.curPaper={type:"other",width:e.width,height:e.height},s.setPaper(e.width,e.height))}catch(n){this.$message.error("操作失败: "+n)}},changeScale(t){let e=this.scaleValue;t?(e+=.1,e>this.scaleMax&&(e=5)):(e-=.1,e<this.scaleMin&&(e=.5)),s&&(s.zoom(e,!0),this.scaleValue=e)},otherPaper(){let t={};t.width=this.paperWidth,t.height=this.paperHeight,this.paperPopVisible=!1,this.setPaper("other",t)},preView(){let{width:t}=this.curPaper;this.$refs.preView.show(s,a["a"],t)},print(){if(window.hiwebSocket.opened){const t=s.getPrinterList();return console.log(t),void s.print2(a["a"],{printer:"",title:"hiprint测试打印"})}this.$message.error("客户端未连接,无法直接打印")},save(){let{mode:t}=this,e=r["a"][t];this.setTemplate({name:e.value,json:s.getJson()})},setTemplate(t){let e=this.$ls.get("KEY_TEMPLATES",{});console.log(t.json),e[t.name]=t.json,this.$ls.set("KEY_TEMPLATES",e),this.$message.info("保存成功")},clearPaper(){try{s.clear()}catch(t){this.$message.error("操作失败: "+t)}}}}}).call(this,n("1157"))},3567:function(t,e,n){"use strict";var i=n("b635");const o=function(t){var e=function(t){t.removePrintElementTypes("taskProviderModule"),t.addPrintElementTypes("taskProviderModule",[new i["c"].PrintElementTypeGroup("平台",[{tid:"taskProviderModule.header",title:"单据表头",data:"单据表头",type:"text",options:{testData:"单据表头",height:17,fontSize:16.5,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"taskProviderModule.type",title:"单据类型",data:"单据类型",type:"text",options:{testData:"单据类型",height:16,fontSize:15,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"taskProviderModule.order",title:"订单编号",data:"XS888888888",type:"text",options:{field:"orderId",testData:"XS888888888",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"taskProviderModule.date",title:"业务日期",data:"2020-01-01",type:"text",options:{field:"date",testData:"2020-01-01",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"taskProviderModule.barcode",title:"条形码",data:"XS888888888",type:"text",options:{testData:"XS888888888",height:32,fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"barcode"}},{tid:"taskProviderModule.qrcode",title:"二维码",data:"XS888888888",type:"text",options:{testData:"XS888888888",height:32,fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"qrcode"}},{tid:"taskProviderModule.platform",title:"平台名称",data:"平台名称",type:"text",options:{testData:"平台名称",height:17,fontSize:16.5,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"taskProviderModule.logo",title:"Logo",data:"",type:"image"}]),new i["c"].PrintElementTypeGroup("库管",[{tid:"taskProviderModule.creater",title:"制单人",data:"李四",type:"text",options:{field:"creater",testData:"李四",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"taskProviderModule.printDate",title:"打印时间",data:"2022-01-01 09:00",type:"text",options:{field:"printDate",testData:"2022-01-01 09:00",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"taskProviderModule.signer",title:"库管签字",data:"",type:"text",options:{title:"库管签字：",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}}]),new i["c"].PrintElementTypeGroup("表格/其他",[{tid:"taskProviderModule.table",title:"订单数据",type:"table",options:{field:"table",tableHeaderRepeat:"first",tableFooterRepeat:"last",fields:[{text:"名称",field:"NAME"},{text:"数量",field:"SL"},{text:"规格",field:"GG"},{text:"条码",field:"TM"},{text:"单价",field:"DJ"},{text:"金额",field:"JE"}]},editable:!0,columnDisplayEditable:!0,columnDisplayIndexEditable:!0,columnTitleEditable:!0,columnResizable:!0,columnAlignEditable:!0,isEnableEditField:!0,isEnableContextMenu:!0,isEnableInsertRow:!0,isEnableDeleteRow:!0,isEnableInsertColumn:!0,isEnableDeleteColumn:!0,isEnableMergeCell:!0,columns:[[{title:"名称",align:"center",field:"NAME",width:150},{title:"数量",align:"center",field:"SL",width:80},{title:"规格",align:"center",field:"GG",width:80,checked:!1},{title:"条码",align:"center",field:"TM",width:100,checked:!1},{title:"单价",align:"center",field:"DJ",width:100},{title:"金额",align:"center",field:"JE",width:100,checked:!1}]],footerFormatter:function(t,e,n,i){return n&&n["totalCap"]?`<td style="padding:0 10px" colspan="100">${"应收金额大写: "+n["totalCap"]}</td>`:'<td style="padding:0 10px" colspan="100">应收金额大写: </td>'}},{tid:"taskProviderModule.customText",title:"文本",customText:"自定义文本",custom:!0,type:"text"}]),new i["c"].PrintElementTypeGroup("辅助",[{tid:"taskProviderModule.hline",title:"横线",type:"hline"},{tid:"taskProviderModule.vline",title:"竖线",type:"vline"},{tid:"taskProviderModule.rect",title:"矩形",type:"rect"},{tid:"taskProviderModule.oval",title:"椭圆",type:"oval"}])])};return{addElementTypes:e}};e["a"]=o()},"383e":function(t,e,n){t.exports=n.p+"static/img/l_img.c03b941d.svg"},"3e5e":function(t,e,n){"use strict";var i=n("b635");const o=function(t){var e=function(t){t.removePrintElementTypes("aProviderModule"),t.addPrintElementTypes("aProviderModule",[new i["c"].PrintElementTypeGroup("平台",[{tid:"aProviderModule.header",title:"单据表头",data:"单据表头",type:"text",options:{testData:"单据表头",height:17,fontSize:16.5,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"aProviderModule.type",title:"单据类型",data:"单据类型",type:"text",options:{testData:"单据类型",height:16,fontSize:15,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"aProviderModule.order",title:"订单编号",data:"XS888888888",type:"text",options:{field:"orderId",testData:"XS888888888",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"aProviderModule.date",title:"业务日期",data:"2020-01-01",type:"text",options:{field:"date",testData:"2020-01-01",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"aProviderModule.barcode",title:"条形码",data:"XS888888888",type:"text",options:{testData:"XS888888888",height:32,fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"barcode"}},{tid:"aProviderModule.qrcode",title:"二维码",data:"XS888888888",type:"text",options:{testData:"XS888888888",height:32,fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"qrcode"}},{tid:"aProviderModule.platform",title:"平台名称",data:"平台名称",type:"text",options:{testData:"平台名称",height:17,fontSize:16.5,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"aProviderModule.logo",title:"Logo",data:"",type:"image"}]),new i["c"].PrintElementTypeGroup("库管",[{tid:"aProviderModule.creater",title:"制单人",data:"李四",type:"text",options:{field:"creater",testData:"李四",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"aProviderModule.printDate",title:"打印时间",data:"2022-01-01 09:00",type:"text",options:{field:"printDate",testData:"2022-01-01 09:00",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"aProviderModule.signer",title:"库管签字",data:"",type:"text",options:{title:"库管签字：",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}}]),new i["c"].PrintElementTypeGroup("表格/其他",[{tid:"aProviderModule.table",title:"订单数据",type:"table",options:{field:"table",tableHeaderRepeat:"first",tableFooterRepeat:"last",fields:[{text:"名称",field:"NAME"},{text:"数量",field:"SL"},{text:"规格",field:"GG"},{text:"条码",field:"TM"},{text:"单价",field:"DJ"},{text:"金额",field:"JE"}]},editable:!0,columnDisplayEditable:!0,columnDisplayIndexEditable:!0,columnTitleEditable:!0,columnResizable:!0,columnAlignEditable:!0,isEnableEditField:!0,isEnableContextMenu:!0,isEnableInsertRow:!0,isEnableDeleteRow:!0,isEnableInsertColumn:!0,isEnableDeleteColumn:!0,isEnableMergeCell:!0,columns:[[{title:"名称",align:"center",field:"NAME",width:150},{title:"数量",align:"center",field:"SL",width:80},{title:"规格",align:"center",field:"GG",width:80,checked:!1},{title:"条码",align:"center",field:"TM",width:100,checked:!1},{title:"单价",align:"center",field:"DJ",width:100},{title:"金额",align:"center",field:"JE",width:100,checked:!1}]],rowsColumnsMerge:function(t,e,n){return 0==n?[1,t.INDEX%2==1?2:1]:n>0&&n<2?[t.INDEX%2==1?0:1,1]:[t.INDEX%2==1?2:0,1]},footerFormatter:function(t,e,n,i){return n&&n["totalCap"]?`<td style="padding:0 10px" colspan="100">${"应收金额大写: "+n["totalCap"]}</td>`:'<td style="padding:0 10px" colspan="100">应收金额大写: </td>'}},{tid:"aProviderModule.customText",title:"文本",customText:"自定义文本",custom:!0,type:"text"},{tid:"aProviderModule.longText",title:"长文本",type:"longText",options:{field:"test.longText",width:200,testData:"长文本分页/不分页测试"}}]),new i["c"].PrintElementTypeGroup("辅助",[{tid:"aProviderModule.hline",title:"横线",type:"hline"},{tid:"aProviderModule.vline",title:"竖线",type:"vline"},{tid:"aProviderModule.rect",title:"矩形",type:"rect"},{tid:"aProviderModule.oval",title:"椭圆",type:"oval"}])])};return{addElementTypes:e}},r=function(t){var e=function(t){t.removePrintElementTypes("bProviderModule"),t.addPrintElementTypes("bProviderModule",[new i["c"].PrintElementTypeGroup("常规",[{tid:"bProviderModule.header",title:"单据表头",data:"单据表头",type:"text",options:{testData:"单据表头",height:17,fontSize:16.5,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"bProviderModule.type",title:"单据类型",data:"单据类型",type:"text",options:{testData:"单据类型",height:16,fontSize:15,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"bProviderModule.order",title:"订单编号",data:"XS888888888",type:"text",options:{field:"orderId",testData:"XS888888888",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"bProviderModule.date",title:"业务日期",data:"2020-01-01",type:"text",options:{field:"date",testData:"2020-01-01",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"bProviderModule.barcode",title:"条形码",data:"XS888888888",type:"text",options:{testData:"XS888888888",height:32,fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"barcode"}},{tid:"bProviderModule.qrcode",title:"二维码",data:"XS888888888",type:"text",options:{testData:"XS888888888",height:32,fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"qrcode"}},{tid:"bProviderModule.platform",title:"平台名称",data:"平台名称",type:"text",options:{testData:"平台名称",height:17,fontSize:16.5,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"bProviderModule.image",title:"Logo",data:"",type:"image"}]),new i["c"].PrintElementTypeGroup("客户",[{tid:"bProviderModule.khname",title:"客户名称",data:"高级客户",type:"text",options:{field:"name",testData:"高级客户",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"bProviderModule.tel",title:"客户电话",data:"18888888888",type:"text",options:{field:"tel",testData:"18888888888",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}}]),new i["c"].PrintElementTypeGroup("表格/其他",[{tid:"bProviderModule.table",title:"订单数据",type:"tableCustom",options:{field:"table",fields:[{text:"名称",field:"NAME"},{text:"数量",field:"SL"},{text:"规格",field:"GG"},{text:"条码",field:"TM"},{text:"单价",field:"DJ"},{text:"金额",field:"JE"},{text:"备注",field:"DETAIL"}]},editable:!0,columnDisplayEditable:!0,columnDisplayIndexEditable:!0,columnTitleEditable:!0,columnResizable:!0,columnAlignEditable:!0,columns:[[{title:"名称",align:"center",field:"NAME",width:100},{title:"数量",align:"center",field:"SL",width:100},{title:"条码",align:"center",field:"TM",width:100},{title:"规格",align:"center",field:"GG",width:100},{title:"单价",align:"center",field:"DJ",width:100},{title:"金额",align:"center",field:"JE",width:100},{title:"备注",align:"center",field:"DETAIL",width:100}]],footerFormatter:function(t,e,n,i){return n&&n["totalCap"]?`<td style="padding:0 10px" colspan="100">${"应收金额大写: "+n["totalCap"]}</td>`:'<td style="padding:0 10px" colspan="100">应收金额大写: </td>'}},{tid:"bProviderModule.customText",title:"文本",customText:"自定义文本",custom:!0,type:"text"},{tid:"bProviderModule.longText",title:"长文本",type:"longText",options:{field:"test.longText",width:200,testData:"长文本分页/不分页测试"}}]),new i["c"].PrintElementTypeGroup("辅助",[{tid:"bProviderModule.hline",title:"横线",type:"hline"},{tid:"bProviderModule.vline",title:"竖线",type:"vline"},{tid:"bProviderModule.rect",title:"矩形",type:"rect"},{tid:"bProviderModule.oval",title:"椭圆",type:"oval"}])])};return{addElementTypes:e}};e["a"]=[{name:"A设计",value:"aProviderModule",type:1,f:o()},{name:"B设计",value:"bProviderModule",type:2,f:r()}]},4474:function(module,__webpack_exports__,__webpack_require__){"use strict";(function($,jQuery){__webpack_require__.d(__webpack_exports__,"b",(function(){return hiprint})),__webpack_require__.d(__webpack_exports__,"a",(function(){return defaultElementTypeProvider}));var _plugins_jquery_hiwprint_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("e562"),_plugins_jquery_hiwprint_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_plugins_jquery_hiwprint_js__WEBPACK_IMPORTED_MODULE_0__),_claviska_jquery_minicolors_jquery_minicolors_min__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("92d7"),_claviska_jquery_minicolors_jquery_minicolors_min__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_claviska_jquery_minicolors_jquery_minicolors_min__WEBPACK_IMPORTED_MODULE_1__),jsbarcode__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("62c5"),jsbarcode__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(jsbarcode__WEBPACK_IMPORTED_MODULE_2__),_plugins_qrcode_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("f801"),_plugins_qrcode_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_plugins_qrcode_js__WEBPACK_IMPORTED_MODULE_3__),socket_io_client__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("daa8"),_css_image_l_img_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("383e"),_css_image_l_img_svg__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_css_image_l_img_svg__WEBPACK_IMPORTED_MODULE_5__),_css_image_v_img_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("a41b"),_css_image_v_img_svg__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_css_image_v_img_svg__WEBPACK_IMPORTED_MODULE_6__),jspdf__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("8baf"),html2canvas__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("c0e9"),html2canvas__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(html2canvas__WEBPACK_IMPORTED_MODULE_8__),canvg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("a01c"),_etypes_default_etyps_provider__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("c5d8");function _instanceof(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function _typeof(t){return _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}window.$=window.jQuery=__webpack_require__("1157"),window.autoConnect=!0,window.io=socket_io_client__WEBPACK_IMPORTED_MODULE_4__["a"];var hiprint=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==_typeof(t)&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=21)}([function(t,e,n){var i;n.d(e,"a",(function(){return hinnn})),window.hinnn={},hinnn.event=(i={},{on:function(t,e){i[t]||(i[t]=[]),i[t].push(e)},id:0,off:function(t,e){var n=i[t];if(n){for(var o=-1,r=0;r<n.length;r++)if(n[r]===e){o=r;break}o<0||i[t].splice(o,1)}},trigger:function(t){var e=i[t];if(e&&e.length)for(var n=Array.prototype.slice.call(arguments,1),o=0;o<e.length;o++)e[o].apply(this,n)},clear:function(t){i[t]=[]},getId:function(){return this.id+=1,this.id},getNameWithId:function(t){return t+"-"+this.getId()}}),hinnn.form={serialize:function(t){var e=$(t).serializeArray(),n={};return $.each(e,(function(){n[this.name]?"[object Array]"==Object.prototype.toString.call(n[this.name])?n[this.name].push(this.value):n[this.name]=[n[this.name],this.value]:n[this.name]=this.value})),n}},hinnn.pt={toPx:function(t){return t*(this.getDpi()/72)},toMm:function(t){return hinnn.px.toMm(hinnn.pt.toPx(t))},dpi:0,getDpi:function(){if(!this.dpi){var t=document.createElement("DIV");t.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(t),this.dpi=t.offsetHeight}return this.dpi}},hinnn.px={toPt:function(t){return t*(72/this.getDpi())},toMm:function(t){return Math.round(t/this.getDpi()*25.4*100)/100},dpi:0,getDpi:function(){if(!this.dpi){var t=document.createElement("DIV");t.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(t),this.dpi=t.offsetHeight}return this.dpi}},hinnn.mm={toPt:function(t){return 72/25.4*t},toPx:function(t){return hinnn.pt.toPx(hinnn.mm.toPt(t))}},hinnn.throttle=function(t,e,n){var i,o,r,a=null,s=0;n||(n={});var p=function(){s=!1===n.leading?0:_.now(),a=null,r=t.apply(i,o),a||(i=o=null)};return function(){var l=_.now();s||!1!==n.leading||(s=l);var d=e-(l-s);return i=this,o=arguments,d<=0||d>e?(a&&(clearTimeout(a),a=null),s=l,r=t.apply(i,o),a||(i=o=null)):a||!1===n.trailing||(a=setTimeout(p,d)),r}},hinnn.debounce=function(t,e,n){var i,o,r,a,s,p=function p(){var l=_.now()-a;l<e&&l>=0?i=setTimeout(p,e-l):(i=null,n||(s=t.apply(r,o),i||(r=o=null)))};return function(){r=this,o=arguments,a=_.now();var l=n&&!i;return i||(i=setTimeout(p,e)),l&&(s=t.apply(r,o),r=o=null),s}},hinnn.toUtf8=function(t){var e,n,i,o;for(e="",i=t.length,n=0;n<i;n++)(o=t.charCodeAt(n))>=1&&o<=127?e+=t.charAt(n):o>2047?(e+=String.fromCharCode(224|o>>12&15),e+=String.fromCharCode(128|o>>6&63),e+=String.fromCharCode(128|o>>0&63)):(e+=String.fromCharCode(192|o>>6&31),e+=String.fromCharCode(128|o>>0&63));return e},hinnn.groupBy=function(t,e,n){var i={};return t.forEach((function(t){var o=JSON.stringify(n(t));i[o]||(i[o]={rows:[]},e.forEach((function(e){i[o][e]=t[e]}))),i[o].rows.push(t)})),Object.keys(i).map((function(t){return i[t]}))},hinnn.orderBy=function(t,e){if(t.length<=1)return t;var n=Math.floor(t.length/2),i=t.splice(n,1)[0],o=[],r=[],a=!0,s=!1,p=void 0;try{for(var l,d=t[Symbol.iterator]();!(a=(l=d.next()).done);a=!0){var h=l.value;e(h)<e(i)?o.push(h):r.push(h)}}catch(u){s=!0,p=u}finally{try{a||null==d.return||d.return()}finally{if(s)throw p}}return this.orderBy(o,e).concat([i],this.orderBy(r,e))},hinnn.dateFormat=function(t,e){if(t)try{var n="string"==typeof t?new Date(t):t,i={"M+":n.getMonth()+1,"d+":n.getDate(),"H+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[o]:("00"+i[o]).substr((""+i[o]).length)));return e}catch(t){return console.log(t),""}return""}},function(t,e,n){n.d(e,"a",(function(){return o}));var i=n(9),o=function(){function t(){this.providers=[],this.movingDistance=1.5,this.paperHeightTrim=1,this.text={supportOptions:[{name:"title",hidden:!1,title:""},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"coordinate",hidden:!1},{name:"dataType",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"color",hidden:!1},{name:"textDecoration",hidden:!1},{name:"textAlign",hidden:!1},{name:"textContentVerticalAlign",hidden:!1},{name:"lineHeight",hidden:!1},{name:"textType",hidden:!1},{name:"barcodeMode",hidden:!1},{name:"qrCodeLevel",hidden:!1},{name:"hideTitle",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"optionsGroup",hidden:!1},{name:"borderLeft",hidden:!1},{name:"borderTop",hidden:!1},{name:"borderRight",hidden:!1},{name:"borderBottom",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderColor",hidden:!1},{name:"contentPaddingLeft",hidden:!1},{name:"contentPaddingTop",hidden:!1},{name:"contentPaddingRight",hidden:!1},{name:"contentPaddingBottom",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}],default:{fontFamily:void 0,fontSize:void 0,fontWeight:"",letterSpacing:void 0,textAlign:void 0,textType:"text",hideTitle:!1,height:9.75,lineHeight:void 0,width:120}},this.image={supportOptions:[{name:"field",hidden:!1},{name:"src",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}],default:{}},this.longText={supportOptions:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"textAlign",hidden:!1},{name:"lineHeight",hidden:!1},{name:"color",hidden:!1},{name:"hideTitle",hidden:!1},{name:"longTextIndent",hidden:!1},{name:"leftSpaceRemoved",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"lHeight",hidden:!1},{name:"transform",hidden:!1},{name:"optionsGroup",hidden:!1},{name:"borderLeft",hidden:!1},{name:"borderTop",hidden:!1},{name:"borderRight",hidden:!1},{name:"borderBottom",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderColor",hidden:!1},{name:"contentPaddingLeft",hidden:!1},{name:"contentPaddingTop",hidden:!1},{name:"contentPaddingRight",hidden:!1},{name:"contentPaddingBottom",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}],default:{fontFamily:void 0,fontSize:void 0,fontWeight:"",letterSpacing:void 0,textAlign:void 0,hideTitle:!1,height:42,lineHeight:void 0,width:550}},this.table={supportOptions:[{name:"field",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"lineHeight",hidden:!1},{name:"textAlign",hidden:!1},{name:"gridColumns",hidden:!1},{name:"gridColumnsGutter",hidden:!1},{name:"tableHeaderRepeat",hidden:!1},{name:"tableBorder",hidden:!1},{name:"tableHeaderBorder",hidden:!1},{name:"tableHeaderCellBorder",hidden:!1},{name:"tableHeaderRowHeight",hidden:!1},{name:"tableHeaderBackground",hidden:!1},{name:"tableHeaderFontSize",hidden:!1},{name:"tableHeaderFontWeight",hidden:!1},{name:"tableBodyRowHeight",hidden:!1},{name:"tableBodyRowBorder",hidden:!1},{name:"tableBodyCellBorder",hidden:!1},{name:"tableFooterBorder",hidden:!1},{name:"tableFooterCellBorder",hidden:!1},{name:"axis",hidden:!1},{name:"lHeight",hidden:!1},{name:"autoCompletion",hidden:!1},{name:"columns",hidden:!1},{name:"styler",hidden:!1},{name:"rowStyler",hidden:!1},{name:"tableFooterRepeat",hidden:!1},{name:"footerFormatter",hidden:!1},{name:"rowsColumnsMerge",hidden:!1},{name:"gridColumnsFooterFormatter",hidden:!1}],default:{fontFamily:void 0,fontSize:void 0,fontWeight:"",textAlign:void 0,tableBorder:void 0,tableHeaderBorder:void 0,tableHeaderCellBorder:void 0,tableHeaderBackground:void 0,tableHeaderRowHeight:void 0,tableHeaderFontWeight:void 0,tableBodyCellBorder:void 0,tableFooterBorder:void 0,tableFooterCellBorder:void 0,tableBodyRowHeight:void 0,letterSpacing:"",lineHeight:void 0,width:550}},this.tableCustom={supportOptions:[{name:"field",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"textAlign",hidden:!1},{name:"tableBorder",hidden:!1},{name:"tableHeaderBorder",hidden:!1},{name:"tableHeaderCellBorder",hidden:!1},{name:"tableHeaderRowHeight",hidden:!1},{name:"tableHeaderFontSize",hidden:!1},{name:"tableHeaderFontWeight",hidden:!1},{name:"tableHeaderBackground",hidden:!1},{name:"tableBodyRowHeight",hidden:!1},{name:"tableBodyRowBorder",hidden:!1},{name:"tableBodyCellBorder",hidden:!1},{name:"tableFooterBorder",hidden:!1},{name:"tableFooterCellBorder",hidden:!1},{name:"axis",hidden:!1},{name:"lHeight",hidden:!1},{name:"autoCompletion",hidden:!1},{name:"tableFooterRepeat",hidden:!1}],default:{fontFamily:void 0,fontSize:void 0,fontWeight:"",textAlign:void 0,tableBorder:void 0,tableHeaderBorder:void 0,tableHeaderCellBorder:void 0,tableHeaderBackground:void 0,tableHeaderRowHeight:void 0,tableHeaderFontWeight:void 0,tableBodyCellBorder:void 0,tableFooterBorder:void 0,tableFooterCellBorder:void 0,tableBodyRowHeight:void 0,letterSpacing:"",lineHeight:void 0,width:550}},this.hline={supportOptions:[{name:"borderColor",hidden:!1},{name:"borderWidth",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"borderStyle",hidden:!1}],default:{borderWidth:.75,height:9,width:90}},this.vline={supportOptions:[{name:"borderColor",hidden:!1},{name:"borderWidth",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"borderStyle",hidden:!1}],default:{borderWidth:void 0,height:90,width:9}},this.rect={supportOptions:[{name:"borderColor",hidden:!1},{name:"borderWidth",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"borderStyle",hidden:!1}],default:{borderWidth:void 0,height:90,width:90}},this.oval={supportOptions:[{name:"borderColor",hidden:!1},{name:"borderWidth",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"borderStyle",hidden:!1}],default:{borderWidth:void 0,height:90,width:90}},this.html={supportOptions:[{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"formatter",hidden:!1}],default:{height:90,width:90}},this.tableColumn={supportOptions:[{name:"title",hidden:!1},{name:"align",hidden:!1},{name:"halign",hidden:!1},{name:"vAlign",hidden:!1},{name:"paddingLeft",hidden:!1},{name:"paddingRight",hidden:!1},{name:"formatter2",hidden:!1},{name:"tableSummary",hidden:!1},{name:"styler2",hidden:!1},{name:"tableTextType",hidden:!1},{name:"tableBarcodeMode",hidden:!1},{name:"tableQRCodeLevel",hidden:!1},{name:"tableColumnHeight",hidden:!1}],default:{height:90,width:90}}}return t.prototype.init=function(t){t&&$.extend(this,t)},t.prototype.on=function(t,e){hinnn.event.on(t,e)},t.prototype.clear=function(t){hinnn.event.clear(t)},t.prototype.registerItems=function(t){t.forEach((function(t){i.a.registerItem(new t)}))},Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t,window.HIPRINT_CONFIG&&$.extend(t._instance,HIPRINT_CONFIG),t._instance.optionItems&&t._instance.optionItems.forEach((function(t){i.a.registerItem(new t)}))),t._instance},enumerable:!0,configurable:!0}),t}()},function(t,e,n){var i=function(){function t(t){this.printElement=t}return t.prototype.updatePosition=function(t,e){this.left=t,this.top=e},t}();n.d(e,"a",(function(){return o}));var o=function(){function t(){this.printTemplateContainer={},this.A1={width:841,height:594},this.A2={width:420,height:594},this.A3={width:420,height:297},this.A4={width:210,height:297},this.A5={width:210,height:148},this.A6={width:105,height:148},this.A7={width:105,height:74},this.A8={width:52,height:74},this.B1={width:1e3,height:707},this.B2={width:500,height:707},this.B3={width:500,height:353},this.B4={width:250,height:353},this.B5={width:250,height:176},this.B6={width:125,height:176},this.B7={width:125,height:88},this.B8={width:62,height:88},this.dragLengthCNum=function(t,e){var n=.75*t;return e&&(e=e),Math.round(n/e)*e}}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.getDragingPrintElement=function(){return t.instance.dragingPrintElement},t.prototype.setDragingPrintElement=function(e){t.instance.dragingPrintElement=new i(e)},t.prototype.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},t.prototype.imageToBase64=function(t){if(-1==$(t).attr("src").indexOf("base64"))try{var e=document.createElement("canvas"),n=new Image;n.src=t.attr("src"),e.width=n.width,e.height=n.height,e.getContext("2d").drawImage(n,0,0),t.attr("src",e.toDataURL("image/png"))}catch(e){try{this.xhrLoadImage(t)}catch(t){console.log(t)}}},t.prototype.xhrLoadImage=function(t){},t.prototype.transformImg=function(t){var e=this;t.map((function(t,n){e.imageToBase64($(n))}))},t.prototype.getPrintTemplateById=function(e){return t.instance.printTemplateContainer[e]},t.prototype.setPrintTemplateById=function(e,n){return t.instance.printTemplateContainer[e]=n},t}()},function(t,e,n){var i=function(){return function(){}}();n.d(e,"a",(function(){return o}));var o=function(){function t(t){t=t||{},this.left=t.left,this.top=t.top,this.topInDesign=this.top,this.height=t.height,this.width=t.width,this.transform=t.transform,this.init(t)}return t.prototype.setDefault=function(t){this.defaultOptions=t,this.initSize()},t.prototype.initSize=function(){this.width||this.setWidth(this.defaultOptions.width),this.height||this.setHeight(this.defaultOptions.height)},t.prototype.initSizeByHtml=function(t,e){this.width||this.setWidth(t),this.height||this.setHeight(e)},t.prototype.getRectInfo=function(){var t={w:0,h:0,diffW:0,diffH:0};if(this.transform){var e=this.transform*Math.PI/180,n=this.width,i=this.height,o=Math.sin(e),r=Math.cos(e),a=Math.abs(n*r)+Math.abs(i*o),s=Math.abs(n*o)+Math.abs(i*r),p=(n-a)/2,l=(i-s)/2;t.w=a,t.h=s,t.diffW=p,t.diffH=l}return t},t.prototype.getLeft=function(){return this.left},t.prototype.posLeft=function(){var t=this.left;return this.transform&&(t+=this.getRectInfo().diffW),Math.floor(10*t)/10},t.prototype.setRotate=function(t){null!=t&&(this.transform=t)},t.prototype.displayLeft=function(t){return this.transform&&t?this.left+this.getRectInfo().diffW+"pt":this.left+"pt"},t.prototype.setLeft=function(t){null!=t&&(this.left=t)},t.prototype.getTop=function(){return this.top},t.prototype.posTop=function(){var t=this.top;return this.transform&&(t+=this.getRectInfo().diffH),Math.floor(10*t)/10},t.prototype.getTopInDesign=function(){return this.topInDesign},t.prototype.displayTop=function(t){return this.transform&&t?this.top+this.getRectInfo().diffH+"pt":this.top+"pt"},t.prototype.setTop=function(t){null!=t&&(this.top=t)},t.prototype.copyDesignTopFromTop=function(){this.topInDesign=this.top},t.prototype.getHeight=function(){if(this.transform){var t=this.getRectInfo();return t.h+t.diffH}return this.height},t.prototype.displayHeight=function(){return this.height+"pt"},t.prototype.setHeight=function(t){null!=t&&(this.height=t)},t.prototype.getWidth=function(){if(this.transform){var t=this.getRectInfo();return t.w+t.diffW}return this.width},t.prototype.displayWidth=function(){return this.width+"pt"},t.prototype.setWidth=function(t){null!=t&&(this.width=t)},t.prototype.getValueFromOptionsOrDefault=function(t){return null==this[t]?this.defaultOptions[t]:this[t]},t.prototype.getPrintElementOptionEntity=function(){var t=new i,e=this;return Object.keys(this).filter((function(t){return"topInDesign"!=t})).forEach((function(n){if("number"!=typeof e[n]&&"string"!=typeof e[n]&&!["fields"].includes(n)&&_typeof(e[n])!=_typeof(!0)||(t[n]=e[n]),"style"==n){t.style={};var i=e[n];i&&Object.keys(i).forEach((function(e){"number"!=typeof i[e]&&"string"!=typeof i[e]||(t.style[e]=i[e])}))}})),t},t.prototype.init=function(t){var e=this;t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))},t}()},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",(function(){return BasePrintElement}));var _entity_PrintElementEntity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_print_element_option_PrintElementOptionItemManager__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_PrintReferenceElement__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2),BasePrintElement=function(){function BasePrintElement(t){this.printElementType=t,this.id=_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.guid()}return BasePrintElement.prototype.getConfigOptionsByName=function(t){return _HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance[t]},BasePrintElement.prototype.getProxyTarget=function(t){t&&this.SetProxyTargetOption(t);var e=this.getData(),n=this.createTarget(this.getTitle(),e);return this.updateTargetSize(n),this.css(n,e),n},BasePrintElement.prototype.SetProxyTargetOption=function(t){this.options.getPrintElementOptionEntity(),$.extend(this.options,t),this.copyFromType()},BasePrintElement.prototype.showInPage=function(t,e){var n=this.options.showInPage,i=this.options.unShowInPage;if(n){if("first"==n)return 0==t;if(t==e-1&&"last"==i)return!1;if("odd"==n)return(0!=t||"first"!=i)&&t%2==0;if("even"==n)return t%2==1;if("last"==n)return t==e-1}return(0!=t||"first"!=i)&&(t!=e-1||"last"!=i)},BasePrintElement.prototype.setTemplateId=function(t){this.templateId=t},BasePrintElement.prototype.setPanel=function(t){this.panel=t},BasePrintElement.prototype.getField=function(){return this.options.field||this.printElementType.field},BasePrintElement.prototype.getTitle=function(){return this.printElementType.title},BasePrintElement.prototype.updateSizeAndPositionOptions=function(t,e,n,i){this.options.setLeft(t),this.options.setTop(e),this.options.copyDesignTopFromTop(),this.options.setWidth(n),this.options.setHeight(i)},BasePrintElement.prototype.initSizeByHtml=function(t){if(t&&t.length){this.createTempContainer();var e=t.clone();this.getTempContainer().append(e),this.options.initSizeByHtml(parseInt(_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__.a.px.toPt(e.width()).toString()),parseInt(_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__.a.px.toPt(e.height()).toString())),this.removeTempContainer()}},BasePrintElement.prototype.updateTargetSize=function(t){t.css("width",this.options.displayWidth()),t.css("height",this.options.displayHeight())},BasePrintElement.prototype.updateTargetWidth=function(t){t.css("width",this.options.displayWidth())},BasePrintElement.prototype.getDesignTarget=function(t){var e=this;return this.designTarget=this.getHtml(t)[0].target,this.designPaper=t,this.designTarget.click((function(){_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__.a.event.trigger(e.getPrintElementSelectEventKey(),{printElement:e})})),this.designTarget},BasePrintElement.prototype.getPrintElementSelectEventKey=function(){return"PrintElementSelectEventKey_"+this.templateId},BasePrintElement.prototype.design=function(t,e){var n=this;this.designTarget.hidraggable({draggable:n.options.draggable,axis:n.options.axis?n.options.axis:void 0,designTarget:n,onDrag:function(t,i,o){var r=n.panel.printElements.filter((function(t){return"block"==t.designTarget.children().last().css("display")&&!t.printElementType.type.includes("table")})),a=r.length>1;if(a){var s=i-n.options.left,p=o-n.options.top;r.forEach((function(t){t.updateSizeAndPositionOptions(s+t.options.getLeft(),p+t.options.getTop()),t.designTarget.css("left",t.options.displayLeft()),t.designTarget.css("top",t.options.displayTop()),t.createLineOfPosition(e)}))}else n.updateSizeAndPositionOptions(i,o),n.createLineOfPosition(e);_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.changed=!0},moveUnit:"pt",minMove:_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.movingDistance,onBeforeDrag:function(t){_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.draging=!0,n.designTarget.focus(),n.createLineOfPosition(e)},getScale:function(){return n.designPaper.scale||1},onStopDrag:function(t){_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.changed&&_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__.a.event.trigger("hiprintTemplateDataChanged_"+n.templateId,"移动"),_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.draging=!1,_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.changed=!1;var e=n.panel.printElements.filter((function(t){return"block"==t.designTarget.children().last().css("display")&&!t.printElementType.type.includes("table")}));e.length>1?e.forEach((function(t){t.removeLineOfPosition()})):n.removeLineOfPosition()}}),this.setResizePanel(),this.bingCopyEvent(this.designTarget),this.bingKeyboardMoveEvent(this.designTarget,e)},BasePrintElement.prototype.getPrintElementEntity=function(t){return t?new _entity_PrintElementEntity__WEBPACK_IMPORTED_MODULE_0__.a(void 0,this.options.getPrintElementOptionEntity(),this.printElementType.getPrintElementTypeEntity()):new _entity_PrintElementEntity__WEBPACK_IMPORTED_MODULE_0__.a(this.printElementType.tid,this.options.getPrintElementOptionEntity())},BasePrintElement.prototype.submitOption=function(){var t=this,e=this.getConfigOptions();e&&e.tabs&&e.tabs.length?this.getPrintElementOptionTabs().forEach((function(e){e.list.forEach((function(e){var n=e.getValue(),i="textType"==e.name&&t.options[e.name]!==n,o="axis"==e.name&&t.options[e.name]!==n;n&&"object"==_typeof(n)?Object.keys(n).forEach((function(e){t.options[e]=n[e]})):t.options[e.name]=n,i&&t.setResizePanel(),o&&t.designTarget.hidraggable("update",{axis:n})}))})):this.getPrintElementOptionItems().forEach((function(e){var n=e.getValue(),i="textType"==e.name&&t.options[e.name]!==n,o="axis"==e.name&&t.options[e.name]!==n;n&&"object"==_typeof(n)?Object.keys(n).forEach((function(e){t.options[e]=n[e]})):t.options[e.name]=n,i&&t.setResizePanel(),o&&t.designTarget.hidraggable("update",{axis:n})})),this.updateDesignViewFromOptions(),_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__.a.event.trigger("hiprintTemplateDataChanged_"+this.templateId,"元素修改")},BasePrintElement.prototype.updateOption=function(t,e,n){try{var i=this.getConfigOptions(),o=[];i&&i.tabs&&i.tabs.length?i.tabs.forEach((function(t){t.options.forEach((function(t){o.push(t.name)}))})):o=i.supportOptions.map((function(t){return t.name})),o&&o.includes(t)&&(this.options[t]=e,this.updateDesignViewFromOptions(),n||_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__.a.event.trigger("hiprintTemplateDataChanged_"+this.templateId,"参数修改"))}catch(i){console.log("updateOption error",i)}},BasePrintElement.prototype.getReizeableShowPoints=function(){return["barcode","qrcode"].includes(this.options.textType)?["se","r"]:["s","e","r"]},BasePrintElement.prototype.setResizePanel=function(){var t=this,e=this.designPaper;this.designTarget.hireizeable({showPoints:t.getReizeableShowPoints(),showSizeBox:_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.showSizeBox,getScale:function(){return t.designPaper.scale||1},onBeforeResize:function(){_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.draging=!0},onResize:function(n,i,o,r,a,s){void 0!=s?t.onRotate(n,s):t.onResize(n,i,o,r,a),t.createLineOfPosition(e)},onStopResize:function(e){_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__.a.event.trigger("hiprintTemplateDataChanged_"+t.templateId,e?"旋转":"大小"),_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.draging=!1,t.removeLineOfPosition()}})},BasePrintElement.prototype.onRotate=function(t,e){this.options.setRotate(e)},BasePrintElement.prototype.onResize=function(t,e,n,i,o){this.updateSizeAndPositionOptions(o,i,n,e)},BasePrintElement.prototype.getOrderIndex=function(){return this.options.getTop()},BasePrintElement.prototype.getHtml=function(t,e,n){var i=0;this.setCurrenttemplateData(e);var o=[],r=this.getBeginPrintTopInPaperByReferenceElement(t),a=t.getPaperFooter(i);this.isHeaderOrFooter()||this.isFixed()||r>a&&"none"!=t.panelPageRule&&(o.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__.a({target:void 0,printLine:void 0})),r=r-a+t.paperHeader,i++,a=t.getPaperFooter(i));var s=this.getData(e),p=this.createTarget(this.getTitle(),s,n);return this.updateTargetSize(p),this.css(p,s),p.css("position","absolute"),p.css("left",this.options.displayLeft()),p.css("top",r+"pt"),o.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__.a({target:p,printLine:r+this.options.getHeight()})),o},BasePrintElement.prototype.getHtml2=function(t,e,n){var i=0;this.setCurrenttemplateData(e);var o=[],r=this.getBeginPrintTopInPaperByReferenceElement(t),a=t.getPaperFooter(i);this.isHeaderOrFooter()||this.isFixed()||("none"!=t.panelPageRule&&r>a&&(o.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__.a({target:void 0,printLine:void 0})),r=r-a+t.paperHeader,i++,a=t.getPaperFooter(i)),r<=a&&r+this.options.getHeight()>a&&"none"!=t.panelPageRule&&(o.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__.a({target:void 0,printLine:void 0})),r=t.paperHeader,i++,a=t.getPaperFooter(i)));var s=this.getData(e),p=this.createTarget(this.getTitle(),s);return"none"==t.panelPageRule&&r+this.options.getHeight()>a&&this.updatePanelHeight(r+this.options.getHeight(),t),this.updateTargetSize(p),this.css(p,s),p.css("position","absolute"),p.css("left",this.options.displayLeft()),p.css("top",r+"pt"),o.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_3__.a({target:p,printLine:r+this.options.getHeight(),referenceElement:new _PrintReferenceElement__WEBPACK_IMPORTED_MODULE_5__.a({top:this.options.getTop(),left:this.options.getLeft(),height:this.options.getHeight(),width:this.options.getWidth(),beginPrintPaperIndex:t.index,bottomInLastPaper:r+this.options.getHeight(),printTopInPaper:r})})),o},BasePrintElement.prototype.updatePanelHeight=function(t,e){if("none"==this.panel.panelPageRule){var n=_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__.a.pt.toMm(t);e.paperFooter=t,e.target.css("height",n+"mm"),e.target.attr("original-height",n)}},BasePrintElement.prototype.getBeginPrintTopInPaperByReferenceElement=function(t){var e=this.options.getTop(),n=this.options.getHeight();return this.isHeaderOrFooter()||this.isFixed()?e:t.referenceElement.isPositionLeftOrRight(e,n)?t.referenceElement.printTopInPaper+(e-t.referenceElement.top):t.referenceElement.bottomInLastPaper+(e-(t.referenceElement.top+t.referenceElement.height))},BasePrintElement.prototype.css=function(t,e){var n,i=this,o=[],r=this.getConfigOptions();r&&(r.tabs&&r.tabs.length?(n=[],r.tabs.forEach((function(t){n=n.concat(t.options)}))):n=r.supportOptions,n&&n.forEach((function(e){var n=_print_element_option_PrintElementOptionItemManager__WEBPACK_IMPORTED_MODULE_2__.a.getItem(e.name);if(n&&n.css){var r=n.css(t,i.options.getValueFromOptionsOrDefault(e.name));r&&o.push(r)}})));this.stylerCss(t,e)},BasePrintElement.prototype.stylerCss=function(t,e){var n=this.getStyler();if(n){var i=n(e,this.options,t,this._currenttemplateData);i&&Object.keys(i).forEach((function(e){t.css(e,i[e])}))}},BasePrintElement.prototype.getData=function(t){var e=this.getField();return t?e&&e.split(".").reduce((e,n)=>e?e[n]:t?t[n]:"",!1)||"":this.printElementType.getData()},BasePrintElement.prototype.copyFromType=function(){var t=this.options,e=this.printElementType,n=this.getConfigOptions(),i=[];return n&&n.tabs&&n.tabs.length?n.tabs.forEach((function(t){t.options.forEach((function(t){i.push(t.name)}))})):i=n.supportOptions.map((function(t){return t.name})),Object.keys(e).forEach((function(n){e[n]&&"columns"!=n&&i.indexOf(n)>-1&&(t[n]="function"==_typeof(e[n])?e[n].toString():e[n])})),t},BasePrintElement.prototype.getPrintElementOptionTabs=function(){if(this._printElementOptionTabs)return this._printElementOptionTabs;var t=[],e=this.getConfigOptions();if(e){var n=e.tabs;n&&n.forEach((function(e,n){t.push({name:e.name,list:[]}),e.options.filter((function(t){return!t.hidden})).forEach((function(e){var i=_print_element_option_PrintElementOptionItemManager__WEBPACK_IMPORTED_MODULE_2__.a.getItem(e.name);t[n].list.push(i)}))}))}return this._printElementOptionTabs=t,this._printElementOptionItems=void 0,this._printElementOptionTabs},BasePrintElement.prototype.getPrintElementOptionItems=function(){if(this._printElementOptionItems)return this._printElementOptionItems;var t,e=[],n=this.getConfigOptions();n&&(n.tabs&&n.tabs.length?(t=[],n.tabs.forEach((function(t){t=t.concat(t.options)}))):t=n.supportOptions,t&&t.filter((function(t){return!t.hidden})).forEach((function(t){var n=_print_element_option_PrintElementOptionItemManager__WEBPACK_IMPORTED_MODULE_2__.a.getItem(t.name);e.push(n)})));return this._printElementOptionItems=this.filterOptionItems(e.concat()),this._printElementOptionTabs=void 0,this._printElementOptionItems},BasePrintElement.prototype.getPrintElementOptionItemsByName=function(t){var e,n=[],i=this.getConfigOptionsByName(t);i&&(i.tabs&&i.tabs.length?(e=[],i.tabs.forEach((function(t){e=e.concat(t.options)}))):e=i.supportOptions,e&&e.filter((function(t){return!t.hidden})).forEach((function(t){var e=_print_element_option_PrintElementOptionItemManager__WEBPACK_IMPORTED_MODULE_2__.a.getItem(t.name);n.push(e)})));return n.concat()},BasePrintElement.prototype.filterOptionItems=function(t){return this.printElementType.field?t.filter((function(t){return"field"!=t.name})):t},BasePrintElement.prototype.createTempContainer=function(){this.removeTempContainer(),$("body").append($('<div class="hiprint_temp_Container hiprint-printPaper" style="overflow:hidden;height: 0px;box-sizing: border-box;"></div>'))},BasePrintElement.prototype.removeTempContainer=function(){$(".hiprint_temp_Container").remove()},BasePrintElement.prototype.getTempContainer=function(){return $(".hiprint_temp_Container")},BasePrintElement.prototype.isHeaderOrFooter=function(){return this.options.getTopInDesign()<this.panel.paperHeader||this.options.getTopInDesign()>=this.panel.paperFooter},BasePrintElement.prototype.delete=function(){this.designTarget&&this.designTarget.remove()},BasePrintElement.prototype.setCurrenttemplateData=function(t){this._currenttemplateData=t},BasePrintElement.prototype.isFixed=function(){return this.options.fixed},BasePrintElement.prototype.onRendered=function(t,e){this.printElementType&&this.printElementType.onRendered&&this.printElementType.onRendered(e,this.options,t.getTarget())},BasePrintElement.prototype.createLineOfPosition=function(t){var e=$(".toplineOfPosition.id"+this.id),n=$(".topPosition.id"+this.id),i=$(".leftlineOfPosition.id"+this.id),o=$(".leftPosition.id"+this.id),r=$(".rightlineOfPosition.id"+this.id),a=$(".bottomlineOfPosition.id"+this.id),s=_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance;if(e.length)e.css("top",this.options.displayTop(!0));else{e=$('<div class="toplineOfPosition id'+this.id+'" style="position: absolute; width: 100%;"></div>');e.css("top",this.options.displayTop(!0)),e.css("width",t.displayWidth()),this.designTarget.parents(".hiprint-printPaper-content").append(e)}if(s.showPosition)if(n.length)n.toggleClass("topPosition-lineMode",s.positionLineMode),n.text(this.options.posTop()+(s.positionUnit?"pt":"")),n.css("top",this.options.posTop()-n.height()+"pt"),s.positionLineMode?n.css("left",this.options.posLeft()-n.width()/2+"pt"):n.css("left",this.options.posLeft()+2+"pt"),this.designTarget.find(".size-box")&&this.designTarget.find(".size-box").toggleClass("hide",!0);else{n=$('<div class="topPosition id'+this.id+'" style="position: absolute;"></div>');n.toggleClass("topPosition-lineMode",s.positionLineMode),n.text(this.options.posTop()+(s.positionUnit?"pt":"")),s.positionLineMode?n.css("left",this.options.posLeft()-n.width()/2+"pt"):n.css("left",this.options.posLeft()+2+"pt"),this.designTarget.find(".size-box")&&this.designTarget.find(".size-box").toggleClass("hide",!0),this.designTarget.parents(".hiprint-printPaper-content").append(n),n.css("top",this.options.posTop()-n.height()+"pt")}if(i.length)i.css("left",this.options.displayLeft(!0));else{var p=$('<div class="leftlineOfPosition id'+this.id+'" style="position: absolute;height: 100%;"></div>');p.css("left",this.options.displayLeft(!0)),p.css("height",t.displayHeight()),this.designTarget.parents(".hiprint-printPaper-content").append(p)}if(s.showPosition)if(o.length)o.text(this.options.posLeft()+(s.positionUnit?"pt":"")),o.toggleClass("leftPosition-lineMode",s.positionLineMode),o.css("left",this.options.posLeft()-o.width()+"pt"),s.positionLineMode?o.css("top",this.options.posTop()-o.height()/3+"pt"):o.css("top",this.options.posTop()+2+"pt");else{o=$('<div class="leftPosition id'+this.id+'" style="position: absolute;"></div>');o.text(this.options.posLeft()+(s.positionUnit?"pt":"")),o.toggleClass("leftPosition-lineMode",s.positionLineMode),s.positionLineMode?o.css("top",this.options.posTop()-o.height()/3+"pt"):o.css("top",this.options.posTop()+2+"pt"),this.designTarget.parents(".hiprint-printPaper-content").append(o),o.css("left",this.options.posLeft()-o.width()+"pt")}if(r.length)r.css("left",this.options.getLeft()+this.options.getWidth()+"pt");else{var l=$('<div class="rightlineOfPosition id'+this.id+'" style="position: absolute;height: 100%;"></div>');l.css("left",this.options.getLeft()+this.options.getWidth()+"pt"),l.css("height",t.displayHeight()),this.designTarget.parents(".hiprint-printPaper-content").append(l)}if(a.length)a.css("top",this.options.getTop()+this.options.getHeight()+"pt");else{var d=$('<div class="bottomlineOfPosition id'+this.id+'" style="position: absolute;width: 100%;"></div>');d.css("top",this.options.getTop()+this.options.getHeight()+"pt"),d.css("width",t.displayWidth()),this.designTarget.parents(".hiprint-printPaper-content").append(d)}},BasePrintElement.prototype.removeLineOfPosition=function(){$(".toplineOfPosition.id"+this.id).remove(),$(".topPosition.id"+this.id).remove(),this.designTarget.find(".size-box")&&this.designTarget.find(".size-box").toggleClass("hide",!1),$(".leftlineOfPosition.id"+this.id).remove(),$(".leftPosition.id"+this.id).remove(),$(".rightlineOfPosition.id"+this.id).remove(),$(".bottomlineOfPosition.id"+this.id).remove()},BasePrintElement.prototype.getFontList=function(){var t=this.options.fontList;return t||_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.getPrintTemplateById(this.templateId).getFontList()},BasePrintElement.prototype.getFields=function(){var t=this.options.fields;return t||_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.getPrintTemplateById(this.templateId).getFields()},BasePrintElement.prototype.getOnImageChooseClick=function(){var t=this.options.onImageChooseClick;return t||_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.getPrintTemplateById(this.templateId).getOnImageChooseClick()},BasePrintElement.prototype.bingCopyEvent=function(t){var e=this;t.keydown((function(t){(t.ctrlKey||t.metaKey)&&67==t.keyCode&&(e.copyJson(),t.preventDefault())}))},BasePrintElement.prototype.copyJson=function(){try{var t=this,e=$("#copyArea");e.length||(e=$('<textarea id="copyArea" style="position: absolute; left: 0px; top: 0px;opacity: 0"></textarea>')),$("body").append(e);var n=JSON.stringify({options:t.options,printElementType:t.printElementType,id:t.id,templateId:t.templateId});e.text(n),e.css("visibility","visible"),e.focus(),e.setSelectionRange?e.setSelectionRange(0,e.value.length):e.select();var i=!1;i=document.execCommand("copy"),e.css("visibility","hidden"),t.designTarget.focus(),console.log("copyJson success")}catch(o){i=!1,console.log("copyJson error",o)}return i},BasePrintElement.prototype.clone=function(t){var e=this;let n=e.printElementType.createPrintElement();return Object.keys(e.options).forEach((function(t){n.options[t]=e.options[t]})),n},BasePrintElement.prototype.getFormatter=function(){var formatter=void 0;if(this.printElementType.formatter&&(formatter=this.printElementType.formatter),this.options.formatter)try{var s="formatter="+this.options.formatter;eval(s)}catch(t){console.log(t)}return formatter},BasePrintElement.prototype.getStyler=function(){var fnstyler=void 0;if(this.printElementType.styler&&(fnstyler=this.printElementType.styler),this.options.styler)try{var s="fnstyler="+this.options.styler;eval(s)}catch(t){console.log(t)}return fnstyler},BasePrintElement.prototype.bingKeyboardMoveEvent=function(t,e){var n=this,i=void 0,o=void 0;t.attr("tabindex","1"),t.keydown((function(e){if("INPUT"!=e.target.tagName&&!1!==n.options.draggable){var r=n.panel.printElements.filter((function(t){return"block"==t.designTarget.children().last().css("display")&&!t.printElementType.type.includes("table")})),a=r.length>1,s=_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.movingDistance;switch(e.keyCode){case 8:case 46:var p=_HiPrintlib__WEBPACK_IMPORTED_MODULE_6__.a.instance.getPrintTemplateById(n.templateId);p.deletePrintElement(n),_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__.a.event.trigger("hiprintTemplateDataChanged_"+n.templateId,"删除"),_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__.a.event.trigger("clearSettingContainer");break;case 37:i=n.options.getLeft(),a?r.forEach((function(t){t.updatePositionByMultipleSelect(0-s,0)})):(n.updateSizeAndPositionOptions(i-s),t.css("left",n.options.displayLeft())),e.preventDefault();break;case 38:o=n.options.getTop(),a?r.forEach((function(t){t.updatePositionByMultipleSelect(0,0-s)})):(n.updateSizeAndPositionOptions(void 0,o-s),t.css("top",n.options.displayTop())),e.preventDefault();break;case 39:i=n.options.getLeft(),a?r.forEach((function(t){t.updatePositionByMultipleSelect(s,0)})):(n.updateSizeAndPositionOptions(i+s),t.css("left",n.options.displayLeft())),e.preventDefault();break;case 40:o=n.options.getTop(),a?r.forEach((function(t){t.updatePositionByMultipleSelect(0,s)})):(n.updateSizeAndPositionOptions(void 0,o+s),t.css("top",n.options.displayTop())),e.preventDefault()}[37,38,39,40].includes(e.keyCode)&&_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_4__.a.event.trigger("hiprintTemplateDataChanged_"+n.templateId,"键盘移动")}}))},BasePrintElement.prototype.inRect=function(t){var e=this.designPaper.scale||1,n=this.designTarget[0].offsetLeft,i=this.designTarget[0].offsetTop,o=this.designTarget[0].offsetHeight,r=this.designTarget[0].offsetWidth,a=n+r,s=i+o,p=$(t.target[0]).position().left/e,l=$(t.target[0]).position().top/e,d=t.target[0].offsetHeight,h=t.target[0].offsetWidth,u=p+h,c=l+d;return p<a&&u>n&&i<c&&s>l},BasePrintElement.prototype.multipleSelect=function(t){t?this.designTarget.addClass("multipleSelect"):this.designTarget.removeClass("multipleSelect")},BasePrintElement.prototype.updatePositionByMultipleSelect=function(t,e){!1!==this.options.draggable&&(this.updateSizeAndPositionOptions(t+this.options.getLeft(),e+this.options.getTop()),this.designTarget.css("left",this.options.displayLeft()),this.designTarget.css("top",this.options.displayTop()))},BasePrintElement}()},function(t,e,n){var i=function(){function t(){}return t.prototype.init=function(t){this.target=$('<input type="text" class="hitable-editor-text" value="" />'),t.getTarget().append(this.target),this.target.focus()},t.prototype.getValue=function(){return this.target.val()},t.prototype.setValue=function(t){this.target.val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),o=function(){function t(){this.text=new i}return Object.defineProperty(t,"Instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t}(),r=function(){function t(){}return t.prototype.init=function(t,e){var n='<select class="auto-submit" style="width:100%">\n                <option value="" disabled>请选择字段</option>';t.forEach((function(t,i){t.field==e.field?n+=' <option value="'+(t.field||"")+'" selected >'+(t.text||"")+"</option>":n+=' <option value="'+(t.field||"")+'" >'+(t.text||"")+"</option>"})),n+=" </select>",this.target=$(n),e.getTarget().append(this.target),this.target.focus()},t.prototype.getValue=function(){var t=this.target.val(),e=this.target.find('option[value="'+t+'"]').text();return e+"#"+t},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),a=function(){function t(){this.select=new r}return Object.defineProperty(t,"Instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t}(),s=function(){function t(){}return Object.defineProperty(t,"Instance",{get:function(){return o._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.createEditor=function(t){return $.extend({},o.Instance[t])},t.prototype.createSelect=function(t){return $.extend({},a.Instance[t])},t}(),p=n(10),l=n(14),d=n(11),h=function(){function t(){}return t.prototype.init=function(t,e){var n=this;this.tableOptions=e,this.title=t.title,this.field=t.field,t.getTarget().unbind("dblclick.hitable").bind("dblclick.hitable",(function(){t.isEditing=!0,n.beginEdit(t)}))},t.prototype.getDisplayHtml=function(){return this.title},t.prototype.beginEdit=function(t){var e=this;e.tableOptions.options.fields&&e.tableOptions.options.fields.length?(this.editor=s.Instance.createSelect("select"),t.getTarget().html(""),this.editor.init(e.tableOptions.options.fields,t),this.editor.setValue(this.field||""),$(this.editor.target).keydown((function(n){13==n.keyCode&&e.endEdit(t)})),$(this.editor.target).change((function(n){e.endEdit(t)})),$(this.editor.target).blur((function(n){e.endEdit(t)}))):(this.editor=s.Instance.createEditor("text"),t.getTarget().html(""),this.editor.init(t),(this.title||this.field)&&(this.tableOptions.options.isEnableEditField?this.editor.setValue((this.title||"")+"#"+(this.field||"")):this.editor.setValue(this.title||"")),$(this.editor.target).keydown((function(n){13==n.keyCode&&e.endEdit(t)})),$(this.editor.target).blur((function(n){e.endEdit(t)})),this.tableOptions.editingCell&&this.tableOptions.editingCell.id!=t.id&&this.tableOptions.editingCell.innerElement.endEdit(this.tableOptions.editingCell),this.tableOptions.editingCell=t)},t.prototype.endEdit=function(t){t.isEditing=0;var e=this.editor.getValue();if(e)if(this.tableOptions.options.isEnableEditField||this.tableOptions.options.fields){var n=e.split("#");t.title=this.title=n[0],n.length>0&&(t.columnId=t.field=this.field=n[1]),t.id&&t.target.attr("id",t.id),t.columnId&&t.target.attr("column-id",t.columnId)}else t.title=this.title=e;else this.tableOptions.options.isEnableEditField?(t.title=this.title="",t.field=this.field=""):t.title=this.title="";this.editor.destroy(),t.getTarget().html(this.title)},t}(),u=function(){return function(t){this.title=t.title,this.field=t.field,this.width=t.width,this.align=t.align,this.halign=t.halign,this.vAlign=t.vAlign,this.colspan=t.colspan,this.rowspan=t.rowspan,this.checked=t.checked,this.columnId=t.columnId,this.tableSummary=t.tableSummary,this.formatter2=t.formatter2,this.styler2=t.styler2,this.tableColumnHeight=t.tableColumnHeight,this.tableTextType=t.tableTextType,this.tableBarcodeMode=t.tableBarcodeMode,this.tableQRCodeLevel=t.tableQRCodeLevel}}(),c=function(){function t(){this.id=d.a.createId()}return t.prototype.init=function(t,e,n,i){this.isHead=i,this.rowId=n,this.isEditing=!1;var o=/^[0-9]*$/;this.target=t,this.tableOptions=e;var r=this.target.attr("colspan");this.colspan=o.test(r)?parseInt(r):1;var a=this.target.attr("rowspan");this.rowspan=o.test(a)?parseInt(a):1,this.initEvent(),this.isHead&&this.initInnerEelement()},t.prototype.beginEdit=function(){if(!this.isEditing&&this.tableOptions.isEnableEdit&&this.tableOptions.onBeforEdit(this)){var t=this.getValue();this.editor=s.Instance.createEditor("text"),this.isEditing=!0,this.tableOptions.editingCell=this,this.target.html(""),this.editor.init(this),this.editor.setValue(t)}},t.prototype.endEdit=function(){this.isEditing=!1;var t=this.editor.getValue();this.editor.destroy(),this.target.html(t)},t.prototype.getTarget=function(){return this.target},t.prototype.getValue=function(){return this.target.html()},t.prototype.setValue=function(t){},t.prototype.initInnerEelement=function(){this.innerElement=new h,this.innerElement.init(this,this.tableOptions)},t.prototype.initEvent=function(){},t.prototype.isXYinCell=function(t,e){var n=new p.b({x:t,y:e,height:0,width:0});return this.isOverlap(n)},t.prototype.getTableRect=function(){return new p.b({x:this.target.offset().left,y:this.target.offset().top,height:this.target[0].offsetHeight,width:this.target[0].offsetWidth})},t.prototype.isOverlap=function(t){var e=this.getTableRect();return t.x+t.width>e.x&&e.x+e.width>t.x&&t.y+t.height>e.y&&e.y+e.height>t.y},t.prototype.isInRect=function(t){var e=t.rect,n=this.getTableRect();if(n.x>=e.x&&n.x+n.width<=e.x+e.width&&n.y>=e.y&&n.y+n.height<=e.y+e.height){var i=l.a.mergeRect(e,n);return JSON.stringify(e)==JSON.stringify(i)||(t.changed=!0,t.rect=i,!0)}return!1},t.prototype.isSelected=function(){return this.target.hasClass("selected")},t.prototype.select=function(){this.target.addClass("selected")},t.prototype.isHeader=function(){return!1},t.prototype.setAlign=function(t){this.align=t,t?this.target.css("text-align",t):this.target[0].style.textAlign=""},t.prototype.setVAlign=function(t){this.vAlign=t,t?this.target.css("vertical-align",t):this.target[0].style.verticalAlign=""},t.prototype.getEntity=function(){return new u(this)},t}();n.d(e,"a",(function(){return m}));var f,g=(f=function(t,e){return(f=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(t){function e(e){var n=this;return e=e||{},(n=t.call(this)||this).width=e.width?parseFloat(e.width.toString()):100,n.title=e.title,n.descTitle=e.descTitle,n.field=e.field,n.fixed=e.fixed,n.rowspan=e.rowspan?parseInt(e.rowspan):1,n.colspan=e.colspan?parseInt(e.colspan):1,n.align=e.align,n.halign=e.halign,n.vAlign=e.vAlign,n.formatter=e.formatter,n.styler=e.styler,n.formatter2=e.formatter2,n.styler2=e.styler2,n.checkbox=e.checkbox,n.checked=0!=e.checked,n.columnId=e.columnId||e.field,n.tableColumnHeight=e.tableColumnHeight||30,n.tableTextType=e.tableTextType||"text",n.tableBarcodeMode=e.tableBarcodeMode||"CODE128A",n.tableQRCodeLevel=e.tableQRCodeLevel,n.tableSummary=e.tableSummary,n}return g(e,t),e.prototype.css=function(t){},e}(c)},function(t,e,n){n.d(e,"a",(function(){return i}));var i=function(){return function(t){this.printLine=t.printLine,this.target=t.target,this.referenceElement=t.referenceElement}}()},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",(function(){return TableExcelHelper}));var _ReconsitutionTableColumns__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),TableExcelHelper=function(){function TableExcelHelper(){}return TableExcelHelper.createTableHead=function(t,e){for(var n=TableExcelHelper.reconsitutionTableColumnTree(t),i=$("<thead></thead>"),o=TableExcelHelper.getColumnsWidth(n,e),r=function(t){var e=$("<tr></tr>");n[t].filter((function(t){return t.checked})).forEach((function(t){var n=$("<td></td>");t.id&&n.attr("id",t.id),t.columnId&&n.attr("column-id",t.columnId),(t.align||t.halign)&&n.css("text-align",t.halign||t.align),t.vAlign&&n.css("vertical-align",t.vAlign),t.colspan>1&&n.attr("colspan",t.colspan),t.rowspan>1&&n.attr("rowspan",t.rowspan),n.html(t.title),o[t.id]?(t.hasWidth=!0,t.targetWidth=o[t.id],n.attr("haswidth","haswidth"),n.css("width",o[t.id]+"pt")):t.hasWidth=!1,e.append(n)})),i.append(e)},a=0;a<n.totalLayer;a++)r(a);return TableExcelHelper.syncTargetWidthToOption(t),i},TableExcelHelper.createTableFooter=function(t,e,n,i,o,r){var a=$("<tfoot></tfoot>"),s=this.getFooterFormatter(n,i);let p="last"==n.tableFooterRepeat?e:r;if("no"!=n.tableFooterRepeat&&n.columns[0].columns.some((function(t){return t.tableSummary}))){var l=$("<tr></tr>");n.columns[0].columns.filter((function(t){return t.checked})).forEach((function(t){var e=p.filter((function(e){return e[t.field]})).map((function(e){return new RegExp("^-?(0|[1-9]\\d*)(\\.\\d+)?").test(e[t.field])?Number(e[t.field]):0}));switch(t.tableSummary){case"count":l.append(`<td style="text-align: center">计数:${p.length||0}</td>`);break;case"sum":var n=parseFloat(Number(e.reduce((function(t,e){return t+e}),0))).toFixed(2);l.append(`<td style="text-align: center">合计:${n}</td>`);break;case"avg":n=parseFloat(Number(e.reduce((function(t,e){return t+e}),0))).toFixed(2);var i=parseFloat(Number(n/(e.length||1))).toFixed(2);l.append(`<td style="text-align: center">平均值:${i}</td>`);break;case"min":var o=Math.min(...e);l.append(`<td style="text-align: center">最小值:${o||0}</td>`);break;case"max":var r=Math.max(...e);l.append(`<td style="text-align: center">最大值:${r||0}</td>`);break;default:l.append("<td></td>");break}})),a.append(l)}return s&&a.append(s(n,e,o,r)),a},TableExcelHelper.createTableRow=function(t,e,n,i){var o=TableExcelHelper.reconsitutionTableColumnTree(t),r=$("<tbody></tbody>");return e||(e=[]),i.groupFields.length?_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_1__.a.groupBy(e,i.groupFields,(function(t){var e={};return i.groupFields.forEach((function(n){return e[n]=t[n]})),e})).forEach((function(t){if(i.groupFormatter){var e=$("<tr><td colspan="+o.colspan+"></td></tr>");e.find("td").append(i.groupFormatter(t,n)),r.append(e)}if(t.rows.forEach((function(t,e){var a=TableExcelHelper.createRowTarget(o,t,n,i,e);r.append(a)})),i.groupFooterFormatter){var a=$("<tr><td colspan="+o.colspan+"></td></tr>");a.find("td").append(i.groupFooterFormatter(t,n)),r.append(a)}})):e.forEach((function(t,e){var a=TableExcelHelper.createRowTarget(o,t,n,i,e);r.append(a)})),r},TableExcelHelper.createRowTarget=function(t,e,n,i,rowIndex){var o=$("<tr></tr>"),columns=t.rowColumns.filter((function(t){return t.checked}));o.data("rowData",e),t.rowColumns.filter((function(t){return t.checked})).forEach((function(t,i){if(t.checked){var rowsColumnsMerge="";if(n.rowsColumnsMerge){eval("rowsColumnsMerge="+n.rowsColumnsMerge);var rowsColumnsArr=rowsColumnsMerge(e,t,i)||[1,1],r=$(`<td style = 'display:${rowsColumnsArr[0]&&rowsColumnsArr[1]?"":"none"}' rowspan = '${rowsColumnsArr[0]}' colspan = '${rowsColumnsArr[1]}'></td>`)}else var r=$("<td></td>");if("first"==n.tableHeaderRepeat||"none"==n.tableHeaderRepeat){if(t.field&&r.attr("field",t.field),t.align&&r.css("text-align",t.align),t.vAlign&&r.css("vertical-align",t.vAlign),n.rowsColumnsMerge&&rowsColumnsArr[1]>1){var width=0;columns.forEach((t,e)=>{e>=i&&e<i+rowsColumnsArr[1]&&(width+=t.width)})}r.css("width",(width||t.width)+"pt")}else t.field&&r.attr("field",t.field),t.align&&r.css("text-align",t.align),t.vAlign&&r.css("vertical-align",t.vAlign);var a=TableExcelHelper.getColumnFormatter(t),p=a?a(e[t.field],e,i,n):e[t.field];if("text"==t.tableTextType)r.html(p);else{if("barcode"==t.tableTextType){r.html('<svg width="100%" display="block" height="100%" class="hibarcode_imgcode" preserveAspectRatio="none slice"></svg ><div class="hibarcode_displayValue"></div>');try{p?(jsbarcode__WEBPACK_IMPORTED_MODULE_2___default()(r.find(".hibarcode_imgcode")[0],p,{format:t.tableBarcodeMode,width:1,textMargin:-1,lineColor:"#000000",margin:0,height:parseInt(10),displayValue:!1}),r.find(".hibarcode_imgcode").attr("height",t.tableColumnHeight+"pt"),r.find(".hibarcode_imgcode").css("margin","5pt 10pt"),r.find(".hibarcode_imgcode").attr("width","calc(100% - 20pt)")):r.html("")}catch(t){console.log(t),r.html("此格式不支持该文本")}}if("image"==t.tableTextType&&(r.html(""),p)){var imagebox=$('<div><img style = "max-width:100%;max-height:100%"/></div>');imagebox.find("img").attr("src",p),console.log(imagebox.find("img").css("width")),r.html(imagebox)}if("qrcode"==t.tableTextType){r.html("");try{var qrcodebox=$("<div></div>");if(p){var l=parseInt(t.width||t.targetWidth||20),u=parseInt(t.tableColumnHeight||20);qrcodebox.css("height",(l>u?u:l)+"pt"),new QRCode(qrcodebox[0],{width:l>u?u:l,height:l>u?u:l,colorDark:"#000000",useSVG:!0,correctLevel:t.tableQRCodeLevel}).makeCode(p),r.html(qrcodebox)}}catch(t){console.log(t),r.html("二维码生成失败")}}"sequence"===t.tableTextType&&r.html(rowIndex+1)}var s=TableExcelHelper.getColumnStyler(t);if(s){var l=s(e[t.field],e,i,n);l&&Object.keys(l).forEach((function(t){r.css(t,l[t])}))}o.append(r)}}));var r=TableExcelHelper.getRowStyler(n,i);if(r){var a=r(e,n);a&&Object.keys(a).forEach((function(t){o.css(t,a[t])}))}return o},TableExcelHelper.createEmptyRowTarget=function(t){var e=TableExcelHelper.reconsitutionTableColumnTree(t),n=$("<tr></tr>");return e.rowColumns.filter((function(t){return t.checked})).forEach((function(t,e){var i=$("<td></td>");t.field&&i.attr("field",t.field),t.align&&i.css("text-align",t.align),t.vAlign&&i.css("vertical-align",t.vAlign),n.append(i)})),n},TableExcelHelper.getColumnsWidth=function(t,e){var n={},i=TableExcelHelper.allAutoWidth(t),o=TableExcelHelper.allFixedWidth(t);return t.rowColumns.filter((function(t){return t.checked})).forEach((function(t){if(t.fixed)n[t.id]=t.width;else{var r=e-o,a=t.width/i*(r>0?r:0);n[t.id]=a}})),n},TableExcelHelper.resizeTableCellWidth=function(t,e,n){var i=TableExcelHelper.reconsitutionTableColumnTree(e),o=TableExcelHelper.getColumnsWidth(i,n);t.find("thead tr td[haswidth]").map((function(t,e){var n=$(e).attr("id"),i=o[n];$(e).css("width",i+"pt")}))},TableExcelHelper.allAutoWidth=function(t){var e=0;return t.rowColumns.filter((function(t){return t.checked})).forEach((function(t){e+=t.fixed?0:t.width})),e},TableExcelHelper.allFixedWidth=function(t){var e=0;return t.rowColumns.filter((function(t){return t.checked})).forEach((function(t){e+=t.fixed?t.width:0})),e},TableExcelHelper.reconsitutionTableColumnTree=function(t,e,n){var i=e||new _ReconsitutionTableColumns__WEBPACK_IMPORTED_MODULE_0__.a;i.colspan=0;for(var o=function(e){i.totalLayer=e+1,i[e]=t[e].columns,0==e&&t[e].columns.forEach((function(t){0==e&&(i.colspan+=t.colspan)}))},r=0;r<t.length;r++)o(r);return i.rowColumns=TableExcelHelper.getOrderdColumns(i),i},TableExcelHelper.syncTargetWidthToOption=function(t){t.forEach((function(t){t.columns.forEach((function(t){t.hasWidth&&(t.width=t.targetWidth)}))}))},TableExcelHelper.getFooterFormatter=function(options,tablePrintElementType){var footerFormatter=void 0;if(tablePrintElementType.footerFormatter&&(footerFormatter=tablePrintElementType.footerFormatter),options.footerFormatter)try{var s="footerFormatter="+options.footerFormatter;eval(s)}catch(t){console.log(t)}return footerFormatter},TableExcelHelper.getRowStyler=function(options,tablePrintElementType){var rowStyler=void 0;if(tablePrintElementType.rowStyler&&(rowStyler=tablePrintElementType.rowStyler),options.rowStyler)try{var s="rowStyler="+options.rowStyler;eval(s)}catch(t){console.log(t)}return rowStyler},TableExcelHelper.getColumnStyler=function(column){var styler=void 0;if(column.styler&&(styler=column.styler),column.styler2)try{var s="styler="+column.styler2;eval(s)}catch(t){console.log(t)}return styler},TableExcelHelper.getColumnFormatter=function(column){var formatter=void 0;if(column.formatter&&(formatter=column.formatter),column.formatter2)try{var s="formatter="+column.formatter2;eval(s)}catch(t){console.log(t)}return formatter},TableExcelHelper.getOrderdColumns=function(t){for(var e={},n=function(n){t[n].forEach((function(t){for(var i=0;i<t.rowspan;i++)e[n+i]=e[n+i]?e[n+i]:[],e[n+i].push(t)}))},i=0;i<t.totalLayer;i++)n(i);return e[t.totalLayer-1]},TableExcelHelper}()},function(t,e,n){n.d(e,"a",(function(){return i}));var i=function(){function t(t){this.top=t.top,this.left=t.left,this.height=t.height,this.width=t.width,this.bottomInLastPaper=t.bottomInLastPaper,this.beginPrintPaperIndex=t.beginPrintPaperIndex,this.printTopInPaper=t.printTopInPaper,this.endPrintPaperIndex=t.endPrintPaperIndex}return t.prototype.isPositionLeftOrRight=function(t,e){return this.top<=t&&this.top+e>t},t}()},function(t,e,n){var i=function(){function t(){this.name="lineHeight"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("line-height",e+"pt"),"line-height:"+e+"pt";t[0].style.lineHeight=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        字体行高\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        <option value="22.5" >22.5pt</option>\n        <option value="23.25" >23.25pt</option>\n        <option value="24" >24pt</option>\n        <option value="24.75" >24.75pt</option>\n        <option value="25.5" >25.5pt</option>\n        <option value="26.25" >26.25pt</option>\n        <option value="27" >27pt</option>\n        <option value="27.75" >27.75pt</option>\n        <option value="28.5" >28.5pt</option>\n        <option value="29.25" >29.25pt</option>\n        <option value="30" >30pt</option>\n        <option value="30.75" >30.75pt</option>\n        <option value="31.5" >31.5pt</option>\n        <option value="32.25" >32.25pt</option>\n        <option value="33" >33pt</option>\n        <option value="33.75" >33.75pt</option>\n        <option value="34.5" >34.5pt</option>\n        <option value="35.25" >35.25pt</option>\n        <option value="36" >36pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),o=function(){function t(){this.name="fontFamily"}return t.prototype.createTarget=function(t){var e=void 0;if(t&&(e=t.getFontList()),e){var n=' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        字体\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>';e.forEach((function(t,e){n+=' <option value="'+(t.value||"")+'" >'+(t.title||"")+"</option>"})),n+=" </select>\n            </div>\n        </div>",this.target=$(n)}else this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        字体\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n            <option value="SimSun" >宋体</option>\n            <option value="Microsoft YaHei" >微软雅黑</option>\n        </select>\n        </div>\n    </div>');return this.target},t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("font-family",e),"font-family:"+e;t[0].style.fontFamily="inherit"}return null},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),r=function(){function t(){this.name="fontSize"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("font-size",e+"pt"),"font-size:"+e+"pt";t[0].style.fontSize=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        字体大小\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),a=function(){function t(){this.name="fontWeight"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("font-weight",e),"font-weight:"+e;t[0].style.fontWeight=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        字体粗细\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="lighter" >更细</option>\n        <option value="bold" >粗体</option>\n        <option value="bolder" >粗体+</option>\n            <option value="100" >100</option>\n            <option value="200" >200</option>\n            <option value="300" >300</option>\n            <option value="400" >400</option>\n            <option value="500" >500</option>\n            <option value="600" >600</option>\n            <option value="700" >700</option>\n            <option value="800" >800</option>\n            <option value="900" >900</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),s=function(){function t(){this.name="letterSpacing"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("letter-spacing",e+"pt"),"letter-spacing:"+e+"pt";t[0].style.letterSpacing=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        字间距\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),p=function(){function t(){this.name="textAlign"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("text-align",e),"justify"==e?(t.css("text-align-last","justify"),t.css("text-justify","distribute-all-lines")):(t[0].style.textAlignLast="",t[0].style.textJustify=""),"text-align:"+e;t[0].style.textAlign="",t[0].style.textAlignLast="",t[0].style.textJustify=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        左右对齐\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="" >居左</option>\n        <option value="center" >居中</option>\n        <option value="right" >居右</option>\n        <option value="justify" >两端对齐</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),l=function(){function t(){this.name="hideTitle"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        标题显示隐藏\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n            <option value="false" >显示</option>\n            <option value="true" >隐藏</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){if("true"==this.target.find("select").val())return!0},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),d=function(){function t(){this.name="tableBorder"}return t.prototype.css=function(t,e){if(t.find("table").length){if("border"==e||void 0==e)return t.find("table").css("border","1px solid"),"border:1px solid";"noBorder"==e?t.find("table").css("border","0px solid"):t.find("table")[0].style.border=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表格边框\n        </div>\n        <div class="hiprint-option-item-field">\n            <select class="auto-submit">\n            <option value="" >默认</option>\n            <option value="border" >有边框</option>\n            <option value="noBorder" >无边框</option>\n            </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),h=function(){function t(){this.name="tableHeaderBorder"}return t.prototype.css=function(t,e){if(t.find("thead tr").length){if("border"==e||void 0==e)return t.find("thead tr").css("border","1px solid"),"border:1pt solid";"noBorder"==e?t.find("thead tr").css("border","0px solid"):"topBorder"==e?(t.find("thead tr").css("border","0px solid"),t.find("thead tr").css("border-top","1px solid")):"bottomBorder"==e?(t.find("thead tr").css("border","0px solid"),t.find("thead tr").css("border-bottom","1px solid")):"topBottomBorder"==e?(t.find("thead tr").css("border","0px solid"),t.find("thead tr").css("border-top","1px solid"),t.find("thead tr").css("border-bottom","1px solid")):t.find("thead tr").map((function(t,e){e.style.border=""}))}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表头边框\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>    \n        <option value="border" >有边框</option>\n        <option value="noBorder" >无边框</option>\n        <option value="topBorder" >上边框</option>\n        <option value="bottomBorder" >下边框</option>\n        <option value="topBottomBorder" >上下边框</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),u=function(){function t(){this.name="tableHeaderCellBorder"}return t.prototype.css=function(t,e){if(t.find("thead tr td").length){if("border"==e||void 0==e)return t.find("thead tr td").css("border","1px solid"),"border:1px solid";"noBorder"==e?t.find("thead tr td").css("border","0px solid"):t.find("thead tr td").map((function(t,e){e.style.border=""}))}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表头单元格边框\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>    \n        <option value="border" >有边框</option>\n        <option value="noBorder" >无边框</option>\n      \n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),c=function(){function t(){this.name="tableFooterBorder"}return t.prototype.css=function(t,e){if(t.find("tfoot tr").length){if("border"==e||void 0==e)return t.find("tfoot tr").css("border","1px solid"),"border:1pt solid";"noBorder"==e?t.find("tfoot tr").css("border","0px solid"):"topBorder"==e?(t.find("tfoot tr").css("border","0px solid"),t.find("tfoot tr").css("border-top","1px solid")):"bottomBorder"==e?(t.find("tfoot tr").css("border","0px solid"),t.find("tfoot tr").css("border-bottom","1px solid")):"topBottomBorder"==e?(t.find("tfoot tr").css("border","0px solid"),t.find("tfoot tr").css("border-top","1px solid"),t.find("tfoot tr").css("border-bottom","1px solid")):t.find("tfoot tr").map((function(t,e){e.style.border=""}))}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表尾边框\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>    \n        <option value="border" >有边框</option>\n        <option value="noBorder" >无边框</option>\n        <option value="topBorder" >上边框</option>\n        <option value="bottomBorder" >下边框</option>\n        <option value="topBottomBorder" >上下边框</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),f=function(){function t(){this.name="tableFooterCellBorder"}return t.prototype.css=function(t,e){if(t.find("tfoot tr td").length){if("border"==e||void 0==e)return t.find("tfoot tr td").css("border","1px solid"),"border:1px solid";"noBorder"==e?t.find("tfoot tr td").css("border","0px solid"):t.find("tfoot tr td").map((function(t,e){e.style.border=""}))}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表尾单元格边框\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>    \n        <option value="border" >有边框</option>\n        <option value="noBorder" >无边框</option>\n      \n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),g=function(){function t(){this.name="tableHeaderRowHeight"}return t.prototype.css=function(t,e){if(t.find("thead tr td").length){if(e)return t.find("thead tr td:not([rowspan])").css("height",e+"pt"),"height:"+e+"pt";t.find("thead tr td").map((function(t,e){e.style.height=""}))}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表头行高\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n       \n        <option value="" >默认</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        <option value="22.5" >22.5pt</option>\n        <option value="23.25" >23.25pt</option>\n        <option value="24" >24pt</option>\n        <option value="24.75" >24.75pt</option>\n        <option value="25.5" >25.5pt</option>\n        <option value="26.25" >26.25pt</option>\n        <option value="27" >27pt</option>\n        <option value="27.75" >27.75pt</option>\n        <option value="28.5" >28.5pt</option>\n        <option value="29.25" >29.25pt</option>\n        <option value="30" >30pt</option>\n        <option value="30.75" >30.75pt</option>\n        <option value="31.5" >31.5pt</option>\n        <option value="32.25" >32.25pt</option>\n        <option value="33" >33pt</option>\n        <option value="33.75" >33.75pt</option>\n        <option value="34.5" >34.5pt</option>\n        <option value="35.25" >35.25pt</option>\n        <option value="36" >36pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),m=function(){function t(){this.name="tableHeaderFontSize"}return t.prototype.css=function(t,e){if(t.find("thead").length){if(e)return t.find("thead").css("font-size",e+"pt"),"font-size:"+e+"pt";t.find("thead").map((function(t,e){e.style.fontSize=""}))}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表头字体大小\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),v=function(){function t(){this.name="tableHeaderFontWeight"}return t.prototype.css=function(t,e){if(t.find("thead").length){if(e)return t.find("thead tr td").css("font-weight",e),"font-weight:"+e;t.find("thead tr td").map((function(t,e){e.style.fontWeight=""}))}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表头字体粗细\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit"> \n        <option value="" >默认</option>\n        <option value="lighter" >更细</option>\n        <option value="bold" >粗体</option>\n        <option value="bolder" >粗体+</option>\n        <option value="100" >100</option>\n        <option value="200" >200</option>\n        <option value="300" >300</option>\n        <option value="400" >400</option>\n        <option value="500" >500</option>\n        <option value="600" >600</option>\n        <option value="700" >700</option>\n        <option value="800" >800</option>\n        <option value="900" >900</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),y=function(){function t(){this.name="tableBodyCellBorder"}return t.prototype.css=function(t,e){if(t.find("tbody tr td").length){if("border"==e||void 0==e)return t.find("tbody tr td").css("border","1px solid"),"border:1px solid";"noBorder"==e?t.find("tbody tr td").css("border","0px solid"):t.find("tbody tr td").map((function(t,e){e.style.border=""}))}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n            表体单元格边框\n        </div>\n        <div class="hiprint-option-item-field">\n            <select class="auto-submit">\n            <option value="" >默认</option>\n            <option value="border" >有边框</option>\n            <option value="noBorder" >无边框</option>\n            </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),b=function(){function t(){this.name="tableBodyRowHeight"}return t.prototype.css=function(t,e){if(t.find("tbody tr td").length){if(e)return t.find("tbody tr td:not([rowspan])").css("height",e+"pt"),"height:"+e+"pt";t.find("tbody tr td").map((function(t,e){e.style.height=""}))}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n            表体行高\n        </div>\n        <div class="hiprint-option-item-field">\n            <select class="auto-submit">\n            <option value="" >默认</option>\n            <option value="6" >6pt</option>\n            <option value="6.75" >6.75pt</option>\n            <option value="7.5" >7.5pt</option>\n            <option value="8.25" >8.25pt</option>\n            <option value="9" >9pt</option>\n            <option value="9.75" >9.75pt</option>\n            <option value="10.5" >10.5pt</option>\n            <option value="11.25" >11.25pt</option>\n            <option value="12" >12pt</option>\n            <option value="12.75" >12.75pt</option>\n            <option value="13.5" >13.5pt</option>\n            <option value="14.25" >14.25pt</option>\n            <option value="15" >15pt</option>\n            <option value="15.75" >15.75pt</option>\n            <option value="16.5" >16.5pt</option>\n            <option value="17.25" >17.25pt</option>\n            <option value="18" >18pt</option>\n            <option value="18.75" >18.75pt</option>\n            <option value="19.5" >19.5pt</option>\n            <option value="20.25" >20.25pt</option>\n            <option value="21" >21pt</option>\n            <option value="21.75" >21.75pt</option>\n            <option value="22.5" >22.5pt</option>\n            <option value="23.25" >23.25pt</option>\n            <option value="24" >24pt</option>\n            <option value="24.75" >24.75pt</option>\n            <option value="25.5" >25.5pt</option>\n            <option value="26.25" >26.25pt</option>\n            <option value="27" >27pt</option>\n            <option value="27.75" >27.75pt</option>\n            <option value="28.5" >28.5pt</option>\n            <option value="29.25" >29.25pt</option>\n            <option value="30" >30pt</option>\n            <option value="30.75" >30.75pt</option>\n            <option value="31.5" >31.5pt</option>\n            <option value="32.25" >32.25pt</option>\n            <option value="33" >33pt</option>\n            <option value="33.75" >33.75pt</option>\n            <option value="34.5" >34.5pt</option>\n            <option value="35.25" >35.25pt</option>\n            <option value="36" >36pt</option>\n            </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),_=function(){function t(){this.name="tableHeaderBackground"}return t.prototype.css=function(t,e){if(t.find("thead").length){if(e)return t.find("thead").css("background",e),"background:"+e;t.find("thead").map((function(t,e){e.style.background=""}))}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表头背景\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" class="auto-submit" />\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").minicolors({defaultValue:t||"",theme:"bootstrap"}),this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),E=function(){function t(){this.name="borderWidth"}return t.prototype.createTarget=function(t){var e=["hline","vline","rect","oval"].includes(t.printElementType.type)?"线宽":"边框大小";return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        '+e+'\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-width",e+"pt"),"border-width:"+e+"pt";t[0].style.borderWidth=""}return null},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),T=function(){function t(){this.name="barcodeMode"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        条形码格式\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="CODE128A" >CODE128A</option>\n        <option value="CODE128B" >CODE128B</option>\n        <option value="CODE128C" >CODE128C</option>\n        <option value="CODE39" >CODE39</option>\n        <option value="EAN13" >EAN-13</option>\n        <option value="EAN8" >EAN-8</option>\n        <option value="EAN5" >EAN-5</option>\n        <option value="EAN2" >EAN-2</option>\n        <option value="UPC" >UPC（A）</option>\n        <option value="ITF" >ITF</option>\n        <option value="ITF14" >ITF-14</option>\n        <option value="MSI" >MSI</option>\n            <option value="MSI10" >MSI10</option>\n            <option value="MSI11" >MSI11</option>\n            <option value="MSI1010" >MSI1010</option>\n            <option value="MSI1110" >MSI1110</option>\n            <option value="Pharmacode" >Pharmacode</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return t||void 0},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),P=function(){function t(){this.name="qrCodeLevel"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        二维码容错率\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="1" >7% L</option>\n        <option value="0" >15% M</option>\n        <option value="3" >25% Q</option>\n        <option value="2" >30% H</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return parseInt(t||0)},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),w=function(){function t(){this.name="color"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("color",e),"color:"+e;t[0].style.color=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        字体颜色\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" class="auto-submit"/>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").minicolors({defaultValue:t||"",theme:"bootstrap"}),this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),x=function(){function t(){this.name="textDecoration"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        文本修饰\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n            <option value="underline" >下划线。</option>\n            <option value="overline" >上划线</option>\n            <option value="line-through" >穿梭线</option>\n           \n        </select>\n        </div>\n    </div>'),this.target},t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("text-decoration",e),"text-decoration:"+e;t[0].style.textDecoration=""}return null},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),C=function(){function t(){this.name="field"}return t.prototype.createTarget=function(t){var e=void 0;if(t&&(e=t.getFields()),e){this.isSelect=!0;var n=' <div class="hiprint-option-item hiprint-option-item-row">\n            <div class="hiprint-option-item-label">\n            字段名\n            </div>\n            <div class="hiprint-option-item-field">\n            <select class="auto-submit">\n                <option value="" >请选择字段</option>';e.forEach((function(t,e){n+=' <option value="'+(t.field||"")+'" >'+(t.text||"")+"</option>"})),n+=" </select>\n            </div>\n        </div>",this.target=$(n)}else this.isSelect=!1,this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n            <div class="hiprint-option-item-label">\n            字段名\n            </div>\n            <div class="hiprint-option-item-field">\n            <input type="text" placeholder="请输入字段名" class="auto-submit">\n            </div>\n        </div>');return this.target},t.prototype.getValue=function(){return(this.isSelect?this.target.find("select").val():this.target.find("input").val())||void 0},t.prototype.setValue=function(t){this.isSelect?t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>"),this.target.find("select").val(t)):this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),M=function(){function t(){this.name="title"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        标题\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:50px;" placeholder="请输入标题" class="auto-submit"></textarea>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),O=function(){function t(){this.name="testData"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        测试数据\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="仅字段名称存在时有效" class="auto-submit" >\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),D=function(){function t(){this.name="coordinate"}return t.prototype.createTarget=function(t,e){var n=this;return n.target=$('<div class="hiprint-option-item hiprint-option-item-row"><div class="hiprint-option-item-label">\n        位置坐标\n        </div><div class="hiprint-option-item-field" style="display: flex;align-items: baseline;">\n        <input type="number" style="width:48%" placeholder="X位置(左)" class="auto-submit" />\n        <input type="number" style="width:48%" placeholder="Y位置(上)" class="auto-submit" />\n        </div>\n</div>'),n.syncLock=e.coordinateSync||!1,n.createSyncLock(n.syncLock),n.target},t.prototype.createSyncLock=function(t){var e=this;return e.lockTarget=e.syncLock?$('<label style="margin: 0 4px;text-align:center;width: 8%" title="同步">🔗</label>'):$('<label style="margin: 0 4px;text-align:center;width: 8%" title="不同步">🔓</label>'),e.lockTarget.click((function(){e.syncLock?e.lockTarget.text("🔓").attr("title","不同步"):e.lockTarget.text("🔗").attr("title","同步"),e.syncLock=!e.syncLock})),e.target.find("input:first").after(e.lockTarget),e.target.find("input:first").change((function(){e.syncLock&&e.target.find("input:last").val($(this).val())})),e.target.find("input:last").change((function(){e.syncLock&&e.target.find("input:first").val($(this).val())})),e.lockTarget},t.prototype.css=function(t){if(t&&t.length&&this.target&&("block"==t.find(".resize-panel").css("display")||t[0].className.includes("table"))&&this.el==t){var e=this.getValue();return t.css("left",e.left+"pt").css("top",e.top+"pt")}return null},t.prototype.getValue=function(){var t={coordinateSync:this.syncLock,left:0,top:0};return t.left=parseFloat(this.target.find("input:first").val()||0),t.top=parseFloat(this.target.find("input:last").val()||0),t},t.prototype.setValue=function(t,e){this.el=e.designTarget||e,this.target.find("input:first").val(t.left),this.target.find("input:last").val(t.top)},t.prototype.destroy=function(){this.target.remove()},t}(),S=function(){function t(){this.name="widthHeight"}return t.prototype.createTarget=function(t,e){var n=this;return n.target=$('<div class="hiprint-option-item hiprint-option-item-row"><div class="hiprint-option-item-label">\n        宽高大小\n        </div><div class="hiprint-option-item-field" style="display: flex;align-items: baseline;">\n        <input type="number" style="width:48%" placeholder="宽" class="auto-submit" />\n        <input type="number" style="width:48%" placeholder="高" class="auto-submit" />\n        </div>\n</div>'),n.syncLock=e.widthHeightSync||!1,n.createSyncLock(n.syncLock),n.target},t.prototype.createSyncLock=function(t){var e=this;return e.lockTarget=e.syncLock?$('<label style="margin: 0 4px;text-align:center;width: 8%" title="同步">🔗</label>'):$('<label style="margin: 0 4px;text-align:center;width: 8%" title="不同步">🔓</label>'),e.lockTarget.click((function(){e.syncLock?e.lockTarget.text("🔓").attr("title","不同步"):e.lockTarget.text("🔗").attr("title","同步"),e.syncLock=!e.syncLock})),e.target.find("input:first").after(e.lockTarget),e.target.find("input:first").change((function(){e.syncLock&&e.target.find("input:last").val($(this).val())})),e.target.find("input:last").change((function(){e.syncLock&&e.target.find("input:first").val($(this).val())})),e.lockTarget},t.prototype.css=function(t){if(t&&t.length&&this.target&&("block"==t.find(".resize-panel").css("display")||t[0].className.includes("table"))&&this.el==t){var e=this.getValue();return t.css("width",e.width+"pt").css("height",e.height+"pt")}return null},t.prototype.getValue=function(){var t={widthHeightSync:this.syncLock,width:0,height:0};return t.width=parseFloat(this.target.find("input:first").val()||0),t.height=parseFloat(this.target.find("input:last").val()||0),t},t.prototype.setValue=function(t,e){this.el=e.designTarget||e,this.target.find("input:first").val(t.width),this.target.find("input:last").val(t.height)},t.prototype.destroy=function(){this.target.remove()},t}(),A=function(){function t(){this.name="src"}return t.prototype.createTarget=function(t){var e=void 0,n=this;return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        图片地址\n        </div>\n        <div class="hiprint-option-item-field" style="display: flex;align-items: baseline;">\n        <input type="text" placeholder="请输入图片地址" class="auto-submit" style="width:70%">\n    <button class="hiprint-option-item-settingBtn" style="padding:0 10px;margin:0 0 0 5px" type="button">选择</button>        </div>\n    </div>'),t&&(e=t.getOnImageChooseClick()),e&&this.target.find("button").click((function(){e&&e(n)})),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.refresh=function(t){this.setValue(t),this.target.find("input").change()},t.prototype.destroy=function(){this.target.remove()},t}(),I=function(){function t(){this.name="fit"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.find("img").css("object-fit",e),"object-fit:"+e;t.find("img")[0].style["object-fit"]=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        图片缩放\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="contain" >等比</option>\n        <option value="cover" >剪裁</option>\n        <option value="fill" >填充</option>\n        <option value="none" >原始尺寸</option>\n                </select>\n        </div>\n    </div>'),this.target,this.target},t.prototype.getValue=function(){return this.target.find("select").val()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),L=function(){function t(){this.name="borderColor"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-color",e),"border-color:"+e;t[0].style.borderColor=""}return null},t.prototype.createTarget=function(t){var e=["hline","vline","rect","oval"].includes(t.printElementType.type)?"颜色":"边框颜色";return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        '+e+'\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" class="auto-submit" />\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").minicolors({defaultValue:t||"",theme:"bootstrap"}),this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),H=function(){function t(){this.name="paperNumberFormat"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        页码格式\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="paperNo-paperCount" class="auto-submit">\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),R=function(){function t(){this.name="paperNumberDisabled"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        显示页码\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >显示</option>\n        <option value="true" >隐藏</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){if("true"==this.target.find("select").val())return!0},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),k=function(){function t(){this.name="longTextIndent"}return t.prototype.css=function(t,e){return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        每行缩进\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        <option value="22.5" >22.5pt</option>\n        <option value="23.25" >23.25pt</option>\n        <option value="24" >24pt</option>\n        <option value="24.75" >24.75pt</option>\n        <option value="25.5" >25.5pt</option>\n        <option value="26.25" >26.25pt</option>\n        <option value="27" >27pt</option>\n        <option value="27.75" >27.75pt</option>\n        <option value="28.5" >28.5pt</option>\n        <option value="29.25" >29.25pt</option>\n        <option value="30" >30pt</option>\n        <option value="30.75" >30.75pt</option>\n        <option value="31.5" >31.5pt</option>\n        <option value="32.25" >32.25pt</option>\n        <option value="33" >33pt</option>\n        <option value="33.75" >33.75pt</option>\n        <option value="34.5" >34.5pt</option>\n        <option value="35.25" >35.25pt</option>\n        <option value="36" >36pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),B=function(){function t(){this.name="showInPage"}return t.prototype.css=function(t,e){if(t&&t.length){if(e&&"none"==e)return t.addClass("alwaysHide");t.removeClass("alwaysHide")}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        显示规则\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n            <option value="none" >始终隐藏</option>\n            <option value="first" >首页</option>\n            <option value="odd" >奇数页</option>\n            <option value="even" >偶数页</option>\n            <option value="last" >尾页</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),F=function(){function t(){this.name="panelPaperRule"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        打印规则\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n            <option value="odd" >保持奇数</option>\n            <option value="even" >保持偶数</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),N=function(){function t(){this.name="panelPageRule"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        分页规则\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n            <option value="none" >不分页</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),z=function(){function t(){this.name="leftSpaceRemoved"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        移除段落左侧空白\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n            <option value="true" >移除</option>\n            <option value="false" >不移除</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){if("false"==this.target.find("select").val())return!1},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),W=function(){function t(){this.name="firstPaperFooter"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        首页页尾\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="首页页尾" class="auto-submit">\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),j=function(){function t(){this.name="lastPaperFooter"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        尾页页尾\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="尾页页尾" class="auto-submit">\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),V=function(){function t(){this.name="evenPaperFooter"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        偶数页页尾\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="偶数页页尾" class="auto-submit">\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),G=function(){function t(){this.name="oddPaperFooter"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        奇数页页尾\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="奇数页页尾" class="auto-submit" >\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),U=function(){function t(){this.name="fixed"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        位置固定\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n            <option value="false" >否</option>\n            <option value="true" >是</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){if("true"==this.target.find("select").val())return!0},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),K=function(){function t(){this.name="axis"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        拖动方向\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="h" >横向</option>\n        <option value="v" >竖向</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return t||void 0},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),J=function(){function t(){this.name="leftOffset"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        左偏移\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="偏移量pt" class="auto-submit" >\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),X=function(){function t(){this.name="lHeight"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        最低高度\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="文本过短或为空时的高度" class="auto-submit">\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),q=function(){function t(){this.name="unShowInPage"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        隐藏规则\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n            <option value="first" >首页</option>\n            <option value="last" >尾页</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Y=function(){function t(){this.name="tableBodyRowBorder"}return t.prototype.css=function(t,e){if(t.find("tbody tr").length){if("border"==e||void 0==e)return t.find("tbody tr").css("border","1px solid"),"border:1pt solid";"noBorder"==e?t.find("tbody tr").css("border","0px solid"):"topBorder"==e?(t.find("tbody tr").css("border","0px solid"),t.find("tbody tr").css("border-top","1px solid")):"bottomBorder"==e?(t.find("tbody tr").css("border","0px solid"),t.find("tbody tr").css("border-bottom","1px solid")):"topBottomBorder"==e?(t.find("tbody tr").css("border","0px solid"),t.find("tbody tr").css("border-top","1px solid"),t.find("tbody tr").css("border-bottom","1px solid")):t.find("tbody tr").map((function(t,e){e.style.border=""}))}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表体行边框\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>    \n        <option value="border" >有边框</option>\n        <option value="noBorder" >无边框</option>\n        <option value="topBorder" >上边框</option>\n        <option value="bottomBorder" >下边框</option>\n        <option value="topBottomBorder" >上下边框</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Q=function(){function t(){this.name="transform"}return t.prototype.css=function(t,e){if(t&&t.length){var n=t.find(".hiprint-printElement-content").parent(".hiprint-printElement");if(!n.length&&t.hasClass("hiprint-printElement-hline")&&(n=t),!n.length&&t.hasClass("hiprint-printElement-image")&&(n=t),e)return n.css("transform","rotate("+e+"deg)"),n.css("-ms-transform","rotate("+e+"deg)"),n.css("-moz-transform","rotate("+e+"deg)"),n.css("-webkit-transform","rotate("+e+"deg)"),n.css("-o-transform","rotate("+e+"deg)"),"transform:rotate("+e+"deg)";n.length&&(n[0].style.transform="")}return null},t.prototype.createTarget=function(){return this.target=$('<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        旋转角度\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" class="auto-submit"/>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Z=function(){function t(){this.name="zIndex"}return t.prototype.css=function(t,e){return t&&t.length&&e?t.css("z-index",e):null},t.prototype.createTarget=function(){return this.target=$('<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        元素层级\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="number" class="auto-submit"/>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseInt(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),tt=function(){function t(){this.name="optionsGroup"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        边框设置\n        </div>\n       \n    </div>'),this.target},t.prototype.getValue=function(){},t.prototype.setValue=function(t){},t.prototype.destroy=function(){this.target.remove()},t}(),et=function(){function t(){this.name="borderTop"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-top-style",e),"border-top:1px";t[0].style.borderTopStyle="",t[0].style.borderTopWidth=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        上边框\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n            <option value="" >否</option>\n            <option value="solid" >实线</option>\n            <option value="dotted" >虚线</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),nt=function(){function t(){this.name="borderLeft"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-left-style",e),"border-left:1px";t[0].style.borderLeftStyle="",t[0].style.borderLeftWidth=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        左边框\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >否</option>\n        <option value="solid" >实线</option>\n        <option value="dotted" >虚线</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),it=function(){function t(){this.name="borderRight"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-right-style",e),"border-right:1px";t[0].style.borderRightStyle="",t[0].style.borderRightWidth=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        右边框\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >否</option>\n        <option value="solid" >实线</option>\n        <option value="dotted" >虚线</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),ot=function(){function t(){this.name="borderBottom"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-bottom-style",e),"border-bottom-style:1px solid";t[0].style.borderBottomStyle="",t[0].style.borderBottomWidth=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        下边框\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >否</option>\n        <option value="solid" >实线</option>\n        <option value="dotted" >虚线</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),rt=function(){function t(){this.name="contentPaddingLeft"}return t.prototype.css=function(t,e){var n=t.find(".hiprint-printElement-content");if(n&&n.length){if(e)return n.css("padding-left",e+"pt"),"padding-left";n[0].style.paddingLeft=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        左内边距\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),at=function(){function t(){this.name="contentPaddingTop"}return t.prototype.css=function(t,e){var n=t.find(".hiprint-printElement-content");if(n&&n.length){if(e)return n.css("padding-top",e+"pt"),"padding-top";n[0].style.paddingTop=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        上内边距\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),st=function(){function t(){this.name="contentPaddingRight"}return t.prototype.css=function(t,e){var n=t.find(".hiprint-printElement-content");if(n&&n.length){if(e)return n.css("padding-right",e+"pt"),"padding-right";n[0].style.paddingRight=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        右内边距\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),pt=function(){function t(){this.name="contentPaddingBottom"}return t.prototype.css=function(t,e){var n=t.find(".hiprint-printElement-content");if(n&&n.length){if(e)return n.css("padding-bottom",e+"pt"),"padding-bottom";n[0].style.paddingBottom=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        下内边距\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),lt=function(){function t(){this.name="borderStyle"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("border-style",e),"border-style:1px";t[0].style.borderStyle=""}return null},t.prototype.createTarget=function(t){var e=["hline","vline","rect","oval"].includes(t.printElementType.type)?"样式":"边框样式";return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n       '+e+'\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n            <option value="" >默认</option>\n            <option value="solid" >实线</option>\n            <option value="dashed" >长虚线</option>\n            <option value="dotted" >短虚线</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),dt=function(){function t(){this.name="backgroundColor"}return t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.css("background-color",e),"background-color:"+e;t[0].style.backgroundColor=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        背景颜色\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" class="auto-submit"/>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").minicolors({defaultValue:t||"",theme:"bootstrap"}),this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),ht=function(){function t(){this.name="orient"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        纸张方向(仅自定义纸质有效)\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="1" >纵向</option>\n        <option value="2" >横向</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),ut=function(){function t(){this.name="textContentVerticalAlign"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        上下对齐\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="middle" >垂直居中</option>\n        <option value="bottom" >底部</option>\n       \n        </select>\n        </div>\n    </div>'),this.target},t.prototype.css=function(t,e){if(t&&t.length){if(e)return"middle"===e&&t.addClass("hiprint-text-content-middle"),"bottom"===e&&t.addClass("hiprint-text-content-bottom"),"";t.removeClass("hiprint-text-content-middle"),t.removeClass("hiprint-text-content-bottom")}return null},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),ct=n(5),ft=function(){function t(){this.name="columns"}return t.prototype.createTarget=function(){return $('<div class="indicator"></div>').appendTo("body"),this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n       <div>\n            <ul class="hiprint-option-table-selected-columns"> </ul>\n       </div>\n    </div>'),this.target},t.prototype.getValue=function(){return this.buildData()},t.prototype.setValue=function(t,e,n){var i=this,o=this;this.value=t,this.options=e,this.printElementType=n;var r=n.columns[0].filter((function(e){return 0==t[0].columns.filter((function(t){return e.columnId==t.columnId})).length})).map((function(t){var e=new ct.a(t);return e.checked=!1,e}));this.allColumns=t[0].columns.concat(r),t&&1==t.length&&(this.target.find("ul").html(this.allColumns.map((function(t,e){return'<li  class="hiprint-option-table-selected-item"> <div class="hi-pretty p-default">\n                '+(t.checked?'<input type="checkbox"   checked column-id="'+(t.columnId||t.id)+'" />':'<input type="checkbox"  column-id="'+(t.columnId||t.id)+'" />')+'\n                <div class="state">\n                    <label></label>\n                </div>\n            </div><span class="column-title">'+(t.title||t.descTitle||"")+"</span></li>"})).join("")),this.target.find("input").change((function(t){var e=t.target.checked,n=t.target.attributes["column-id"].nodeValue||"",o=i.allColumns.findIndex((function(t){return t.field==n||t.id==n}));o>=0&&(i.allColumns[o]["checked"]=e),i.submit()})),this.printElementType.columnDisplayIndexEditable&&this.target.find("li").hidraggable({revert:!0,handle:".column-title",moveUnit:"pt",deltaX:0,deltaY:0}).hidroppable({onDragOver:function(t,e){$(this).css("border-top-color","red")},onDragLeave:function(t,e){$(this).css("border-top-color","")},onDrop:function(t,e){$(e).insertBefore(this),$(this).css("border-top-color",""),o.submit()}}))},t.prototype.buildData=function(){var t=this,e=[];return t.printElementType.makeColumnObj(t.allColumns),this.target.find("input").map((function(n,i){var o=$(i).attr("column-id"),r=t.printElementType.getColumnByColumnId(o);if(r){var a=new ct.a(r);a.checked=r.checked,e.push(a)}})),this.value[0].columns=e,this.value},t.prototype.destroy=function(){this.target.remove()},t}(),gt=function(){function t(){this.name="textType"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        打印类型\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="" >文本</option>\n        <option value="barcode" >条形码</option>\n        <option value="qrcode" >二维码</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),mt=function(){function t(){this.name="tableTextType"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        字段类型\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="text" >文本</option>\n <option value="sequence" >序号</option>\n       <option value="barcode" >条形码</option>\n        <option value="qrcode" >二维码</option>\n    <option value="image" >图片</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),vt=function(){function t(){this.name="tableBarcodeMode"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        条形码格式\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n         <option value="CODE128A" >CODE128A</option>\n        <option value="CODE128B" >CODE128B</option>\n        <option value="CODE128C" >CODE128C</option>\n        <option value="CODE39" >CODE39</option>\n        <option value="EAN-13" >EAN-13</option>\n        <option value="EAN-8" >EAN-8</option>\n        <option value="EAN-5" >EAN-5</option>\n        <option value="EAN-2" >EAN-2</option>\n        <option value="UPC（A）" >UPC（A）</option>\n        <option value="ITF" >ITF</option>\n        <option value="ITF-14" >ITF-14</option>\n        <option value="MSI" >MSI</option>\n            <option value="MSI10" >MSI10</option>\n            <option value="MSI11" >MSI11</option>\n            <option value="MSI1010" >MSI1010</option>\n            <option value="MSI1110" >MSI1110</option>\n            <option value="Pharmacode" >Pharmacode</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return t||void 0},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),yt=function(){function t(){this.name="tableQRCodeLevel"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        二维码容错率\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="1" >7% L</option>\n        <option value="0" >15% M</option>\n        <option value="3" >25% Q</option>\n        <option value="2" >30% H</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();return parseInt(t||0)},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),bt=function(){function t(){this.name="tableColumnHeight"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item ">\n        <div class="hiprint-option-item-label">\n        单元格高度\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="条形码、二维码以及图片有效" class="auto-submit" >\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),_t=function(){function t(){this.name="tableSummary"}return t.prototype.createTarget=function(){return this.target=$('<div class="hiprint-option-item"><div class="hiprint-option-item-label">底部聚合类型</div><div class="hiprint-option-item-field"><select class="auto-submit"><option value="">不聚合</option><option value="count">计数</option><option value="sum">合计</option><option value="avg">平均值</option><option value="min">最小值</option><option value="max">最大值</option></select></div></div>'),this.target},t.prototype.getValue=function(){return this.target.find("select").val()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Et=function(){function t(){this.name="topOffset"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        顶部偏移\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="text" placeholder="偏移量pt" class="auto-submit">\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){this.target.find("input").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Tt=function(){function t(){this.name="gridColumns"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        一行多组\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="2" >一行二列</option>\n        <option value="3" >一行三列</option>\n        <option value="4" >一行四列</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Pt=function(){function t(){this.name="gridColumnsGutter"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        一行多组间隔\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.25" >7.25pt</option>\n        <option value="8.5" >8.5pt</option>\n        <option value="9" >9pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.css=function(t,e){if(t&&t.length){if(e)return t.find(".table-grid-row").css("margin-left","-"+e+"pt").css("margin-right","-"+e+"pt"),t.find(".tableGridColumnsGutterRow").css("padding-left",e+"pt").css("padding-right",e+"pt"),null;t.find(".table-grid-row").map((function(t,e){e.style.marginLeft="",e.style.marginRight=""})),t.find(".tableGridColumnsGutterRow").map((function(t,e){e.style.paddingLeft="",e.style.paddingRight=""}))}return null},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),wt=function(){function t(){this.name="tableHeaderRepeat"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表格头显示\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="page" >每页显示</option>\n        <option value="first" >首页显示</option>\n        <option value="none" >不显示</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),xt=function(){function t(){this.name="paddingLeft"}return t.prototype.css=function(t,e){var n=t;if(n&&n.length){if(e)return n.css("padding-left",e+"pt"),"padding-left";n[0].style.paddingLeft=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        左内边距\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Ct=function(){function t(){this.name="paddingRight"}return t.prototype.css=function(t,e){var n=t;if(n&&n.length){if(e)return n.css("padding-right",e+"pt"),"padding-right";n[0].style.paddingRight=""}return null},t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        右内边距\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="0.75" >0.75pt</option>\n        <option value="1.5" >1.5pt</option>\n        <option value="2.25" >2.25pt</option>\n        <option value="3" >3pt</option>\n        <option value="3.75" >3.75pt</option>\n        <option value="4.5" >4.5pt</option>\n        <option value="5.25" >5.25pt</option>\n        <option value="6" >6pt</option>\n        <option value="6.75" >6.75pt</option>\n        <option value="7.5" >7.5pt</option>\n        <option value="8.25" >8.25pt</option>\n        <option value="9" >9pt</option>\n        <option value="9.75" >9.75pt</option>\n        <option value="10.5" >10.5pt</option>\n        <option value="11.25" >11.25pt</option>\n        <option value="12" >12pt</option>\n        <option value="12.75" >12.75pt</option>\n        <option value="13.5" >13.5pt</option>\n        <option value="14.25" >14.25pt</option>\n        <option value="15" >15pt</option>\n        <option value="15.75" >15.75pt</option>\n        <option value="16.5" >16.5pt</option>\n        <option value="17.25" >17.25pt</option>\n        <option value="18" >18pt</option>\n        <option value="18.75" >18.75pt</option>\n        <option value="19.5" >19.5pt</option>\n        <option value="20.25" >20.25pt</option>\n        <option value="21" >21pt</option>\n        <option value="21.75" >21.75pt</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return parseFloat(t.toString())},t.prototype.setValue=function(t){t&&(this.target.find('option[value="'+t+'"]').length||this.target.find("select").prepend('<option value="'+t+'" >'+t+"</option>")),this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Mt=function(){function t(){this.name="dataType"}return t.prototype.createTarget=function(){var t=this;return this.target=$('\n        <div class="hiprint-option-item-row">\n        <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        数据类型\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="hiprint-option-item-datatype">\n        <option value="" >默认</option>\n        <option value="datetime" >日期时间</option>\n        <option value="boolean" >布尔</option>\n        </select>\n        </div>\n    </div>\n    <div class="hiprint-option-item ">\n        <div class="hiprint-option-item-label ">\n        格式\n        </div>\n        <div class="hiprint-option-item-field">\n        <select  class="auto-submit hiprint-option-item-datatype-select-format">\n        <option value="" >默认</option>\n        \n        </select>\n        <input class="auto-submit  hiprint-option-item-datatype-input-format" type="text" data-type="boolean" placeholder="true:false">\n        </div>\n    </div>\n        </div>\n        '),$(this.target.find(".hiprint-option-item-datatype")).change((function(){var e=$(t.target.find(".hiprint-option-item-datatype")).val();t.loadFormatSelectByDataType(e),t.submit(t.getValue())})),this.target},t.prototype.getValue=function(){var t=this.target.find(".hiprint-option-item-datatype").val();if(t){var e=this.target.find(".hiprint-option-item-datatype-format").val();return{dataType:t,format:e||void 0}}return{dataType:void 0,format:void 0}},t.prototype.setValue=function(t,e){this.target.find(".hiprint-option-item-datatype").val(e.dataType||""),this.loadFormatSelectByDataType(e.dataType),this.target.find(".hiprint-option-item-datatype-format").val(e.format||"")},t.prototype.destroy=function(){this.target.remove()},t.prototype.loadFormatSelectByDataType=function(t){"boolean"===t?(this.target.find(".hiprint-option-item-datatype-select-format").removeClass("hiprint-option-item-datatype-format").hide().val(""),this.target.find(".hiprint-option-item-datatype-input-format").addClass("hiprint-option-item-datatype-format").show()):"datetime"===t?(this.target.find(".hiprint-option-item-datatype-select-format").addClass("hiprint-option-item-datatype-format").show(),this.target.find(".hiprint-option-item-datatype-input-format").removeClass("hiprint-option-item-datatype-format").hide().val(""),this.target.find(".hiprint-option-item-datatype-select-format").html('\n            <option value="" >默认</option>\n            <option value="M/d" >M/d</option>\n            <option value="MM/dd" >MM/dd</option>\n            <option value="yy/M/d" >yy/M/d</option>\n            <option value="yy/MM/dd" >yy/MM/dd</option>\n            <option value="yyyy/M/d" >yyyy/M/d</option>\n            <option value="yyyy/MM/dd" >yyyy/MM/dd</option>\n            <option value="yy/M/d H:m" >yy/M/d H:m</option>\n            <option value="yy/M/d H:m:s" >yy/M/d H:m:s</option>\n            <option value="yy/M/d HH:mm" >yy/M/d HH:mm</option>\n            <option value="yy/M/d HH:mm:ss" >yy/M/d HH:mm:ss</option>\n            <option value="yy/MM/dd H:m" >yy/MM/dd H:m</option>\n            <option value="yy/MM/dd H:m:s" >yy/MM/dd H:m:s</option>\n            <option value="yy/MM/dd HH:mm" >yy/MM/dd HH:mm</option>\n            <option value="yy/MM/dd HH:mm:ss" >yy/MM/dd HH:mm:ss</option>\n            <option value="yyyy/M/d H:m" >yyyy/M/dd H:m</option>\n            <option value="yyyy/M/d H:m:s" >yyyy/M/d H:m:s</option>\n            <option value="yyyy/M/d HH:mm" >yyyy/M/d HH:mm</option>\n            <option value="yyyy/M/d HH:mm:ss" >yyyy/M/d HH:mm:ss</option>\n            <option value="yyyy/MM/dd H:m" >yyyy/MM/dd H:m</option>\n            <option value="yyyy/MM/dd H:m:s" >yyyy/MM/dd H:m:s</option>\n            <option value="yyyy/MM/dd HH:mm" >yyyy/MM/dd HH:mm</option>\n            <option value="yyyy/MM/dd HH:mm:ss" >yyyy/MM/dd HH:mm:ss</option>\n\n            <option value="M-d" >M-d</option>\n            <option value="MM-dd" >MM-dd</option>\n            <option value="yy-M-d" >yy-M-d</option>\n            <option value="yy-MM-dd" >yy-MM-dd</option>\n            <option value="yyyy-M-d" >yyyy-M-d</option>\n            <option value="yyyy-MM-dd" >yyyy-MM-dd</option>\n            <option value="yy-M-d H:m" >yy-M-d H:m</option>\n            <option value="yy-M-d H:m:s" >yy-M-d H:m:s</option>\n            <option value="yy-M-d HH:mm" >yy-M-d HH:mm</option>\n            <option value="yy-M-d HH:mm:ss" >yy-M-d HH:mm:ss</option>\n            <option value="yy-MM-dd H:m" >yy-MM-dd H:m</option>\n            <option value="yy-MM-dd H:m:s" >yy-MM-dd H:m:s</option>\n            <option value="yy-MM-dd HH:mm" >yy-MM-dd HH:mm</option>\n            <option value="yy-MM-dd HH:mm:ss" >yy-MM-dd HH:mm:ss</option>\n            <option value="yyyy-M-d H:m" >yyyy-M-d H:m</option>\n            <option value="yyyy-M-d H:m:s" >yyyy-M-d H:m:s</option>\n            <option value="yyyy-M-d HH:mm" >yyyy-M-d HH:mm</option>\n            <option value="yyyy-M-d HH:mm:ss" >yyyy-M-d HH:mm:ss</option>\n            <option value="yyyy-MM-dd H:m" >yyyy-MM-dd H:m</option>\n            <option value="yyyy-MM-dd H:m:s" >yyyy-MM-dd H:m:s</option>\n            <option value="yyyy-MM-dd HH:mm" >yyyy-MM-dd HH:mm</option>\n            <option value="yyyy-MM-dd HH:mm:ss" >yyyy-MM-dd HH:mm:ss</option>\n        ')):(this.target.find(".hiprint-option-item-datatype-select-format").show(),this.target.find(".hiprint-option-item-datatype-input-format").hide().val(""),this.target.find(".hiprint-option-item-datatype-format").html('\n            <option value="" >默认</option>\n        '))},t}(),Ot=function(){function t(){this.name="formatter"}return t.prototype.createTarget=function(){var t=' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        格式化函数\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(value, options,templateData){}" class="auto-submit"></textarea>\n        </div>\n    </div>';return this.target=$(t),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),Dt=function(){function t(){this.name="styler"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        样式函数\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(value, options, target,templateData){}" class="auto-submit"></textarea>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),St=function(){function t(){this.name="rowsColumnsMerge"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        行/列合并函数\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(options,rows,data){ return [1,1] }; }" class="auto-submit"></textarea>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),At=function(){function t(){this.name="footerFormatter"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        表格脚函数\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(options,rows,data){ return \'<tr></tr>\' }; }" class="auto-submit"></textarea>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),It=function(){function t(){this.name="gridColumnsFooterFormatter"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        多组表格脚函数\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(options,rows,data){ return \'\' }; }" class="auto-submit"></textarea>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),Lt=function(){function t(){this.name="rowStyler"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        行样式函数\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(value,options){ return \'\' }; }" class="auto-submit"></textarea>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),Ht=function(){function t(){this.name="align"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        单元格左右对齐\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="left" >居左</option>\n        <option value="center" >居中</option>\n        <option value="right" >居右</option>\n        <option value="justify" >两端对齐</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Rt=function(){function t(){this.name="vAlign"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        单元格上下对齐\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="top" >上</option>\n        <option value="middle" >中</option>\n        <option value="bottom" >居右</option>\n        \n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),kt=function(){function t(){this.name="halign"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表格头单元格左右对齐\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="left" >居左</option>\n        <option value="center" >居中</option>\n        <option value="right" >居右</option>\n        <option value="justify" >两端对齐</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}(),Bt=function(){function t(){this.name="styler2"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        单元格样式函数\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(value,row,index,options){ return {color:\'red\' }; }" class="auto-submit"></textarea>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),Ft=function(){function t(){this.name="formatter2"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item hiprint-option-item-row">\n        <div class="hiprint-option-item-label">\n        单元格格式化函数\n        </div>\n        <div class="hiprint-option-item-field">\n        <textarea style="height:80px;" placeholder="function(value,row,index,options){ return \'\'; }" class="auto-submit"></textarea>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("textarea").val();if(t)return t},t.prototype.setValue=function(t){this.target.find("textarea").val(t?t.toString():null)},t.prototype.destroy=function(){this.target.remove()},t}(),Nt=function(){function t(){this.name="autoCompletion"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        自动补全\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="true" >是</option>\n        <option value="false" >否</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){if("true"==this.target.find("select").val())return!0},t.prototype.setValue=function(t){this.target.find("select").val((null==t?"":t).toString())},t.prototype.destroy=function(){this.target.remove()},t}(),zt=function(){function t(){this.name="tableFooterRepeat"}return t.prototype.createTarget=function(){return this.target=$(' <div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        表格脚显示\n        </div>\n        <div class="hiprint-option-item-field">\n        <select class="auto-submit">\n        <option value="" >默认</option>\n        <option value="no" >不显示</option>\n        <option value="page" >每页显示</option>\n        <option value="last" >最后显示</option>\n        </select>\n        </div>\n    </div>'),this.target},t.prototype.getValue=function(){var t=this.target.find("select").val();if(t)return t.toString()},t.prototype.setValue=function(t){this.target.find("select").val(t)},t.prototype.destroy=function(){this.target.remove()},t}();n.d(e,"a",(function(){return Wt}));var Wt=function(){function t(){}return t.init=function(){t.printElementOptionItems||(t.printElementOptionItems={},t._printElementOptionItems.forEach((function(e){t.printElementOptionItems[e.name]=e})))},t.registerItem=function(e){if(!e.name)throw new Error("styleItem must have name");t.init(),t.printElementOptionItems[e.name]=e},t.getItem=function(e){return t.init(),t.printElementOptionItems[e]},t._printElementOptionItems=[new o,new r,new a,new s,new i,new p,new l,new gt,new d,new h,new u,new g,new m,new v,new y,new c,new f,new b,new _,new E,new T,new P,new w,new x,new C,new M,new O,new D,new S,new A,new I,new L,new H,new R,new k,new B,new F,new N,new z,new W,new j,new V,new G,new U,new K,new Et,new J,new X,new q,new Y,new Q,new Z,new tt,new et,new nt,new it,new ot,new at,new rt,new st,new pt,new lt,new dt,new ht,new ut,new ft,new Tt,new Pt,new wt,new xt,new Ct,new Mt,new Ot,new Dt,new At,new St,new It,new Lt,new Ht,new kt,new Rt,new Bt,new Ft,new Nt,new zt,new bt,new vt,new yt,new mt,new _t],t}()},function(t,e,n){n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var i=n(14),o=function(){function t(t,e){this.selectedCells=[],this.rows=t,this.tableTatget=e}return t.prototype.clear=function(){this.tableTatget.find("td").removeClass("selected")},t.prototype.setSingleSelect=function(t){this.startCell=t,this.selectedCells=[]},t.prototype.getSingleSelect=function(){if(this.selectedCells.length){if(1==this.selectedCells.length)return 1==this.selectedCells[0].length?this.selectedCells[0][0]:void 0;if(this.selectedCells.length>1)return}return this.startCell},t.prototype.singleSelectByXY=function(t,e){var n=this.getCellByXY(t,e);n&&(this.clear(),n&&(n.cell.select(),this.startCell=n,this.selectedCells=[]))},t.prototype.multipleSelectByXY=function(t,e){this.clear();var n=[];if(this.startCell){var o=this.getCellByXY(t,e);if(o){var r=i.a.mergeRect(this.startCell.cell.getTableRect(),o.cell.getTableRect());this.selectByRect(new a(r),n)}}this.selectedCells=n},t.prototype.selectByRect=function(t,e){this.rows.forEach((function(n,i){var o=[];n.columns.forEach((function(e){e.isInRect(t)&&(o.push(new s(i,e)),e.select())})),o.length&&e.push(o)})),t.changed&&(t.changed=!1,e.splice(0,e.length),this.selectByRect(t,e))},t.prototype.getSelectedCells=function(){return this.selectedCells},t.prototype.getCellByXY=function(t,e){var n;return this.rows.forEach((function(i,o){var r=(i.columns||[]).filter((function(t){return t.checked})).filter((function(n){return n.isXYinCell(t,e)}));r.length&&(n=new s(o,r[0]))})),n},t}(),r=function(){return function(t){this.x=t.x,this.y=t.y,this.height=t.height,this.width=t.width}}(),a=function(){return function(t){this.rect=t}}(),s=function(){return function(t,e){this.rowIndex=t,this.cell=e}}()},function(t,e,n){n.d(e,"a",(function(){return i}));var i=function(){function t(){}return t.createId=function(){return this.id+=1,this.id},t.id=1,t}()},function(t,e,n){n.d(e,"a",(function(){return s}));var i,o=n(5),r=n(13),a=(i=function(t,e){return(i=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this)||this;return n.columns=[],e&&e.constructor===Array?(e||[]).forEach((function(t){n.columns.push(new o.a(t))})):e.columns&&(e.columns||[]).forEach((function(t){n.columns.push(new o.a(t))})),n}return a(e,t),e.prototype.getPrintElementOptionEntity=function(){var t=[],e=this.allColumns?this.allColumns.filter((function(t){return!t.checked})):[];return[...this.columns,...e].forEach((function(e){t.push(e.getEntity())})),t},e}(r.a)},function(t,e,n){n.d(e,"a",(function(){return r}));var i=n(11),o=n(5),r=function(){function t(){this.id=i.a.createId()}return t.prototype.init=function(t,e,n){this.isHead=n,this.target=e||$("<tr></tr>"),this.tableOptions=t,this.allColumns=this.columns||[],this.initCells((this.columns||[]).filter((function(t){return t.checked})))},t.prototype.getTarget=function(){return this.target},t.prototype.initCells=function(t){var e=this;t?(this.columns=t,t.forEach((function(t,n){t.init(e.target.find("td:eq("+n+")"),e.tableOptions,e.id,e.isHead)}))):(this.columns=[],this.target.find("td").map((function(t,n){var i=new o.a;i.init($(n),e.tableOptions,e.id,e.isHead),e.columns.push(i)})))},t.prototype.removeCell=function(t){var e=this.columns.indexOf(t);this.columns[e].getTarget().remove(),this.columns.splice(e,1)},t.prototype.createTableCell=function(t,e){var n=new o.a;return n.init($("<td></td>"),this.tableOptions,this.id,this.isHead),t>1&&(n.getTarget().attr("rowspan",t),n.rowspan=t),e>1&&(n.getTarget().attr("colspan",e),n.colspan=e),n},t.prototype.insertToTargetCellLeft=function(t,e){var n=this.columns.indexOf(t);t.getTarget().before(e.getTarget()),this.columns.splice(n,0,e)},t.prototype.insertToTargetCellRight=function(t,e){var n=this.columns.indexOf(t);this.columns[n].getTarget().after(e.getTarget()),this.columns.splice(n+1,0,e)},t.prototype.insertCellToFirst=function(t){this.target.prepend(t.getTarget()),this.columns.splice(0,0,t)},t.prototype.insertCellToLast=function(t){this.columns.push(t),this.target.append(t.getTarget())},t.prototype.getPrintElementOptionEntity=function(){var t=[];return[...this.columns,...this.allColumns.filter((function(t){return!t.checked}))].forEach((function(e){t.push(e.getEntity())})),t},t}()},function(t,e,n){n.d(e,"a",(function(){return o}));var i=n(10),o=function(){function t(){}return t.mergeRect=function(t,e){var n=Math.min(t.x,e.x),o=Math.min(t.y,e.y);return new i.b({x:n,y:o,height:Math.max(t.y+t.height,e.y+e.height)-o,width:Math.max(t.x+t.width,e.x+e.width)-n})},t.Rect=function(t,e,n,i){return{minX:t<n?t:n,minY:e<i?e:i,maxX:t<n?n:t,maxY:e<i?i:e}},t}()},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",(function(){return TablePrintElement}));var _BasePrintElement__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_PrintReferenceElement__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_option_TablePrintElementOption__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18),_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),_hitable_HiTale__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(16),_table_GridColumnsStructure__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(20),_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),__extends=(_extendStatics=function(t,e){return(_extendStatics=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_extendStatics,TablePrintElement=function(_super){function TablePrintElement(t,e){var n=_super.call(this,t)||this;return n.gridColumnsFooterCss="hiprint-gridColumnsFooter",n.tableGridRowCss="table-grid-row",n.options=new _option_TablePrintElementOption__WEBPACK_IMPORTED_MODULE_5__.a(e,n.printElementType),n.options.setDefault(new _option_TablePrintElementOption__WEBPACK_IMPORTED_MODULE_5__.a(_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.table.default).getPrintElementOptionEntity()),n}return __extends(TablePrintElement,_super),TablePrintElement.prototype.getColumns=function(){return this.options.columns},TablePrintElement.prototype.getColumnByColumnId=function(t){return this.options.getColumnByColumnId(t)},TablePrintElement.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.designTarget.find(".hiprint-printElement-table-content"),e=this.getHtml(this.designPaper);t.html(""),t.append(e[0].target.find(".table-grid-row")),this.printElementType.editable&&this.setHitable(),this.setColumnsOptions(),this.css(this.designTarget,this.getData())}},TablePrintElement.prototype.css=function(t,e){if((this.getField()||!this.options.content)&&!this.printElementType.formatter)return _super.prototype.css.call(this,t,e)},TablePrintElement.prototype.getDesignTarget=function(t){return this.designTarget=this.getHtml(t)[0].target,this.css(this.designTarget,this.getData()),this.designPaper=t,this.designTarget.find("td").hidroppable({accept:".rn-draggable-item",onDrop:function(t,e){},onDragEnter:function(t,e){$(e).removeClass("rn-draggable-item")},onDragLeave:function(t,e){$(e).addClass("rn-draggable-item")}}),this.designTarget},TablePrintElement.prototype.getConfigOptions=function(){return _HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.table},TablePrintElement.prototype.createTarget=function(t,e,n){for(var i=$('<div class="hiprint-printElement hiprint-printElement-table" style="position: absolute;"><div class="hiprint-printElement-table-handle"></div><div class="hiprint-printElement-table-content" style="height:100%;width:100%"></span></div>'),o=this.createGridColumnsStructure(n),r=0;r<o.gridColumns;r++)o.getByIndex(r).append(this.getTableHtml(e,n));return i.find(".hiprint-printElement-table-content").append(o.target),i},TablePrintElement.prototype.createGridColumnsStructure=function(t){for(var e=$('<div class="hi-grid-row table-grid-row"></div>'),n=0;n<this.options.getGridColumns();n++){var i=$('<div class="tableGridColumnsGutterRow hi-grid-col" style="width:'+100/this.options.getGridColumns()+'%;"></div>');e.append(i)}var o=this.getGridColumnsFooterFormatter();if(o){var r=$('<div class="hiprint-gridColumnsFooter"></div>');r.append(o(this.options,this.getData(t),t,[])),e.append(r)}return new _table_GridColumnsStructure__WEBPACK_IMPORTED_MODULE_8__.a(this.options.getGridColumns(),e)},TablePrintElement.prototype.createtempEmptyRowsTargetStructure=function(t){if(this.getField())return this.createTarget(this.printElementType.title,[]);var e=this.createTarget(this.printElementType.title,[]).clone();return e.find(".hiprint-printElement-tableTarget tbody tr").remove(),e},TablePrintElement.prototype.getTableHtml=function(t,e){var n,i;if(!this.getField()&&this.options.content)return(n=$("<div></div>")).append(this.options.content),(i=n.find("table")).addClass("hiprint-printElement-tableTarget"),i;if(this.printElementType.formatter)return(n=$("<div></div>")).append(this.printElementType.formatter(t)),(i=n.find("table")).addClass("hiprint-printElement-tableTarget"),i;var o=$('<table class="hiprint-printElement-tableTarget" style="border-collapse: collapse;"></table>');return o.append(_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.createTableHead(this.getColumns(),this.options.getWidth()/this.options.getGridColumns())),o.append(_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.createTableRow(this.getColumns(),t,this.options,this.printElementType)),"no"==this.options.tableFooterRepeat||_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.createTableFooter(this.printElementType.columns,t,this.options,this.printElementType,e,t).insertBefore(o.find("tbody")),o},TablePrintElement.prototype.getEmptyRowTarget=function(){return _table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.createEmptyRowTarget(this.getColumns())},TablePrintElement.prototype.getHtml=function(t,e){this.createTempContainer();var n=this.getPaperHtmlResult(t,e);return this.removeTempContainer(),n},TablePrintElement.prototype.getPaperHtmlResult=function(t,e){var n=[],i=this.getData(e),o=this.getTableHtml(i,e),r=this.createtempEmptyRowsTargetStructure(e);e?this.updateTargetWidth(r):this.updateTargetSize(r),this.css(r,i),this.css(o,i),this.getTempContainer().html(""),this.getTempContainer().append(r);var a=r.find("tfoot").outerHeight()||0;r.find("tfoot").remove();for(var s,p=this.getBeginPrintTopInPaperByReferenceElement(t),l=0,d=!1;!d;){var h=0,u=t.getPaperFooter(l);0==l&&p>u&&"none"!=t.panelPageRule&&(p=p-u+t.paperHeader,n.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_2__.a({target:void 0,printLine:void 0})),h=t.getContentHeight(l)-(p-t.paperHeader),l++,u=t.getPaperFooter(l));var c=n.length>0?n[n.length-1].target:void 0,f=this.getRowsInSpecificHeight(e,h>0?h:0==l?u-p:t.getContentHeight(l),r,o,l,c,a);d=f.isEnd;var g=void 0;f.target&&(f.target.css("left",this.options.displayLeft()),f.target[0].height="",0==l||h>0?(s=p,f.target.css("top",p+"pt"),g=d&&null!=this.options.lHeight?p+(f.height>this.options.lHeight?f.height:this.options.lHeight):p+f.height):(s=t.paperHeader,f.target.css("top",s+"pt"),g=t.paperHeader+f.height),n.push(new _dto_PaperHtmlResult__WEBPACK_IMPORTED_MODULE_2__.a({target:f.target,printLine:g,referenceElement:new _PrintReferenceElement__WEBPACK_IMPORTED_MODULE_4__.a({top:this.options.getTop(),left:this.options.getLeft(),height:this.options.getHeight(),width:this.options.getWidth(),beginPrintPaperIndex:t.index,bottomInLastPaper:g,printTopInPaper:s})})),l++),e&&this.updatePanelHeight(g+this.options.getHeight(),t)}return n},TablePrintElement.prototype.getRowsInSpecificHeight=function(t,e,n,i,o,r,a){var s=this,p=i.find("tbody"),l=_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.pt.toPx(e);n.find(".hiprint-printElement-tableTarget tbody").html(""),"last"!=this.options.tableFooterRepeat&&n.find(".hiprint-printElement-tableTarget tfoot").remove(),"first"==this.options.tableHeaderRepeat&&o>0?n.find(".hiprint-printElement-tableTarget thead").remove():"none"==this.options.tableHeaderRepeat&&(t?n.find(".hiprint-printElement-tableTarget thead").remove():(n.find(".hiprint-printElement-tableTarget thead").css("background","firebrick"),n.find(".hiprint-printElement-tableTarget thead tr").css("background","firebrick")));var d="none"==this.panel.panelPageRule,h=n.outerHeight();if(!d&&h>l)return{target:void 0,length:0,height:0,isEnd:!1};for(var u=this.options.getGridColumns(),c=[],f=0;f<u;f++)for(var g=n.find(".hiprint-printElement-tableTarget:eq("+f+")"),m=void 0,v=[];;){if(d){var y=p.find("tr").length;if(0==y)m={height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(h),isEnd:!0},t&&this.options.autoCompletion&&(this.autoCompletion(l,g),h=n.outerHeight());else{var b=p.find("tr:lt(1)");g.find("tbody").append(b);var _=b.data("rowData");c.push(_),v.push(_),h=n.outerHeight(),0==y&&(p.prepend(b),c.pop(),v.pop(),m={height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(h),isEnd:!1})}}else if(h<=l)if(0==p.find("tr").length)m={height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(h),isEnd:!0},t&&this.options.autoCompletion&&(this.autoCompletion(l,g),h=n.outerHeight());else{b=p.find("tr:lt(1)");g.find("tbody").append(b);_=b.data("rowData");c.push(_),v.push(_),h=n.outerHeight(),(h+=a)>l&&(p.prepend(b),c.pop(),v.pop(),h=n.outerHeight(),m={height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(h),isEnd:!1})}if(m){if("last"==this.options.tableFooterRepeat&&!m.isEnd)break;"no"!==this.options.tableFooterRepeat&&(_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.createTableFooter(this.printElementType.columns,this.getData(t),this.options,this.printElementType,t,v).insertBefore(g.find("tbody")),s.css(g,t));break}}var E=n.find(".hiprint-printElement-tableTarget tbody tr").length,T=this.getGridColumnsFooterFormatter();T&&n.find(this.gridColumnsFooterCss).html(T(this.options,this.getData(t),t,c)),h=n.outerHeight();var P=0==p.find("tr").length?0==E&&r?{target:void 0,length:0,height:0,isEnd:!0}:{target:n.clone(),length:E,height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(h),isEnd:!0}:{target:n.clone(),length:E,height:_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.px.toPt(h),isEnd:!1};return P},TablePrintElement.prototype.autoCompletion=function(t,e){for(var n,i=this.getEmptyRowTarget(),o=e.outerHeight();t>o;)n=i.clone(),e.find("tbody").append(n),o=e.outerHeight();n&&n.remove()},TablePrintElement.prototype.getData=function(t){if(!t)return[{}];var e=this.getField(),n=e&&e.split(".").reduce((e,n)=>e?e[n]:t?t[n]:"",!1)||"";return n?JSON.parse(JSON.stringify(n)):[]},TablePrintElement.prototype.onResize=function(t,e,n,i,o){_super.prototype.updateSizeAndPositionOptions.call(this,o,i,n,e),_table_TableExcelHelper__WEBPACK_IMPORTED_MODULE_6__.a.resizeTableCellWidth(this.designTarget,this.getColumns(),this.options.getWidth())},TablePrintElement.prototype.getReizeableShowPoints=function(){return["s","e"]},TablePrintElement.prototype.design=function(t,e){var n=this;this.designTarget.hidraggable({handle:this.designTarget.find(".hiprint-printElement-table-handle"),axis:n.options.axis?n.options.axis:void 0,designTarget:n,onDrag:function(t,i,o){n.updateSizeAndPositionOptions(i,o),n.createLineOfPosition(e),_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.changed=!0},moveUnit:"pt",minMove:_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.movingDistance,onBeforeDrag:function(t){_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.draging=!0,n.createLineOfPosition(e)},getScale:function(){return n.designPaper.scale||1},onStopDrag:function(t){_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.changed&&_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.event.trigger("hiprintTemplateDataChanged_"+n.templateId,"移动"),_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.draging=!1,_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.changed=!1,n.removeLineOfPosition()}}),this.printElementType.editable&&this.setHitable(),this.setColumnsOptions(),this.designTarget.hireizeable({showPoints:n.getReizeableShowPoints(),showSizeBox:_HiPrintConfig__WEBPACK_IMPORTED_MODULE_1__.a.instance.showSizeBox,noContainer:!0,onBeforeResize:function(){_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.draging=!0},getScale:function(){return n.designPaper.scale||1},onResize:function(t,i,o,r,a){n.onResize(t,i,o,r,a),n.hitable&&n.hitable.updateColumnGrips(),n.createLineOfPosition(e)},onStopResize:function(t){_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.event.trigger("hiprintTemplateDataChanged_"+n.templateId,t?"旋转":"大小"),_HiPrintlib__WEBPACK_IMPORTED_MODULE_9__.a.instance.draging=!1,n.removeLineOfPosition()}}),this.bingKeyboardMoveEvent(this.designTarget,e)},TablePrintElement.prototype.setHitable=function(){var t=this;this.hitable=new _hitable_HiTale__WEBPACK_IMPORTED_MODULE_7__.a({table:this.designTarget.find(".hiprint-printElement-tableTarget:eq(0)"),rows:this.getColumns(),resizeRow:!1,resizeColumn:!0,fields:this.options.fields,trs:this.designTarget.find(".hiprint-printElement-tableTarget:eq(0)").find("tbody tr"),handle:this.designTarget.find(".hiprint-printElement-tableTarget:eq(0)").find("thead"),isEnableEdit:this.printElementType.editable,columnDisplayEditable:this.printElementType.columnDisplayEditable,columnDisplayIndexEditable:this.printElementType.columnDisplayIndexEditable,columnResizable:this.printElementType.columnResizable,columnAlignEditable:this.printElementType.columnAlignEditable,isEnableEditText:this.printElementType.columnTitleEditable,isEnableEditField:this.printElementType.isEnableEditField,isEnableContextMenu:this.printElementType.isEnableContextMenu,isEnableInsertRow:this.printElementType.isEnableInsertRow,isEnableDeleteRow:this.printElementType.isEnableDeleteRow,isEnableInsertColumn:this.printElementType.isEnableInsertColumn,isEnableDeleteColumn:this.printElementType.isEnableDeleteColumn,isEnableMergeCell:this.printElementType.isEnableMergeCell}),_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.event.on("updateTable"+this.hitable.id,(function(){t.updateDesignViewFromOptions()}))},TablePrintElement.prototype.setColumnsOptions=function(){var t=this;this.designTarget.find(".hiprint-printElement-tableTarget:eq(0)").find("thead td").bind("click.hiprint",(function(e){var n=$(e.target).attr("column-id"),i=t.getColumnByColumnId(n);if(i){var o=t.getPrintElementOptionItemsByName("tableColumn");_assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.event.trigger(t.getPrintElementSelectEventKey(),{printElement:t,customOptionsInput:[{title:i.title+"-列属性",optionItems:o,options:i,callback:function(t){o.forEach((function(t){var e=t.getValue();i[t.name]=e}))}}]})}else _assets_plugins_hinnn__WEBPACK_IMPORTED_MODULE_3__.a.event.trigger(t.getPrintElementSelectEventKey(),{printElement:t})}))},TablePrintElement.prototype.filterOptionItems=function(t){var e=_super.prototype.filterOptionItems.call(this,t);return this.printElementType.editable&&1==this.options.columns.length?e:t.filter((function(t){return"columns"!=t.name}))},TablePrintElement.prototype.getFooterFormatter=function(){var footerFormatter=void 0;if(this.printElementType.footerFormatter&&(footerFormatter=this.printElementType.footerFormatter),this.options.footerFormatter)try{var s="footerFormatter="+this.options.footerFormatter;eval(s)}catch(t){console.log(t)}return footerFormatter},TablePrintElement.prototype.getGridColumnsFooterFormatter=function(){var gridColumnsFooterFormatter=void 0;if(this.printElementType.gridColumnsFooterFormatter&&(gridColumnsFooterFormatter=this.printElementType.gridColumnsFooterFormatter),this.options.gridColumnsFooterFormatter)try{var s="gridColumnsFooterFormatter="+this.options.gridColumnsFooterFormatter;eval(s)}catch(t){console.log(t)}return gridColumnsFooterFormatter},TablePrintElement}(_BasePrintElement__WEBPACK_IMPORTED_MODULE_0__.a)},function(t,e,n){var i=function(){return function(t){this.table=t.table,this.fields=t.fields,this.isEnableEdit=t.isEnableEdit,this.trs=t.trs,this.resizeRow=t.resizeRow,this.resizeColumn=t.resizeColumn,this.isEnableEditField=t.isEnableEditField,this.isEnableContextMenu=t.isEnableContextMenu,this.isEnableEditField=t.isEnableEditField,this.isEnableInsertRow=t.isEnableInsertRow,this.isEnableDeleteRow=t.isEnableDeleteRow,this.isEnableInsertColumn=t.isEnableInsertColumn,this.isEnableDeleteColumn=t.isEnableDeleteColumn,this.isEnableMergeCell=t.isEnableMergeCell,this.columnResizable=t.columnResizable,this.columnAlignEditable=t.columnAlignEditable}}(),o=function(){function t(t){this.options=new i(t)}return t.prototype.enableEidt=function(){this.options.isEnableEdit},t.prototype.disableEdit=function(){this.options.isEnableEdit},t.prototype.isEnableEdit=function(){return this.options.isEnableEdit},t}(),r=n(0),a=function(){return function(t){this.cell=t.cell,this.link=t.link,this.linkType=t.linkType,this.bottom=t.bottom,this.rightMost=t.rightMost,this.rowLevel=t.rowLevel,this.columnLevel=t.columnLevel,this.indexInTableGridRow=t.indexInTableGridRow,this.indexInTableGridColumn=t.indexInTableGridColumn}}(),s=n(10),p=function(){function t(){}return t.getLeftTableCell=function(t,e){var n;return t.forEach((function(t,i){t.cell&&i<e&&(n=t.cell)})),n},t.getIndex=function(t,e){var n;return t.forEach((function(t,i){t.cell&&t.cell.id==e&&(n=i)})),n},t}(),l=n(13),d=n(11),h=function(){return function(t,e){this.target=t,this.grips=e}}(),u=function(){return function(t){this.target=t}}(),c=function(){return function(){this.rowColumns=[]}}(),f=function(){function t(){}return t.getColumnsWidth=function(e,n){var i={},o=t.allAutoWidth(e);return e.rowColumns.forEach((function(t){var e=n-0,r=t.width/o*(e>0?e:0);i[t.id]=r})),i},t.resizeTableCellWeight=function(t){t.forEach((function(t){t.columns.forEach((function(t){t.hasWidth&&$(t.getTarget()).css("width",t.width+"pt")}))}))},t.allAutoWidth=function(t){var e=0;return t.rowColumns.forEach((function(t){e+=t.width})),e},t.reconsitutionTableColumnTree=function(t,e,n){for(var i=e||new c,o=function(e){i.totalLayer=e+1,i[e]=t[e].columns,i.rowColumns=i.rowColumns.concat(i[e].filter((function(n){return n.rowspan==t.length-e})))},r=0;r<t.length;r++)o(r);return i},t}(),g=n(2),m=function(){function t(t){this.signature="HiTresizer",this.hitable=t,this.rows=t.rows,this.target=t.target}return t.prototype.init=function(){this.addResizeRowAndColumn(),this.hitable.optionsCoat.options.resizeColumn&&this.createColumnGrips(),this.hitable.optionsCoat.options.resizeRow&&this.createRowGrips()},t.prototype.resizeTableCellWidth=function(){f.resizeTableCellWeight(this.rows)},t.prototype.addResizeRowAndColumn=function(){},t.prototype.createColumnGrips=function(){var t=this,e=this,n=[],i=$('<div class="columngrips"/>');i.width(this.target.width()),this.rows.forEach((function(o){(o.columns||[]).filter((function(t){return t.checked})).forEach((function(o,a){if(o.getTarget().attr("haswidth")){var s=$('<div class="columngrip"><div class="gripResizer"></div></div>');i.append(s);var p=new u(s);n.length>0&&(n[n.length-1].nextGrip=p),n.push(p),t.syncGrips(o,p),$(s).hidraggable({axis:"h",onDrag:function(t,e,n){},moveUnit:"pt",minMove:1,getScale:function(){return $(".hiprint-printPaper")[0].style.transform&&parseFloat($(".hiprint-printPaper")[0].style.transform.slice(6,-1))||1},onBeforeDrag:function(t){if(g.a.instance.draging=!0,!p.nextGrip)return!1;e.dragingGrip=p,e.dragingGrip.left=parseFloat(e.dragingGrip.target.css("left").replace("px","")),p.target.addClass("columngripDraging")},onStopDrag:function(n){g.a.instance.draging=!1;var i=parseFloat(e.dragingGrip.target.css("left").replace("px","")),o=r.a.px.toPt(i-e.dragingGrip.left);p.cell.width+o<10?o=10-p.cell.width:p.nextGrip.cell.width-o<10&&(o=p.nextGrip.cell.width-10),p.cell.width=p.cell.width+o,p.nextGrip.cell.width=p.nextGrip.cell.width-o,t.resizeTableCellWidth(),p.target.removeClass("columngripDraging"),e.updateColumnGrips()}})}}))})),this.target.before(i),this.cgripContariner=new h(i,n)},t.prototype.updateColumnGrips=function(){this.cgripContariner&&(this.cgripContariner.target.remove(),this.createColumnGrips())},t.prototype.updateRowGrips=function(){this.rgripContariner&&(this.rgripContariner.target.remove(),this.createRowGrips())},t.prototype.createRowGrips=function(){var t=this,e=this,n=[],i=$('<div class="rowgrips"/>');this.rows.forEach((function(o,a){var s=$('<div class="rowgrip"><div class="gripResizer"></div></div>');i.append(s);var p=new u(s);n.push(p),a>0&&a<t.rows.length&&$(s).hidraggable({axis:"v",onDrag:function(t,e,n){},moveUnit:"pt",minMove:1,onBeforeDrag:function(t){e.dragingGrip=p,e.dragingGrip.top=parseFloat(e.dragingGrip.target.css("top").replace("px","")),p.target.addClass("rowgripDraging")},onStopDrag:function(t){var n=parseFloat(e.dragingGrip.target.css("top").replace("px","")),i=r.a.px.toPt(n-e.dragingGrip.top+e.rows[a].columns[0].getTarget().height());e.rows[a].columns[0].getTarget().css("height",i+"pt"),e.syncRowGrips(),p.target.removeClass("rowgripDraging")}})})),this.target.before(i),this.rgripContariner=new h(i,n),this.syncRowGrips()},t.prototype.syncGrips=function(t,e){var n=t.getTarget();e.cell=t,e.target.css({left:n.offset().left-this.target.offset().left+n.outerWidth(!1),height:30})},t.prototype.syncRowGrips=function(){var t=this;this.rgripContariner.target.height(this.target.height()),this.rows.forEach((function(e,n){var i=e.columns[0].getTarget();t.rgripContariner.grips[n].target.css({top:i.offset().top-t.target.offset().top+i.outerHeight(!1),width:30})}))},t.prototype.addResizerHeadRow=function(){this.target.find("thead").prepend()},t}(),v=function(){function t(){}return t.prototype.init=function(){},t.prototype.updateRowGrips=function(){},t.prototype.updateColumnGrips=function(){},t}();n.d(e,"a",(function(){return y}));var y=function(){function t(t){this.id=d.a.createId(),this.optionsCoat=new o(t),this.handle=t.handle,this.target=t.table,this.initRows(t.rows),this.init(t),this.tableCellSelector=new s.a(this.rows,this.target),this.resizer=this.optionsCoat.options.columnResizable?new m(this):new v,this.resizer.init()}return t.prototype.insertRow=function(t,e,n){var i=e||this.tableCellSelector.getSingleSelect(),o=i.cell,a=this.rows[i.rowIndex],s=i.rowIndex,p=this.getCellGrid(),d=new l.a;if(d.init(this.optionsCoat,void 0,a.isHead),n&&d.getTarget().addClass(n),"above"==t)p[s].forEach((function(t){var e=t.link?t.link:t.cell,n=e.width/e.colspan;if(0==t.columnLevel){var i=d.createTableCell();i.width=n,d.insertCellToLast(i)}else{if("column"==t.linkType){var o=t.link.getTarget();t.link.rowspan+=1,o.attr("rowspan",t.link.rowspan)}t.linkType}})),this.rows.splice(s,0,d),a.getTarget().before(d.getTarget()),r.a.event.trigger("newRow"+this.id,d);else{var h=s+o.rowspan-1;p[h].forEach((function(t){var e=t.link?t.link:t.cell,n=e.width/e.colspan;if(t.bottom){var i=d.createTableCell();i.width=n,d.insertCellToLast(i)}else{if(t.cell){var o=t.cell.getTarget();t.cell.rowspan+=1,o.attr("rowspan",t.cell.rowspan)}"column"==t.linkType&&(o=t.link.getTarget(),t.link.rowspan+=1,o.attr("rowspan",t.link.rowspan))}})),this.rows.splice(h+1,0,d),this.rows[h].getTarget().after(d.getTarget()),r.a.event.trigger("newRow"+this.id,d)}},t.prototype.insertColumn=function(t,e,n,i){var o=this,a=this.rows.concat(this.trRows),s=e||this.tableCellSelector.getSingleSelect(),p=s.cell,l=s.rowIndex,d=this.getCellGrid(a),h=d[l].filter((function(t){return t.cell&&t.cell.id==p.id||t.link&&t.link.id==p.id}));if("left"==t){var u=h[0].indexInTableGridRow;d.forEach((function(t,e){var s=t[u],p=t.filter((function(t,e){return e>=u&&t.cell}));if(0==s.rowLevel){var l=a[e],d=a[e].createTableCell();n&&d.getTarget().addClass(n),null!=i&&(d.width=i),p.length?l.insertToTargetCellLeft(p[0].cell,d):l.insertCellToLast(d),r.a.event.trigger("newCell"+o.id,d)}else if("row"==s.linkType){var h=s.link.getTarget();s.link.colspan+=1,h.attr("colspan",s.link.colspan)}}))}else{var c=h[h.length-1].indexInTableGridRow;d.forEach((function(t,e){var s=t[c],p=t.filter((function(t,e){return e<=c&&t.cell}));if(s.rightMost){var l=a[e],d=l.createTableCell();n&&d.getTarget().addClass(n),null!=i&&(d.width=i),p.length?l.insertToTargetCellRight(p[p.length-1].cell,d):l.insertCellToFirst(d),r.a.event.trigger("newCell"+o.id,d)}else{var h=s.link||s.cell;if("row"==s.linkType){var u=h.getTarget();h.colspan+=1,u.attr("colspan",h.colspan)}s.cell&&(u=h.getTarget(),h.colspan+=1,u.attr("colspan",h.colspan))}}))}},t.prototype.deleteRow=function(){var t=this,e=this.tableCellSelector.getSingleSelect(),n=(e.cell,this.rows[e.rowIndex],e.rowIndex),i=this.getCellGrid(),o=this.rows[n];i[n].forEach((function(e,r){if(e.cell)if(1==e.cell.rowspan)o.removeCell(e.cell);else{o.removeCell(e.cell);var a=i[n+1].filter((function(t,e){return t.cell&&e>r})),s=t.rows[n+1],p=s.createTableCell(e.cell.rowspan-1,e.cell.colspan);a.length?s.insertToTargetCellLeft(a[0].cell,p):s.insertCellToLast(p)}else if("column"==e.linkType){var l=e.link;l.rowspan-=1,l.getTarget().attr("rowspan",l.rowspan)}})),o.getTarget().remove(),this.rows.splice(n,1)},t.prototype.deleteColums=function(){var t=this.rows.concat(this.trRows),e=this.tableCellSelector.getSingleSelect(),n=e.cell,i=e.rowIndex,o=this.getCellGrid(t),r=o[i].filter((function(t){return t.cell&&t.cell.id==n.id||t.link&&t.link.id==n.id}))[0].indexInTableGridRow;o.forEach((function(e,n){var i=e[r];i.cell?1==i.cell.colspan?t[n].removeCell(i.cell):(i.cell.colspan-=1,i.cell.getTarget().attr("colspan",i.cell.colspan)):"row"==i.linkType&&(i.link.colspan-=1,i.link.getTarget().attr("colspan",i.link.colspan))}))},t.prototype.mergeCell=function(){var t=this,e=this.tableCellSelector.getSelectedCells();if(0!=e.length){var n=e[0][0].cell;e.forEach((function(i,o){i.forEach((function(i,r){0==o?0!=r&&(n.colspan+=i.cell.colspan,t.rows[i.rowIndex].removeCell(i.cell)):t.rows[i.rowIndex].removeCell(i.cell),0==r&&e[0][0].rowIndex+n.rowspan-1<i.rowIndex&&(n.rowspan+=i.cell.rowspan)}))})),n.getTarget().attr("colspan",n.colspan),n.getTarget().attr("rowspan",n.rowspan),this.tableCellSelector.setSingleSelect(e[0][0])}},t.prototype.splitCell=function(){var t=this.tableCellSelector.getSingleSelect(),e=this.getCellGrid(),n=p.getIndex(e[t.rowIndex],t.cell.id);if(t){for(var i=t.rowIndex;i<t.rowIndex+t.cell.rowspan;i++)for(var o=this.rows[i],r=i==t.rowIndex?t.cell:p.getLeftTableCell(e[i],n),a=0;a<t.cell.colspan;a++)i==t.rowIndex&&0==a||(r?o.insertToTargetCellRight(r,o.createTableCell()):o.insertCellToFirst(o.createTableCell()));t.cell.rowspan=1,t.cell.colspan=1,t.cell.getTarget().attr("colspan",t.cell.colspan),t.cell.getTarget().attr("rowspan",t.cell.rowspan)}},t.prototype.init=function(t){var e=this;$(this.target).addClass("hitable"),this.optionsCoat.onBeforEdit=function(n){return(!e.optionsCoat.options.onBeforEdit||!1!==t.onBeforEdit(n))&&(e.optionsCoat.editingCell&&e.optionsCoat.editingCell.endEdit(),!0)},$(this.target).mousedown((function(t){e.optionsCoat.isLeftMouseButtonDown=!0})),$(this.target).mouseup((function(t){e.optionsCoat.isLeftMouseButtonDown=!1})),this.initContext(),this.target.on("mousemove",(function(t){1===t.buttons&&e.tableCellSelector.multipleSelectByXY(t.pageX,t.pageY)})).on("mousedown",(function(t){1===t.buttons&&e.tableCellSelector.singleSelectByXY(t.pageX,t.pageY)}))},t.prototype.initRows=function(t){var e=this;if(this.trRows=[],t){this.rows=t,t.forEach((function(t,n){t.init(e.optionsCoat,e.target.find("tr:eq("+n+")"),!0)}));var n=this.optionsCoat.options.trs;n&&this.initRowsByTrs(n).forEach((function(t){e.trRows.push(t)}))}else this.rows=this.initRowsByTrs(this.target.find("tr"))},t.prototype.initRowsByTrs=function(t){var e=this;return t.map((function(t,n){var i=new l.a;return i.init(e.optionsCoat,$(n)),i})).get()},t.prototype.enableEidt=function(){this.optionsCoat.enableEidt()},t.prototype.disableEdit=function(){this.optionsCoat.disableEdit()},t.prototype.getCellGrid=function(t){var e=t||this.rows,n=this.getColumnStep(),i=new Array;return e.forEach((function(t,e){t.columns.forEach((function(t,o){for(var r=0;r<t.colspan;r++)for(var s=0,p=!1;s<n&&!p;){if(i[e]=i[e]||[],i[e][s]);else{i[e][s]=new a({cell:0==r?t:void 0,link:0!=r?t:void 0,linkType:r>0?"row":void 0,rightMost:r==t.colspan-1||void 0,bottom:0==t.rowspan-1,rowLevel:r,columnLevel:0,indexInTableGridRow:s,indexInTableGridColumn:e});for(var l=e+1,d=1;d<t.rowspan;d++)i[l]=i[l]||[],i[l][s]=new a({cell:void 0,link:t,linkType:r>0?"rowColumn":"column",rightMost:r==t.colspan-1||void 0,bottom:d==t.rowspan-1,rowLevel:r,columnLevel:d,indexInTableGridRow:s,indexInTableGridColumn:l}),l+=1;p=!0}s++}}))})),i},t.prototype.setAlign=function(t){var e=this.tableCellSelector.getSingleSelect();e&&e.cell.setAlign(t)},t.prototype.setVAlign=function(t){var e=this.tableCellSelector.getSingleSelect();e&&e.cell.setVAlign(t)},t.prototype.getColumnStep=function(t){var e=0;return this.rows.length&&this.rows[t||0].columns.forEach((function(t){e+=t.colspan})),e},t.prototype.initContext=function(){var t=this;if(!this.optionsCoat.options.isEnableContextMenu)return!1;$(this.handle).hicontextMenu({menus:[{text:"在上方插入行",enabled:this.optionsCoat.options.isEnableInsertRow,disable:function(){return!t.tableCellSelector.getSingleSelect()},callback:function(){t.insertRow("above"),t.resizer.updateRowGrips(),r.a.event.trigger("updateTable"+t.id)}},{text:"在下方插入行",borderBottom:!0,enabled:this.optionsCoat.options.isEnableInsertRow,disable:function(){return!t.tableCellSelector.getSingleSelect()},callback:function(){t.insertRow("below"),t.resizer.updateRowGrips(),r.a.event.trigger("updateTable"+t.id)}},{text:"向左方插入列",enabled:this.optionsCoat.options.isEnableInsertColumn,disable:function(){return!t.tableCellSelector.getSingleSelect()},callback:function(){t.insertColumn("left"),t.resizer.updateColumnGrips(),r.a.event.trigger("updateTable"+t.id)}},{text:"向右方插入列",enabled:this.optionsCoat.options.isEnableInsertColumn,disable:function(){return!t.tableCellSelector.getSingleSelect()},borderBottom:!0,callback:function(){t.insertColumn("right"),t.resizer.updateColumnGrips(),r.a.event.trigger("updateTable"+t.id)}},{text:"删除行",enabled:this.optionsCoat.options.isEnableDeleteRow,disable:function(){return!t.tableCellSelector.getSingleSelect()||t.rows.length<=1},callback:function(){t.deleteRow(),t.resizer.updateRowGrips(),r.a.event.trigger("updateTable"+t.id)}},{text:"删除列",borderBottom:!0,enabled:this.optionsCoat.options.isEnableDeleteColumn,disable:function(){return!t.tableCellSelector.getSingleSelect()||t.rows.length>0&&t.rows[0].columns.length<=1},callback:function(){t.deleteColums(),t.resizer.updateColumnGrips(),r.a.event.trigger("updateTable"+t.id)}},{text:"对齐",borderBottom:!0,enabled:this.optionsCoat.options.columnAlignEditable,menus:[{text:"左",callback:function(){t.setAlign("left")}},{text:"左右居中",callback:function(){t.setAlign("center")}},{text:"右",callback:function(){t.setAlign("right")}},{text:"默认",borderBottom:!0,callback:function(){t.setAlign("")}},{text:"上",callback:function(){t.setVAlign("top")}},{text:"垂直居中",callback:function(){t.setVAlign("middle")}},{text:"下",callback:function(){t.setVAlign("bottom")}},{text:"默认",callback:function(){t.setVAlign("")}}]},{text:"合并单元格",enabled:this.optionsCoat.options.isEnableMergeCell,disable:function(){return t.tableCellSelector.getSingleSelect()},callback:function(){t.mergeCell(),r.a.event.trigger("updateTable"+t.id)}},{text:"解开单元格",enabled:this.optionsCoat.options.isEnableMergeCell,disable:function(){var e=t.tableCellSelector.getSingleSelect();return!e||1==e.cell.rowspan&&1==e.cell.colspan},callback:function(){t.splitCell(),r.a.event.trigger("updateTable"+t.id)}}].filter((function(t){return t.enabled}))})},t.prototype.getTableWidth=function(){return r.a.px.toPt(this.target.outerWidth(!1))},t.prototype.updateColumnGrips=function(){this.resizer.updateColumnGrips()},t.prototype.updateRowGrips=function(){this.resizer.updateRowGrips()},t}()},function(t,e,n){n.d(e,"a",(function(){return i}));var i=function(){return function(t,e,n){this.tid=t,this.options=e,this.printElementType=n}}()},function(t,e,n){var i=n(3),o=n(12),r=function(){return function(t){this.width=t.width,this.title=t.title,this.field=t.field,this.checked=t.checked,this.columnId=t.columnId,this.fixed=!1,this.rowspan=t.rowspan||1,this.colspan=t.colspan||1,this.align=t.align,this.halign=t.halign,this.vAlign=t.vAlign,this.formatter2=t.formatter2,this.styler2=t.styler2,this.tableColumnHeight=t.tableColumnHeight||30,this.tableTextType=t.tableTextType||"text",this.tableBarcodeMode=t.tableBarcodeMode||"CODE128A",this.tableQRCodeLevel=t.tableQRCodeLevel||0,this.tableSummary=t.tableSummary}}(),a=n(5);n.d(e,"a",(function(){return l}));var s,p=(s=function(t,e){return(s=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n){var i=this;return e=e||{},(i=t.call(this,e)||this).lHeight=e.lHeight,i.autoCompletion=e.autoCompletion,i.tableFooterRepeat=e.tableFooterRepeat,n&&(i.columns=[],n.editable&&e.columns&&e.columns.length?e.columns.forEach((function(t){var e=[];t.forEach((function(t){var i=new r(t),o=n.getColumnByColumnId(i.columnId),s=o?$.extend(o,i):new a.a(i);e.push(s)})),i.columns.push(new o.a(e))})):n.columns.forEach((function(t){i.columns.push(new o.a(t))}))),i}return p(e,t),e.prototype.getColumnByColumnId=function(t){return this.makeColumnObj()[t]},e.prototype.makeColumnObj=function(){var t={};return this.columns&&this.columns.forEach((function(e){e.columns.forEach((function(e){e.columnId&&(t[e.columnId]=e)}))})),t},e.prototype.getGridColumns=function(){return this.gridColumns||1},e.prototype.getPrintElementOptionEntity=function(){var e=t.prototype.getPrintElementOptionEntity.call(this);return e.fields=this.fields,this.columns&&(e.columns=[],this.columns.forEach((function(t){var n=t.getPrintElementOptionEntity().map((function(t){return new r(t)}));e.columns.push(n)}))),e},e}(i.a)},function(t,e,n){n.d(e,"a",(function(){return i}));var i=function(){return function(){this.rowColumns=[]}}()},function(t,e,n){n.d(e,"a",(function(){return i}));var i=function(){function t(t,e){this.gridColumns=t,this.target=e}return t.prototype.getByIndex=function(t){return this.target.find(".hi-grid-col:eq("+t+")")},t}()},function(t,e,n){t.exports=n(33)},function(t,e){!function(t){function e(e){var n=t.data(e.data.target,"hidraggable"),i=n.options,o=n.proxy,r=e.data,a=r.startLeft+(e.pageX-r.startX)/(n.options.getScale()||1),s=r.startTop+(e.pageY-r.startY)/(n.options.getScale()||1);o&&(o.parent()[0]==document.body?(a=null!=i.deltaX&&null!=i.deltaX?e.pageX+i.deltaX:e.pageX-e.data.offsetWidth,s=null!=i.deltaY&&null!=i.deltaY?e.pageY+i.deltaY:e.pageY-e.data.offsetHeight):(null!=i.deltaX&&null!=i.deltaX&&(a+=e.data.offsetWidth+i.deltaX),null!=i.deltaY&&null!=i.deltaY&&(s+=e.data.offsetHeight+i.deltaY))),e.data.parent!=document.body&&(a+=t(e.data.parent).scrollLeft(),s+=t(e.data.parent).scrollTop()),"h"==i.axis?r.left=a:"v"==i.axis||e.shiftKey&&e.altKey?r.top=s:e.shiftKey?r.left=a:(r.left=a,r.top=s)}function n(e){var n=t.data(e.data.target,"hidraggable"),i=n.options,o=n.proxy;o||(o=t(e.data.target)),o.css({left:t.fn.dragLengthC(e.data.left,i),top:t.fn.dragLengthC(e.data.top,i)}),t("body").css("cursor",i.cursor)}function i(i){t.fn.hidraggable.isDragging=!0;var o=t.data(i.data.target,"hidraggable"),r=o.options,a=t(".hidroppable").filter((function(){return i.data.target!=this})).filter((function(){var e=t.data(this,"hidroppable").options.accept;return!e||t(e).filter((function(){return this==i.data.target})).length>0}));o.hidroppables=a;var s=o.proxy;return s||(r.proxy?(s="clone"==r.proxy?t(i.data.target).clone().insertAfter(i.data.target):r.proxy.call(i.data.target,i.data.target),o.proxy=s):s=t(i.data.target)),s.css("position","absolute"),e(i),n(i),r.onStartDrag.call(i.data.target,i),!1}function o(i){var o=t.data(i.data.target,"hidraggable");if(e(i),!i.ctrlKey&&!i.metaKey&&(i.data.target.className.startsWith("resize-panel")||"2"==i.data.target.style.zIndex||i.data.target.className.startsWith("hiprint-printElement"))){var r=i.data;if(0==t(".mouseRect").length&&o.options.designTarget&&o.options.designTarget.panel.printElements.filter((function(t){return"block"==t.designTarget.children().last().css("display")&&!t.printElementType.type.includes("table")})).length<=1){let t=window.hinnn.px.toPt(r.left),e=window.hinnn.px.toPt(r.top),n=o.options.designTarget.options;n.left=t,n.top=e,n.right=t+n.width,n.bottom=e+n.height,n.vCenter=t+n.width/2,n.hCenter=e+n.height/2,(()=>{let t=o.options.designTarget.panel.printElements.filter(t=>t.id!=o.options.designTarget.id).map(t=>{let{left:e,top:n,width:i,height:o}=t.options;return{...t.options,bottom:n+o,right:e+i,vCenter:e+i/2,hCenter:n+o/2}});for(let e in t)Math.abs(t[e].left-n.left)<=3?n.left=t[e].left:Math.abs(t[e].vCenter-n.left)<=3?n.left=t[e].vCenter:Math.abs(t[e].right-n.left)<=3&&(n.left=t[e].right),Math.abs(t[e].left-n.vCenter)<=3?n.left=t[e].left-n.width/2:Math.abs(t[e].vCenter-n.vCenter)<=3?n.left=t[e].vCenter-n.width/2:Math.abs(t[e].right-n.vCenter)<=3&&(n.left=t[e].right-n.width/2),Math.abs(t[e].left-n.right)<=3?n.left=t[e].left-n.width:Math.abs(t[e].vCenter-n.right)<=3?n.left=t[e].vCenter-n.width:Math.abs(t[e].right-n.right)<=3&&(n.left=t[e].right-n.width),Math.abs(t[e].top-n.top)<=3?n.top=t[e].top:Math.abs(t[e].hCenter-n.top)<=3?n.top=t[e].hCenter:Math.abs(t[e].bottom-n.top)<=3&&(n.top=t[e].bottom),Math.abs(t[e].top-n.hCenter)<=3?n.top=t[e].top-n.height/2:Math.abs(t[e].hCenter-n.hCenter)<=3?n.top=t[e].hCenter-n.height/2:Math.abs(t[e].bottom-n.hCenter)<=3&&(n.top=t[e].bottom-n.height/2),Math.abs(t[e].top-n.bottom)<=3?n.top=t[e].top-n.height:Math.abs(t[e].hCenter-n.bottom)<=3?n.top=t[e].hCenter-n.height:Math.abs(t[e].bottom-n.bottom)<=3&&(n.top=t[e].bottom-n.height)})(),i.data.left=window.hinnn.pt.toPx(n.left),i.data.top=window.hinnn.pt.toPx(n.top)}var a=r.parent.className.endsWith("design")?r.parent:r.parent.offsetParent,s=a.clientWidth,p=a.clientHeight,l=r.target.clientWidth,d=r.target.clientHeight;r.left<0?r.left=0:r.left>=s-l&&(r.left=s-l),r.top<0?r.top=0:r.top>=p-d&&(r.top=p-d),i.data=r}0!=o.options.onDrag.call(i.data.target,i,t.fn.dragLengthCNum(i.data.left,o.options),t.fn.dragLengthCNum(i.data.top,o.options))&&n(i);var h=i.data.target;return o.hidroppables.each((function(){var e=t(this);if(!e.hidroppable("options").disabled){var n=e.offset();i.pageX>n.left&&i.pageX<n.left+e.outerWidth()&&i.pageY>n.top&&i.pageY<n.top+e.outerHeight()?(this.entered||(t(this).trigger("_dragenter",[h]),this.entered=!0),t(this).trigger("_dragover",[h])):this.entered&&(t(this).trigger("_dragleave",[h]),this.entered=!1)}})),!1}function r(e){t.fn.hidraggable.isDragging=!1;var n,i,o=t.data(e.data.target,"hidraggable"),r=o.proxy,a=o.options;function s(){r&&r.remove(),o.proxy=null}function p(){var n=!1;return o.hidroppables.each((function(){var i=t(this);if(!i.hidroppable("options").disabled){var o=i.offset();return e.pageX>o.left&&e.pageX<o.left+i.outerWidth()&&e.pageY>o.top&&e.pageY<o.top+i.outerHeight()?(a.revert&&t(e.data.target).css({position:e.data.startPosition,left:e.data.startLeft,top:e.data.startTop}),t(this).trigger("_drop",[e.data.target]),s(),n=!0,this.entered=!1,!1):void 0}})),n||a.revert||s(),n}return a.revert?1==p()?t(e.data.target).css({position:e.data.startPosition,left:e.data.startLeft,top:e.data.startTop}):r?(r.parent()[0]==document.body?(n=e.data.startX-e.data.offsetWidth,i=e.data.startY-e.data.offsetHeight):(n=e.data.startLeft,i=e.data.startTop),r.animate({left:n,top:i},(function(){s()}))):t(e.data.target).animate({left:e.data.startLeft,top:e.data.startTop},(function(){t(e.data.target).css("position",e.data.startPosition)})):(t(e.data.target).css({position:"absolute",left:t.fn.dragLengthC(e.data.left,a),top:t.fn.dragLengthC(e.data.top,a)}),p()),a.onStopDrag.call(e.data.target,e),t(document).unbind(".hidraggable"),setTimeout((function(){t("body").css("cursor","")}),100),!1}t.fn.hidraggable=function(e,n){return"string"==typeof e?t.fn.hidraggable.methods[e](this,n):this.each((function(){var n,a=t.data(this,"hidraggable");a?(a.handle.unbind(".hidraggable"),n=t.extend(a.options,e)):n=t.extend({},t.fn.hidraggable.defaults,t.fn.hidraggable.parseOptions(this),e||{});var s=n.handle?"string"==typeof n.handle?t(n.handle,this):n.handle:t(this);function p(e){var n=t.data(e.data.target,"hidraggable"),i=n.handle,o=t(i).offset(),r=t(i)[0].style.transform&&parseInt(t(i)[0].style.transform.slice(7,-1)),a=n.options.getScale(),s=t(i).outerWidth(),p=t(i).outerHeight();if(r){var l=r*Math.PI/180,d=t(i).outerWidth(),h=t(i).outerHeight(),u=Math.sin(l),c=Math.cos(l);s=Math.abs(d*c)+Math.abs(h*u),p=Math.abs(d*u)+Math.abs(h*c)}a&&(s*=a,p*=a);var f=e.pageY-o.top,g=o.left+s-e.pageX,m=o.top+p-e.pageY,v=e.pageX-o.left;return Math.min(f,g,m,v)>n.options.edge}t.data(this,"hidraggable",{options:n,handle:s}),n.disabled?t(this).css("cursor",""):s.unbind(".hidraggable").bind("mousemove.hidraggable",{target:this},(function(e){if(!t.fn.hidraggable.isDragging){var n=t.data(e.data.target,"hidraggable").options;p(e)?t(this).css("cursor",n.cursor):t(this).css("cursor","")}})).bind("mouseleave.hidraggable",{target:this},(function(e){t(this).css("cursor","")})).bind("mousedown.hidraggable",{target:this},(function(e){if(0!=p(e)){t(this).css("cursor","");var n=t(e.data.target).position(),a=t(e.data.target).offset(),s={startPosition:t(e.data.target).css("position"),startLeft:n.left,startTop:n.top,left:n.left,top:n.top,startX:e.pageX,startY:e.pageY,offsetWidth:e.pageX-a.left,offsetHeight:e.pageY-a.top,target:e.data.target,parent:t(e.data.target).parent()[0]},l=s.target.style.transform&&parseInt(s.target.style.transform.slice(7,-1));if(l){var d=l*Math.PI/180,h=t(e.data.target).outerWidth(),u=t(e.data.target).outerHeight(),c=Math.sin(d),f=Math.cos(d),g=Math.abs(h*f)+Math.abs(u*c),m=Math.abs(h*c)+Math.abs(u*f),v=(g-h)/2,y=(m-u)/2;s.left+=v,s.top+=y,s.startLeft+=v,s.startTop+=y}var b=t.data(e.data.target,"hidraggable"),_=b.options.getScale();if(_&&(s.left/=_,s.top/=_,s.startLeft/=_,s.startTop/=_),t.extend(e.data,s),!1===b.options.draggable)return;if("r resizebtn"==e.target.className)return;0!=t.data(e.data.target,"hidraggable").options.onBeforeDrag.call(e.data.target,e)&&(t(document).bind("mousedown.hidraggable",e.data,i),t(document).bind("mousemove.hidraggable",e.data,o),t(document).bind("mouseup.hidraggable",e.data,r))}}))}))},t.fn.hidraggable.methods={options:function(e){return t.data(e[0],"hidraggable").options},update:function(e,n){n&&"object"==typeof n&&Object.keys(n).forEach((function(i){t.data(e[0],"hidraggable").options[i]=n[i]}))},proxy:function(e){return t.data(e[0],"hidraggable").proxy},enable:function(e){return e.each((function(){t(this).hidraggable({disabled:!1})}))},disable:function(e){return e.each((function(){t(this).hidraggable({disabled:!0})}))}},t.fn.hidraggable.parseOptions=function(e){var n=t(e);return t.extend({},t.hiprintparser.parseOptions(e,["cursor","handle","axis",{revert:"boolean",deltaX:"number",deltaY:"number",edge:"number"}]),{disabled:!!n.attr("disabled")||void 0})},t.fn.hidraggable.defaults={proxy:null,revert:!1,cursor:"move",deltaX:null,deltaY:null,handle:null,disabled:!1,edge:0,axis:null,getScale:function(t){},onBeforeDrag:function(t){},onStartDrag:function(t){},onDrag:function(t){},onStopDrag:function(t){}},t.fn.hidraggable.isDragging=!1}(jQuery)},function(t,e){!function(t){t.fn.hidroppable=function(e,n){return"string"==typeof e?t.fn.hidroppable.methods[e](this,n):(e=e||{},this.each((function(){var n,i=t.data(this,"hidroppable");i?t.extend(i.options,e):(t(n=this).addClass("hidroppable"),t(n).bind("_dragenter",(function(e,i){t.data(n,"hidroppable").options.onDragEnter.apply(n,[e,i])})),t(n).bind("_dragleave",(function(e,i){t.data(n,"hidroppable").options.onDragLeave.apply(n,[e,i])})),t(n).bind("_dragover",(function(e,i){t.data(n,"hidroppable").options.onDragOver.apply(n,[e,i])})),t(n).bind("_drop",(function(e,i){t.data(n,"hidroppable").options.onDrop.apply(n,[e,i])})),t.data(this,"hidroppable",{options:t.extend({},t.fn.hidroppable.defaults,t.fn.hidroppable.parseOptions(this),e)}))})))},t.fn.hidroppable.methods={options:function(e){return t.data(e[0],"hidroppable").options},enable:function(e){return e.each((function(){t(this).hidroppable({disabled:!1})}))},disable:function(e){return e.each((function(){t(this).hidroppable({disabled:!0})}))}},t.fn.hidroppable.parseOptions=function(e){var n=t(e);return t.extend({},t.hiprintparser.parseOptions(e,["accept"]),{disabled:!!n.attr("disabled")||void 0})},t.fn.hidroppable.defaults={accept:null,disabled:!1,onDragEnter:function(t,e){},onDragOver:function(t,e){},onDragLeave:function(t,e){},onDrop:function(t,e){}}}(jQuery)},function(t,e){var n;(n=jQuery).hiprintparser={parseOptions:function(t,e){var i=n(t),o={},r=n.trim(i.attr("data-options"));if(r&&("{"!=r.substring(0,1)&&(r="{"+r+"}"),o=new Function("return "+r)()),e){for(var a={},s=0;s<e.length;s++){var p=e[s];if("string"==typeof p)a[p]="width"==p||"height"==p||"left"==p||"top"==p?parseInt(t.style[p])||void 0:i.attr(p);else for(var l in p){var d=p[l];"boolean"==d?a[l]=i.attr(l)?"true"==i.attr(l):void 0:"number"==d&&(a[l]="0"==i.attr(l)?0:parseFloat(i.attr(l))||void 0)}}n.extend(o,a)}return o}},n.fn.dragLengthC=function(t,e){return"pt"==e.moveUnit?n.fn.dragLengthCNum(t,e)+"pt":n.fn.dragLengthCNum(t,e)},n.fn.dragLengthCNum=function(t,e){var n=3;if("pt"==e.moveUnit){var i=.75*t;return e.minMove&&(n=e.minMove),Math.round(i/n)*n}return Math.round(i/n)*n}},function(t,e){var n,i,o;n=jQuery,i={maxPanelIndex:0},(o=function(t){this.options=n.data(t.target,"hireizeable").options,this.init(t.target)}).prototype={numHandlerText:function(t){return this.numHandler(t)+"pt"},numHandler:function(t){var e=1.5,n=.75*t;return this.options.minResize&&(e=this.options.minResize),Math.round(n/e)*e},init:function(t){this.initResizeBox(t)},initResizeBox:function(t){var e=this;n(t).each((function(){var o;i.maxPanelIndex+=1,e.options.noContainer?o=n(t):(o=n("<div panelIndex="+i.maxPanelIndex+' class="resize-panel"></div>')).css({width:"100%",height:"100%",top:0,left:0,position:"absolute","background-color":"rgba(0,0,0,0.5)",cursor:"move",display:"none"}),e.appendHandler(o,n(this));var r={name:"n",target:n('<div class="n resizebtn" style="cursor: n-resize;top: -12px;margin-left: -4px;left: 50%;"></div>')},a={name:"s",target:n('<div class="s resizebtn" style="cursor: s-resize;bottom: -12px;margin-left: -4px;left: 50%;"></div>')},s={name:"w",target:n('<div class="w resizebtn" style="cursor: w-resize;left: -12px;margin-top: -4px;top: 50%;"></div>')},p={name:"e",target:n('<div class="e resizebtn" style="cursor: e-resize; top: 50%; margin-top:-4px;right: -12px;"></div>')},l={name:"ne",target:n('<div class="ne resizebtn" style="cursor: ne-resize;top: -12px;right: -12px;"></div>')},d={name:"nw",target:n('<div class="nw resizebtn" style=" cursor: nw-resize;top: -12px;left:-12px;"></div>')},h={name:"se",target:n('<div class="se resizebtn" style="cursor: se-resize;bottom:-12px;right: -12px;"></div>')},u={name:"sw",target:n('<div class="sw resizebtn" style="cursor: sw-resize;bottom: -12px;left: -12px;"></div>')},c=(r={name:"r",target:n('<div class="r resizebtn" style="cursor:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABvUExURUdwTP///9XV1R0dHf///3Nzc////////////////1ZWVq+vr/T09PX19QQEBP///////8XFxf///////////wYGBv///+jo6P///4aGhqioqMzMzP///2BgYP///////////zExMf///wAAAP///xLps0AAAAAjdFJOUwCxxOdixRDmzSDMv8/Z+tz5wWpXWPk3zALCv8KnyXZVMNuNPnv3CwAAAJ1JREFUKM/NkckOwyAMRFkDBMhC9qWr+//fWCIV1WlzrjoXS36yxmMT8hdqqKoUvRAjMtw22kvecem1GjTuK1vApmI+wQMBbQFy5li+QQRaX4AtRX+vbntAJeRl9HTTx4TiwESs61DXNUPmVQeujzVrQwh43TTxpeRBslVfMUhbiXKWyiAwvnIsMcdyJkfJYdpNvG/ltDm+bjP+8KFP8ggL+zQLGxwAAAAASUVORK5CYII=\') 14 14,alias;top: -16px;margin-left: -4px;left: 50%;"></div>')},n('<div class="size-box" style="position: absolute;left:-2px;"></div>')),f=function(){var t=[],i=e.options.showPoints;return n.each([r,a,s,p,l,d,h,u],(function(e,o){n.inArray(o.name,i)>-1&&t.push(o.target)})),t};e.refreshSizeBox(void 0,c,o),e.addHandlerCss(f()),e.appendHandler(f(),o),e.bindResizeEvent(o,n(this));var g=n(this);n(o).on("mousedown",".resizebtn",(function(){g.addClass("resizeing")})),n(".easyui-droppable").on("mouseup",(function(){g.removeClass("resizeing")})),e.bindTrigger(n(this))})),e.bindHidePanel()},addHandlerCss:function(t){for(var e=0;e<t.length;e++)t[e].css({position:"absolute",width:"8px",height:"8px",background:"#ff6600","border-radius":"50%"})},appendHandler:function(t,e){e.find(".resize-panel").remove();for(var n=0;n<t.length;n++)e.append(t[n])},refreshSizeBox:function(t,e,n){if(this.options.showSizeBox)if(e)n.append(e);else if(t&&t.length){var i=t[0].style,o=t.children("div[panelindex]").find(".size-box");o&&(o.text(i.width+" x "+i.height),o.css("top",-o.outerHeight()))}},triggerResize:function(t,e){e.ctrlKey||e.metaKey||t.siblings().children("div[panelindex]").css({display:"none"}),t.children("div[panelindex]").css({display:"block"}),this.refreshSizeBox(t)},bindResizeEvent:function(t,e){var i=this,o=0,r=0,a=t.width(),s=t.height(),p=t.offset().left,l=t.offset().top,d=i.options.noContainer?n(e):t.parent(),h=!1;t.on("mousedown",".e",(function(e){o=e.pageX,a=t.width(),h=!0}));var u=!1;t.on("mousedown",".s",(function(e){r=e.pageY,s=t.height(),u=!0}));var c=!1;t.on("mousedown",".w",(function(e){o=e.pageX,a=t.width(),c=!0,p=d.offset().left}));var f=!1;t.on("mousedown",".n",(function(e){r=e.pageY,s=t.height(),f=!0,l=d.offset().top}));var g=!1;t.on("mousedown",".ne",(function(e){o=e.pageX,r=e.pageY,a=t.width(),s=t.height(),g=!0,l=d.offset().top}));var m=!1;t.on("mousedown",".nw",(function(e){o=e.pageX,r=e.pageY,a=t.width(),s=t.height(),l=d.offset().top,p=d.offset().left,m=!0}));var v=!1;t.on("mousedown",".se",(function(e){o=e.pageX,r=e.pageY,a=t.width(),s=t.height(),v=!0}));var y=!1;t.on("mousedown",".sw",(function(e){o=e.pageX,r=e.pageY,a=t.width(),s=t.height(),y=!0,p=d.offset().left}));var b=!1;t.on("mousedown",".r",(function(e){o=e.pageX,r=e.pageY,a=t.width(),s=t.height(),b=!0,p=a/2+d.offset().left,l=s/2+d.offset().top})),t.on("dblclick",".r",(function(t){d.css({transform:"rotate(0deg)"}),i.options.onResize(t,void 0,void 0,void 0,void 0,0)}));var _=!1;t.on("mousedown",(function(t){i.options.onBeforeResize(),o=t.pageX,r=t.pageY,l=d.offset().top,p=d.offset().left,_=!1})),n(i.options.stage).on("mousemove",(function(e){if(h){var n=(e.pageX-o)/i.options.getScale();t.css({width:"100%"}),d.css({width:i.numHandlerText(a+n)}),i.options.onResize(e,void 0,i.numHandler(a+n),void 0,void 0)}else if(u){var E=(e.pageY-r)/i.options.getScale();t.css({height:"100%"}),d.css({height:i.numHandlerText(s+E)}),i.options.onResize(e,i.numHandler(s+E),void 0,void 0,void 0)}else if(b){t.css({height:"100%"});var T=e.pageX,P=(e.pageY,360*(T-o)/100);o=e.pageX;var w=d[0].style.transform&&parseInt(d[0].style.transform.slice(7,-1))||0,x=w+P;Math.abs(x)>360&&(x%=360),d.css({transform:"rotate("+x+"deg)"}),i.options.onResize(e,void 0,void 0,void 0,void 0,x)}else if(c)n=(e.pageX-o)/i.options.getScale(),t.css({width:"100%"}),d.css({width:i.numHandlerText(a-n),left:i.numHandlerText(i.options.noDrag?void 0:i.numHandler(p+n))}),i.options.onResize(e,void 0,i.numHandler(a-n),void 0,i.options.noDrag?void 0:i.numHandler(p+n));else if(f)E=(e.pageY-r)/i.options.getScale(),t.css({height:"100%"}),d.css({height:i.numHandlerText(s-E),top:i.numHandlerText(i.options.noDrag?void 0:l+E)}),i.options.onResize(e,i.numHandler(s-E),void 0,i.options.noDrag?void 0:i.numHandler(l+E),void 0);else if(g)n=(e.pageX-o)/i.options.getScale(),E=(e.pageY-r)/i.options.getScale(),t.css({height:"100%",width:"100%"}),d.css({height:i.numHandlerText(s-E),top:i.numHandlerText(i.options.noDrag?void 0:l+E),width:i.numHandlerText(a+n)}),i.options.onResize(e,i.numHandler(s-E),i.numHandler(a+n),i.options.noDrag?void 0:i.numHandler(l+E),void 0);else if(m)n=(e.pageX-o)/i.options.getScale(),E=(e.pageY-r)/i.options.getScale(),t.css({height:"100%",width:"100%"}),d.css({height:i.numHandlerText(s-E),top:i.numHandlerText(i.options.noDrag?void 0:l+E),width:i.numHandlerText(a-n),left:i.numHandlerText(i.options.noDrag?void 0:p+n)}),i.options.onResize(e,i.numHandler(s-E),i.numHandler(a-n),i.options.noDrag?void 0:i.numHandler(l+E),i.options.noDrag?void 0:i.numHandler(p+n));else if(v)if(n=(e.pageX-o)/i.options.getScale(),E=(e.pageY-r)/i.options.getScale(),t.css({width:"100%",height:"100%"}),e.shiftKey)d.css({width:i.numHandlerText(a+n),height:i.numHandlerText(s+E)}),i.options.onResize(e,i.numHandler(s+E),i.numHandler(a+n),void 0,void 0);else{var C=s/a,M=a+n,O=s+E;console.log("ratio",C),O=M*C,d.css({width:i.numHandlerText(M),height:i.numHandlerText(O)}),i.options.onResize(e,i.numHandler(O),i.numHandler(M),void 0,void 0)}else y?(n=(e.pageX-o)/i.options.getScale(),E=(e.pageY-r)/i.options.getScale(),t.css({width:"100%",height:"100%"}),d.css({width:i.numHandlerText(a-n),left:i.numHandlerText(i.options.noDrag?void 0:p+n),height:i.numHandlerText(s+E)}),i.options.onResize(e,i.numHandler(s+E),i.numHandler(a-n),i.numHandler(otundefinedop),i.options.noDrag?void 0:i.numHandler(p+n))):_&&(n=(e.pageX-o)/i.options.getScale(),E=(e.pageY-r)/i.options.getScale(),d.css({left:i.numHandlerText(i.options.noDrag?void 0:p+n),top:i.numHandlerText(i.options.noDrag?void 0:l+E)}),i.options.onResize(e,void 0,void 0,i.options.noDrag?void 0:i.numHandler(l+E),i.options.noDrag?void 0:i.numHandler(p+n)))})).on("mouseup",(function(t){(h||u||c||f||g||m||y||v||_||b)&&i.options.onStopResize(b),h=!1,u=!1,c=!1,f=!1,g=!1,m=!1,y=!1,v=!1,_=!1,b=!1}))},bindTrigger:function(t){var e=this;t.on("click",(function(i){i.stopPropagation(),e.triggerResize(t,i),n(".mouseRect").remove()}))},bindHidePanel:function(t){if(i.maxPanelIndex<2){var e=this.options.stage;n(e).bind("click",(function(t){t.target.className&&"string"==_typeof(t.target.className)&&t.target.className.includes("design")&&(t.stopPropagation(),n("div[panelindex]").css({display:"none"}))}))}}},n.fn.extend({hireizeable:function(t){return this.each((function(){var e,i=n.data(this,"hireizeable");e=i?n.extend({},i.options,t||{}):n.extend({},n.fn.hireizeable.defaults,t||{}),n.data(this,"hireizeable",{options:e}),new o({target:this,onResize:function(t,e,n,i,o){},onStopResize:function(t,e,n,i,o){}})}))}}),n.fn.hireizeable.defaults={stage:document,reizeUnit:"pt",minResize:1.5,showSizeBox:!0,showPoints:["s","e"],noContainer:!1,onBeforeResize:function(t,e,n,i,o){},onResize:function(t,e,n,i,o){},onStopResize:function(t,e,n,i,o){},noDrag:!1}},function(t,e){var n,i;n="connected",i="reconnecting",window.hiwebSocket={opened:!1,name:"webSockets",host:"http://localhost:17521",reconnectTimeout:6e4,reconnectWindowSetTimeout:null,reconnectDelay:2e3,supportsKeepAlive:function(){return!0},hasIo:function(t){return window.io},send:function(t){try{this.socket.emit("news",t)}catch(e){console.log("send data error:"+(t||"")+JSON.stringify(e))}},getPrinterList:function(){return this.printerList},refreshPrinterList:function(){try{this.socket.emit("refreshPrinterList")}catch(e){console.log("refreshPrinterList error:"+JSON.stringify(e))}},getAddress:function(t,...n){try{this.socket.emit("address",t,...n)}catch(e){console.log("getAddress error:"+JSON.stringify(e))}},ippPrint:function(t){try{this.socket.emit("ippPrint",t)}catch(e){console.log("ippPrint error:"+JSON.stringify(e))}},ippRequest:function(t){try{this.socket.emit("ippRequest",t)}catch(e){console.log("ippRequest error:"+JSON.stringify(e))}},setHost:function(t){this.host=t,this.stop(),this.start()},start:function(t){var e=this,i=this;window.WebSocket?this.socket||(this.socket=Object(socket_io_client__WEBPACK_IMPORTED_MODULE_4__["a"])(this.host,{reconnectionAttempts:5}),this.socket.on("connect",(function(o){i.opened=!0,console.log("Websocket opened."),e.socket.on("successs",(function(t){hinnn.event.trigger("printSuccess_"+t.templateId,t)})),e.socket.on("error",(function(t){hinnn.event.trigger("printError_"+t.templateId,t)})),e.socket.on("printerList",(function(t){i.printerList=t,hinnn.event.trigger("printerList",t)})),e.socket.on("address",(function(t,e,n){hinnn.event.trigger("address_"+t,{addr:e,e:n})})),e.socket.on("ippPrinterConnected",(function(t){hinnn.event.trigger("ippPrinterConnected",t)})),e.socket.on("ippPrinterCallback",(function(t,e){hinnn.event.trigger("ippPrinterCallback",{err:t,res:e})})),e.socket.on("ippRequestCallback",(function(t,e){hinnn.event.trigger("ippRequestCallback",{err:t,res:e})})),i.state=n,t&&t(!0,o)})),this.socket.on("disconnect",(function(){i.opened=!1,t&&t(!1)}))):console.log("WebSocket start fail"),t&&t(!1)},reconnect:function(){this.state!==n&&this.state!==i||(this.stop(),this.ensureReconnectingState()&&(console.log("Websocket reconnecting."),this.start()))},stop:function(){this.socket&&(console.log("Closing the Websocket."),this.socket.close(),this.socket=null,this.printerList=[])},ensureReconnectingState:function(){return this.state=i,this.state===i}}},function(t,e,n){var i=n(28);"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(30)(i,o),i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(29)(!1)).push([t.i,".hicontextmenu {\r\n\tposition: absolute;\r\n\tdisplay: inline-block;\r\n\twidth: 215px;\r\n\tpadding: 0 0;\r\n\tmargin: 0;\r\n\tfont-family: inherit;\r\n\tfont-size: inherit;\r\n\tlist-style-type: none;\r\n\tlist-style: none;\r\n\tbackground: #fff;\r\n\tborder: 1px solid #bebebe;\r\n\tborder-radius: 2px;\r\n\tfont-size: 13px;\r\n}\r\n\r\n.hicontextmenuroot .hicontextmenuitem {\r\n\tposition: relative;\r\n\t-webkit-box-sizing: content-box;\r\n\t-moz-box-sizing: content-box;\r\n\tbox-sizing: content-box;\r\n\tpadding: .2em 12px;\r\n\tcolor: #2f2f2f;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\ttext-decoration: none;\r\n\r\n\tuser-select: none;\r\n\tbackground-color: #fff;\r\n\r\n}\r\n\r\n.hicontextmenuroot>.hicontextmenuitem:hover,\r\n.hicontextmenuroot .hicontextmenuitem > a:hover {\r\n\tbackground-color: #f3f3f3;\r\n}\r\n\r\n.hicontextmenuroot .hicontextmenuitem>a {\r\n\ttext-decoration: none;\r\n\tcolor: #363636;\r\n\tline-height: 22px;\r\n\r\n}\r\n\r\n.hicontextmenuroot .hicontextsubmenu>ul {\r\n\tdisplay: none;\r\n\tposition: absolute;\r\n\r\n}\r\n\r\n.hicontextmenuroot .hicontextsubmenu:hover>ul {\r\n\tdisplay: block;\r\n\tleft: 100%;\r\n\ttop: -1px;\r\n\tmargin-left: 0px;\r\n}\r\n\r\n.hicontextmenuroot .borderBottom {\r\n\tborder-bottom: 1px solid #efe6e6;\r\n}\r\n\r\n.hicontextmenuroot .disable> a {\r\n  \r\n    color: #ccc;\r\n   \r\n}\r\n.hicontextmenuroot>.disable:hover,\r\n.hicontextmenuroot .disable> a:hover {\r\n\tbackground-color:#fff;\r\n}",""])},function(t,e,n){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,i=t[1]||"",o=t[3];if(!o)return i;if(e&&"function"==typeof btoa){var r=(n=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=o.sources.map((function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"}));return[i].concat(a).concat([r]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(o=0;o<t.length;o++){var a=t[o];null!=a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i,o,r={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&_instanceof(i,window.HTMLIFrameElement))try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),p=null,l=0,d=[],h=n(31);function u(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(y(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(y(i.parts[a],e));r[i.id]={id:i.id,refs:1,parts:s}}}}function c(t,e){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],a=e.base?r[0]+e.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function f(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=_typeof(t.insertAt)||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(t.insertAt.before,n);n.insertBefore(e,o)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){return n.nc}();i&&(t.attrs.nonce=i)}return v(e,t.attrs),f(t,e),e}function v(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function y(t,e){var n,i,o,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var a=l++;n=p||(p=m(e)),i=E.bind(null,n,a,!1),o=E.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),f(t,e),e}(e),i=function(t,e,n){var i=n.css,o=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(i=h(i)),o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),o=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(e),i=function(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){g(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=("undefined"===typeof document?"undefined":_typeof(document)))throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==_typeof(e.attrs)?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=c(t,e);return u(n,e),function(t){for(var i=[],o=0;o<n.length;o++){var a=n[o];(s=r[a.id]).refs--,i.push(s)}for(t&&u(c(t,e),e),o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var p=0;p<s.parts.length;p++)s.parts[p]();delete r[s.id]}}}};var b,_=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function E(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=_(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(t,e){var n,i;window,document,n=jQuery,(i=function(t,e){this.init(t,e)}).prototype={init:function(t,e){this.ele=t,this.defaults={menu:[{text:"text",menus:[{},{}],callback:function(){}}],target:function(t){},width:100,itemHeight:28,bgColor:"#fff",color:"#333",fontSize:14,hoverBgColor:"#f5f5f5"},this.opts=n.extend(!0,{},this.defaults,e),this.random=(new Date).getTime()+parseInt(1e3*Math.random()),this.eventBind()},renderMenu:function(t,e){var n=this,i=e;if(t&&t.length){var o=$('<ul class="hicontextmenu" style="z-index: 9999;"></ul>');i||(i=o).addClass("hicontextmenuroot"),$.each(t,(function(t,e){var i=!!e.disable&&e.disable(),r=$('<li class="hicontextmenuitem"><a href="javascript:void(0);"><span>'+(e.text||"")+"</span></a></li>");i&&r.addClass("disable"),e.borderBottom&&r.addClass("borderBottom"),e.menus&&(r.addClass("hicontextsubmenu"),n.renderMenu(e.menus,r)),e.callback&&r.click((function(t){$(this).hasClass("disable")||($(".hicontextmenuroot").remove(),e.callback()),t.stopPropagation()})),o.append(r)})),e&&e.append(o)}e||$("body").append(i).find(".hicontextmenuroot").hide()},setPosition:function(t){$(".hicontextmenuroot").css({left:t.pageX+2,top:t.pageY+2}).show()},eventBind:function(){var t=this;this.ele.on("contextmenu",(function(e){$(".hicontextmenuroot").remove(),e.preventDefault(),t.renderMenu(t.opts.menus),t.setPosition(e),t.opts.target&&"function"==typeof t.opts.target&&t.opts.target(n(this))})),n("body").on("click",(function(){n(".hicontextmenuroot").remove()}))}},n.fn.hicontextMenu=function(t){return new i(this,t),this}},function(t,e,n){n.r(e),n(22),n(23),n(24),n(25);var i,o=n(0);n(26),window.hiLocalStorage=(i=window.localStorage||null,{saveLocalData:function(t,e){return!(!i||!e||(i.setItem(t,e),0))},getLocalData:function(t){return i?i.getItem(t):null},removeItem:function(t){i&&i.removeItem(t)}}),n(27),n(32);var r,a=function(){function t(){this.allElementTypes=[]}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.addPrintElementTypes=function(t,e){var n=this;this[t]?this[t]=this[t].concat(e):this[t]=e,e.forEach((function(t){n.allElementTypes=n.allElementTypes.concat(t.printElementTypes)}))},t.prototype.removePrintElementTypes=function(t){var e=this;delete e[t],e.allElementTypes=e.allElementTypes.filter((function(e){return!e.tid.startsWith(t)}))},t.prototype.getElementTypeGroups=function(t){return this[this.formatterModule(t)]||[]},t.prototype.getElementType=function(t){var e=this.allElementTypes.filter((function(e){return e.tid==t}));if(e.length>0)return e[0]},t.prototype.updateElementType=function(t,e){var n=this.getElementType(t);if(e){var i=e(n),o=this.allElementTypes.findIndex((function(e){return e.tid=t}));if(o>=0)return this.allElementTypes.splice(o,1,i),i}return n},t.prototype.formatterModule=function(t){return t||"_default"},t}(),s=n(1),p=n(2),l=function(){function t(){}return t.prototype.createPrintElementTypeHtml=function(t,e){var n=$('<ul class="hiprint-printElement-type"></ul>');return e.forEach((function(t){var e=$("<li></li>");e.append('<span class="title">'+t.name+"</span>");var i=$("<ul></ul>");e.append(i),t.printElementTypes.forEach((function(t){i.append('<li><a class="ep-draggable-item" tid="'+t.tid+'">  '+t.getText()+" </a></li>")})),n.append(e)})),$(t).append(n),n.find(".ep-draggable-item")},t}(),d=n(5),h=n(15),u=function(){return function(t){this.title=t.title,this.type=t.type}}(),c=function(){return function(t){this.title=t.title,this.type=t.type,this.editable=t.editable,this.columnDisplayEditable=t.columnDisplayEditable,this.columnDisplayIndexEditable=t.columnDisplayIndexEditable,this.columnTitleEditable=t.columnTitleEditable,this.columnResizable=t.columnResizable,this.columnAlignEditable=t.columnAlignEditable,this.isEnableEditField=t.isEnableEditField,this.isEnableContextMenu=t.isEnableContextMenu,this.isEnableInsertRow=t.isEnableInsertRow,this.isEnableDeleteRow=t.isEnableDeleteRow,this.isEnableInsertColumn=t.isEnableInsertColumn,this.isEnableDeleteColumn=t.isEnableDeleteColumn,this.isEnableMergeCell=t.isEnableMergeCell}}(),f=function(){function t(t){var e=this;this.text=t.text,this.field=t.field,this.fields=t.fields,this.title=t.title,this.tid=t.tid,this.data=t.data,this.styler=t.styler,this.formatter=t.formatter,this.type=t.type,this.options=t.options,this.editable=t.editable,this.columnDisplayEditable=t.columnDisplayEditable,this.columnDisplayIndexEditable=t.columnDisplayIndexEditable,this.columnTitleEditable=t.columnTitleEditable,this.columnResizable=t.columnResizable,this.columnAlignEditable=t.columnAlignEditable,this.columns=[],(t.columns||[]).forEach((function(t,n){e.columns.push(e.createTableColumnArray(t))})),this.rowStyler=t.rowStyler,this.striped=t.striped,this.groupFields=t.groupFields||[],this.groupFormatter=t.groupFormatter,this.groupFooterFormatter=t.groupFooterFormatter,this.footerFormatter=t.footerFormatter,this.rowsColumnsMerge=t.rowsColumnsMerge,this.gridColumnsFooterFormatter=t.gridColumnsFooterFormatter,this.isEnableEditField=t.isEnableEditField,this.isEnableContextMenu=t.isEnableContextMenu,this.isEnableInsertRow=t.isEnableInsertRow,this.isEnableDeleteRow=t.isEnableDeleteRow,this.isEnableInsertColumn=t.isEnableInsertColumn,this.isEnableDeleteColumn=t.isEnableDeleteColumn,this.isEnableMergeCell=t.isEnableMergeCell,this.columnObj=this.makeColumnObj()}return t.prototype.getText=function(){return this.text||this.title||""},t.prototype.createPrintElement=function(t){var e=this;return this.columns&&0==this.columns.length&&(t.columns||[]).forEach((function(t,n){e.columns.push(e.createTableColumnArray(t))})),new h.a(this,t)},t.prototype.getData=function(){return[{}]},t.prototype.createTableColumnArray=function(t){var e=[];return t.forEach((function(t,n){e.push(new d.a(t))})),e},t.prototype.getPrintElementTypeEntity=function(){return"table"==this.type?new c({title:this.title,type:this.type,editable:this.editable,columnDisplayEditable:this.columnDisplayEditable,columnDisplayIndexEditable:this.columnDisplayIndexEditable,columnResizable:this.columnResizable,columnAlignEditable:this.columnAlignEditable,columnTitleEditable:this.columnTitleEditable,isEnableEditField:this.isEnableEditField,isEnableContextMenu:this.isEnableContextMenu,isEnableInsertRow:this.isEnableInsertRow,isEnableDeleteRow:this.isEnableDeleteRow,isEnableInsertColumn:this.isEnableInsertColumn,isEnableDeleteColumn:this.isEnableDeleteColumn,isEnableMergeCell:this.isEnableMergeCell}):new u({title:this.title,type:this.type})},t.prototype.getFields=function(){return this.fields},t.prototype.getOptions=function(){return this.options||{}},t.prototype.getColumnByColumnId=function(t){return this.columnObj[t]},t.prototype.makeColumnObj=function(t){var e={};return t?t.forEach((function(t){(t.columnId||t.id)&&(e[t.columnId||t.id]=t)})):this.columns&&this.columns.forEach((function(t){t.forEach((function(t){(t.columnId||t.id)&&(e[t.columnId||t.id]=t)}))})),this.columnObj=e,e},t}(),g=n(4),m=n(3),v=(r=function(t,e){return(r=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),y=function(t){function e(e,n){var i=t.call(this,e)||this;return i.options=new m.a(n),i.options.setDefault(new m.a(s.a.instance.image.default).getPrintElementOptionEntity()),i}return v(e,t),e.prototype.getReizeableShowPoints=function(){return["se","r"]},e.prototype.getData=function(t){var e="",n=this.getField();e=t&&n?n.split(".").reduce((e,n)=>e?e[n]:t[n],!1)||"":this.options.src||this.printElementType.getData();var i=this.getFormatter();return i&&(e=i(e,this.options,this._currenttemplateData)),e||""},e.prototype.createTarget=function(t,e){var n=$('<div  class="hiprint-printElement hiprint-printElement-image" style="position: absolute;"><div class="hiprint-printElement-image-content" style="height:100%;width:100%"></div></div>');return this.updateTargetImage(n,t,e),n},e.prototype.initSizeByHtml=function(e){t.prototype.initSizeByHtml.call(this,e),this.css(e,this.getData())},e.prototype.getConfigOptions=function(){return s.a.instance.image},e.prototype.updateDesignViewFromOptions=function(){this.designTarget&&(this.css(this.designTarget,this.getData()),this.updateTargetImage(this.designTarget,this.getTitle(),this.getData()))},e.prototype.updateTargetImage=function(t,e,n){var i=t.find(".hiprint-printElement-image-content");i.find("img").length?i.find("img").attr("src",n):i.html('<img style="width:100%;height:100%;" src="'+n+'">'),n.length?i.find("img").css("cssText",`width:100%;height:100%;content:url("${n}")!important`):i.find("img").css("cssText","width:100%;height:100%;"),this.options.fit&&i.find("img").css("object-fit",this.options.fit)},e.prototype.getHtml=function(t,e,n){return this.getHtml2(t,e,n)},e}(g.a),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_=function(t){function e(e){var n=this;return e=e||{},(n=t.call(this,e)||this).leftSpaceRemoved=e.leftSpaceRemoved,n}return b(e,t),e.prototype.getHideTitle=function(){return null==this.hideTitle?this.defaultOptions.hideTitle:this.hideTitle},e}(m.a),E=n(8),T=function(){function t(t,e,n,i,r,a,s,p,l,d,h,u,c){this.panelPageRule=e,this.scale=n,this.defaultPaperNumberFormat="paperNo-paperCount",this.printLine=0,this.templateId=t,this.width=o.a.mm.toPt(i),this.height=o.a.mm.toPt(r),this.mmwidth=i,this.mmheight=r,this.paperHeader=a>=0?a:0,this.paperFooter=s,this.contentHeight=s-a,this.createTarget(),this.index=u,this.paperNumberLeft=p||parseInt((this.width-30).toString()),this.paperNumberTop=l||parseInt((this.height-22).toString()),this.paperNumberDisabled=d,this.paperNumberFormat=h,this.referenceElement=c?$.extend({},c):new E.a({top:0,left:0,height:0,width:0,bottomInLastPaper:0,beginPrintPaperIndex:0,printTopInPaper:0,endPrintPaperIndex:0})}return t.prototype.subscribePaperBaseInfoChanged=function(t){this.onPaperBaseInfoChanged=t},t.prototype.triggerOnPaperBaseInfoChanged=function(t){this.onPaperBaseInfoChanged&&this.onPaperBaseInfoChanged({panelPageRule:this.panelPageRule,scale:this.scale,paperHeader:this.paperHeader,paperFooter:this.paperFooter,paperNumberLeft:this.paperNumberLeft,paperNumberTop:this.paperNumberTop,paperNumberDisabled:this.paperNumberDisabled,paperNumberFormat:this.paperNumberFormat}),o.a.event.trigger("hiprintTemplateDataChanged_"+this.templateId,t||"模板调整")},t.prototype.setFooter=function(t,e,n,i){this.firstPaperFooter=t,this.evenPaperFooter=e,this.oddPaperFooter=n,this.lastPaperFooter=i},t.prototype.setOffset=function(t,e){this.setLeftOffset(t),this.setTopOffset(e)},t.prototype.setLeftOffset=function(t){t?this.paperContentTarget.css("left",t+"pt"):this.paperContentTarget[0].style.left=""},t.prototype.setTopOffset=function(t){t?this.paperContentTarget.css("top",t+"pt"):this.paperContentTarget[0].style.top=""},t.prototype.createTarget=function(){this.target=$('<div class="hiprint-printPaper"><div class="hiprint-printPaper-content"></div></div>'),this.paperContentTarget=this.target.find(".hiprint-printPaper-content"),this.target.css("width",this.mmwidth+"mm"),this.target.css("height",this.mmheight-s.a.instance.paperHeightTrim+"mm"),this.target.attr("original-height",this.mmheight),this.zoom(this.scale)},t.prototype.createHeaderLine=function(){var t=this;this.headerLinetarget=$('<div class="hiprint-headerLine"  style="position: absolute;width: 100%;border-top: 1px dashed #c9bebe;height: 7pt;"></div>'),this.headerLinetarget.css("top",(this.paperHeader||-1)+"pt"),0==this.paperHeader&&this.headerLinetarget.addClass("hideheaderLinetarget"),this.paperContentTarget.append(this.headerLinetarget),this.dragHeadLineOrFootLine(this.headerLinetarget,(function(e,n){t.paperHeader=n>=0?n:0,t.triggerOnPaperBaseInfoChanged()}))},t.prototype.createFooterLine=function(){var t=this;this.footerLinetarget=$('<div class="hiprint-footerLine"  style="position: absolute;width: 100%;border-top: 1px dashed #c9bebe;height: 7pt;"></div>'),this.footerLinetarget.css("top",parseInt(this.paperFooter.toString())+"pt"),this.paperFooter==this.height&&(this.footerLinetarget.css("top",this.mmheight-s.a.instance.paperHeightTrim+"mm"),this.footerLinetarget.addClass("hidefooterLinetarget")),this.paperContentTarget.append(this.footerLinetarget),this.dragHeadLineOrFootLine(this.footerLinetarget,(function(e,n){t.paperFooter=n,t.triggerOnPaperBaseInfoChanged()}))},t.prototype.createPaperNumber=function(t,e){var n=this,i=this.target.find(".hiprint-paperNumber");if(i.length)return i.html(t),i;var o=$('<span class="hiprint-paperNumber"  style="position: absolute">'+t+"</span>");return o.css("top",this.paperNumberTop+"pt"),o.css("left",this.paperNumberLeft+"pt"),this.paperContentTarget.append(o),e&&this.dragHeadLineOrFootLine(o,(function(t,e){n.paperNumberTop=e,n.paperNumberLeft=t,n.triggerOnPaperBaseInfoChanged()}),!0),o},t.prototype.getTarget=function(){return this.target},t.prototype.append=function(t){this.paperContentTarget.append(t)},t.prototype.updateReferenceElement=function(t){t&&(this.referenceElement=t)},t.prototype.updatePrintLine=function(t){t>=this.printLine&&(this.printLine=t)},t.prototype.design=function(t){var e=this;this.createHeaderLine(),this.createFooterLine(),this.target.addClass("design"),this.paperNumberTarget=this.createPaperNumber(this.formatPaperNumber(1,1),!0),this.createRuler(),this.resetPaperNumber(this.paperNumberTarget),$(this.paperNumberTarget).bind("dblclick.hiprint",(function(){null==e.paperNumberDisabled&&(e.paperNumberDisabled=!1),e.paperNumberDisabled=!e.paperNumberDisabled,e.resetPaperNumber(e.paperNumberTarget),e.triggerOnPaperBaseInfoChanged("初始")})),$(this.paperNumberTarget).bind("click.hiprint",(function(){o.a.event.trigger("BuildCustomOptionSettingEventKey_"+e.templateId,{options:{paperNumberFormat:e.paperNumberFormat,paperNumberDisabled:e.paperNumberDisabled},callback:function(t){e.paperNumberDisabled=!!t.paperNumberDisabled||void 0,e.paperNumberFormat=t.paperNumberFormat?t.paperNumberFormat:void 0,e.createPaperNumber(e.formatPaperNumber(1,1),!0),e.resetPaperNumber(e.paperNumberTarget),e.triggerOnPaperBaseInfoChanged()}})}))},t.prototype.resetPaperNumber=function(t){this.paperNumberDisabled?t.addClass("hiprint-paperNumber-disabled"):t.removeClass("hiprint-paperNumber-disabled")},t.prototype.updatePaperNumber=function(t,e,n){var i=this.createPaperNumber(this.formatPaperNumber(t,e));this.paperNumberDisabled?i.hide():n&&this.index%2==1&&(i[0].style.left="",i.css("right",this.paperNumberLeft+"pt"))},t.prototype.formatPaperNumber=function(t,e){return(this.paperNumberFormat?this.paperNumberFormat:this.defaultPaperNumberFormat).replace("paperNo",t.toString()).replace("paperCount",e.toString())},t.prototype.dragHeadLineOrFootLine=function(t,e,n){var i=this;t.hidraggable({axis:n?void 0:"v",onDrag:function(t,n,i){e(n,i)},moveUnit:"pt",minMove:s.a.instance.movingDistance,onBeforeDrag:function(t){p.a.instance.draging=!0},getScale:function(){return i.scale||1},onStopDrag:function(t){p.a.instance.draging=!1,i.footerLinetarget.removeClass("hidefooterLinetarget"),i.headerLinetarget.removeClass("hideheaderLinetarget")}})},t.prototype.resize=function(t,e){this.width=o.a.mm.toPt(t),this.height=o.a.mm.toPt(e),this.mmwidth=t,this.mmheight=e,this.target.css("width",t+"mm"),this.target.css("height",e-s.a.instance.paperHeightTrim+"mm"),this.target.attr("original-height",this.mmheight);var n=this.paperFooter>this.height?this.height:this.paperFooter;this.paperFooter=n||this.height,this.footerLinetarget.css("top",n+"pt"),this.contentHeight=this.paperFooter-this.paperHeader,this.paperNumberLeft=this.paperNumberLeft>this.width?parseInt((this.width-30).toString()):this.paperNumberLeft,this.paperNumberTop=this.paperNumberTop>this.height?this.paperNumberTop=parseInt((this.height-22).toString()):this.paperNumberTop,this.paperNumberTarget.css("top",this.paperNumberTop+"pt"),this.paperNumberTarget.css("left",this.paperNumberLeft+"pt"),this.triggerOnPaperBaseInfoChanged("调整大小")},t.prototype.zoom=function(t){t&&(this.scale=t,this.target.css("transform","scale("+t+")"),t>1?this.target.css("transform-origin","-"+t+"% -"+t+"%"):this.target.css("transform-origin","0 0"),this.triggerOnPaperBaseInfoChanged("缩放"))},t.prototype.getPaperFooter=function(t){var e=this.index+t;return 0==e?this.firstPaperFooter?this.firstPaperFooter:this.oddPaperFooter?this.oddPaperFooter:this.paperFooter:e%2==0?this.oddPaperFooter?this.oddPaperFooter:this.paperFooter:e%2==1?this.evenPaperFooter?this.evenPaperFooter:this.paperFooter:void 0},t.prototype.getContentHeight=function(t){return this.getPaperFooter(t)-this.paperHeader},t.prototype.createRuler=function(){this.target.append('<div class="hiprint_rul_wrapper">\n                     <img class="h_img" src="'+_css_image_l_img_svg__WEBPACK_IMPORTED_MODULE_5___default.a+'" />\n                     <img class="v_img" src="'+_css_image_v_img_svg__WEBPACK_IMPORTED_MODULE_6___default.a+'" />\n                    </div>')},t.prototype.displayHeight=function(){return this.mmheight-s.a.instance.paperHeightTrim+"mm"},t.prototype.displayWidth=function(){return this.mmwidth+"mm"},t.prototype.getPanelTarget=function(){return this.target.parent(".hiprint-printPanel ")},t}(),P=n(6),w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),x=function(t){function e(e,n){var i=t.call(this,e)||this;return i.options=new _(n),i.options.setDefault(new _(s.a.instance.longText.default).getPrintElementOptionEntity()),i}return w(e,t),e.prototype.getDesignTarget=function(e){var n=t.prototype.getDesignTarget.call(this,e);return n.find(".hiprint-printElement-longText-content").css("border","1px dashed #cebcbc"),n},e.prototype.getProxyTarget=function(t){t&&this.SetProxyTargetOption(t);var e=this.getData(),n=this.createTarget(this.printElementType.getText(!0),e);return this.updateTargetSize(n),this.css(n,e),n},e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData(),e=this.getHtml(this.designPaper)[0].target;this.designTarget.find(".hiprint-printElement-longText-content").html(e.find(".hiprint-printElement-longText-content").html()),this.css(this.designTarget,t)}},e.prototype.getConfigOptions=function(){return s.a.instance.longText},e.prototype.getTitle=function(){return this.options.title||this.printElementType.title},e.prototype.getData=function(t){var e=this.getField(),n=e&&e.split(".").reduce((e,n)=>e?e[n]:t?t[n]:"",!1)||"";return t?n||"":this.options.testData||this.printElementType.getData()||""},e.prototype.updateTargetText=function(t,e,n){var i=t.find(".hiprint-printElement-longText-content"),o=this.getText(e,n);i.html(o)},e.prototype.createTarget=function(t,e){var n=$('<div  class="hiprint-printElement hiprint-printElement-longText" style="position: absolute;"><div class="hiprint-printElement-longText-content hiprint-printElement-content" style="height:100%;width:100%"></div></div>');return this.updateTargetText(n,t,e),n},e.prototype.getText=function(t,e){var n=this.getFormatter();return e&&(e=0!=this.options.leftSpaceRemoved?e.toString().replace(/^\s*/,""):e),(this.getField()?(this.options.getHideTitle()?"":t?t+"：":"")+(n?n(t,e,this.options,this._currenttemplateData):e):n?n(t,t,this.options,this._currenttemplateData):t||"")||""},e.prototype.getHtml=function(t,e){this.setCurrenttemplateData(e),this.createTempContainer();var n=this.getPaperHtmlResult(t,e);return this.removeTempContainer(),n},e.prototype.getHeightByData=function(t){this.createTempContainer();var e=this.getPaperHtmlResult(new T("","",void 0,1e3,1e3,0,25e3,0,0,!0,void 0,0,void 0),{},t);return this.removeTempContainer(),e[0].referenceElement.bottomInLastPaper-e[0].referenceElement.printTopInPaper},e.prototype.getLongTextIndent=function(){return this.options.longTextIndent?'<span class="long-text-indent" style="margin-left:'+this.options.longTextIndent+'pt"></span>':'<span class="long-text-indent"></span>'},e.prototype.getPaperHtmlResult=function(t,e,n){var i=this,o=[],r=0,a=n||this.getData(e),s=this.getText(this.getTitle(),a),p=this.createTarget(this.getTitle(),this.options.testData||"");this.css(p,a),e?this.updateTargetWidth(p):this.updateTargetSize(p),this.getTempContainer().html(""),this.getTempContainer().append(p);var l=[this.getLongTextIndent()],d=s.split(new RegExp("\r|\n","g"));if(d.forEach((function(t,e){var n=0!=i.options.leftSpaceRemoved?(t||"").toString().replace(/^\s*/,""):t;l=l.concat(n.split("")),e<d.length-1&&l.push("<br/>"+i.getLongTextIndent())})),0==l.length&&(l=[""]),this.isHeaderOrFooter()||this.isFixed()||!e)return(f=this.getStringBySpecificHeight(l,25e3,p)).target.css("left",this.options.displayLeft()),f.target.css("top",this.options.displayTop()),f.target[0].height="",o.push(new P.a({target:f.target,printLine:this.options.displayTop()+f.height,referenceElement:new E.a({top:this.options.getTop(),left:this.options.getLeft(),height:this.options.getHeight(),width:this.options.getWidth(),beginPrintPaperIndex:t.index,bottomInLastPaper:this.options.getTop()+f.height,printTopInPaper:this.options.getTop()})})),o;for(var h=this.getBeginPrintTopInPaperByReferenceElement(t);l.length>0;){var u=0,c=t.getPaperFooter(r);0==r&&h>c&&"none"!=t.panelPageRule&&(h=h-c+t.paperHeader,o.push(new P.a({target:void 0,printLine:void 0})),r++,u=t.getContentHeight(r)-(h-t.paperHeader),c=t.getPaperFooter(r));var f=this.getStringBySpecificHeight(l,u>0?u:0==r?c-h:t.getContentHeight(r),p);l.splice(0,f.length);var g=void 0,m=void 0;f.target.css("left",this.options.displayLeft()),f.target[0].height="",0==r||u>0?(m=h,f.target.css("top",m+"pt"),g=l.length>0?h+f.height:null!=this.options.lHeight?h+(f.height>this.options.lHeight?f.height:this.options.lHeight):h+f.height):(m=t.paperHeader,f.target.css("top",m+"pt"),g=m+f.height),o.push(new P.a({target:f.target,printLine:g,referenceElement:new E.a({top:this.options.getTop(),left:this.options.getLeft(),height:this.options.getHeight(),width:this.options.getWidth(),beginPrintPaperIndex:t.index,bottomInLastPaper:g,printTopInPaper:m})})),r++,e&&this.updatePanelHeight(g+this.options.getHeight(),t)}return o},e.prototype.getStringBySpecificHeight=function(t,e,n){var i=o.a.pt.toPx(e),r=void 0,a="none"==this.panel.panelPageRule;return r=a?this.IsPaginationIndex(t,t.length,-1,n):this.IsPaginationIndex(t,t.length-1,i,n),r.IsPagination?r:this.BinarySearch(t,0,t.length-1,i,n)},e.prototype.BinarySearch=function(t,e,n,i,o){var r=Math.floor((e+n)/2);if(e>n)return o.find(".hiprint-printElement-longText-content").html(""),{IsPagination:!0,height:0,length:0,target:o.clone()};var a=this.IsPaginationIndex(t,r,i,o);return a.IsPagination?a:"l"==a.move?this.BinarySearch(t,e,r-1,i,o):this.BinarySearch(t,r+1,n,i,o)},e.prototype.IsPaginationIndex=function(t,e,n,i){if(-1==n){i.find(".hiprint-printElement-longText-content").html(t.slice(0,e).join(""));var r=i.height();return{IsPagination:!0,height:o.a.px.toPt(r),length:t.length,target:i.clone()}}i.find(".hiprint-printElement-longText-content").html(t.slice(0,e+2).join(""));var a=i.height();i.find(".hiprint-printElement-longText-content").html(t.slice(0,e+1).join(""));r=i.height();return e>=t.length-1&&r<n?{IsPagination:!0,height:o.a.px.toPt(r),length:t.length,target:i.clone()}:r<=n&&a>=n?{IsPagination:!0,height:r,length:e+1,target:i.clone()}:r>=n?{IsPagination:!1,move:"l"}:a<=n?{IsPagination:!1,move:"r"}:{IsPagination:!0,result:1}},e}(g.a),C=function(){function t(){}return t.replaceEnterAndNewline=function(t,e){return t.replace(new RegExp("\r|\n|/g","g"),e)},t.replaceTab=function(t,e){return t.replace(new RegExp("\t/g","g"),e)},t.replaceEnterAndNewlineAndTab=function(t,e){return t.replace(new RegExp("\r|\n|\t|/g","g"),e)},t}(),M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O=function(t){function e(e){var n=t.call(this,e)||this;return n.title&&(n.title=C.replaceEnterAndNewlineAndTab(n.title,"")),n}return M(e,t),e.prototype.getHideTitle=function(){return null==this.hideTitle?this.defaultOptions.hideTitle:this.hideTitle},e.prototype.getTextType=function(){return(null==this.textType?this.defaultOptions.textType:this.textType)||"text"},e.prototype.getFontSize=function(){return(null==this.fontSize?this.defaultOptions.fontSize:this.fontSize)||9},e.prototype.getbarcodeMode=function(){return(null==this.barcodeMode?this.defaultOptions.barcodeMode:this.barcodeMode)||"CODE128"},e.prototype.getQRcodeLevel=function(){return(null==this.qrCodeLevel?this.defaultOptions.qrCodeLevel:this.qrCodeLevel)||0},e}(m.a),D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),S=function(t){function e(e,n){var i=t.call(this,e)||this;return i.options=new O(n),i.options.setDefault(new O(s.a.instance.text.default).getPrintElementOptionEntity()),i}return D(e,t),e.prototype.getDesignTarget=function(e){return t.prototype.getDesignTarget.call(this,e)},e.prototype.getProxyTarget=function(t){t&&this.SetProxyTargetOption(t);var e=this.getData(),n=this.createTarget(this.printElementType.getText(!0),e);return this.updateTargetSize(n),this.css(n,e),n},e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t),this.updateTargetText(this.designTarget,this.getTitle(),t)}},e.prototype.getConfigOptions=function(){return s.a.instance.text},e.prototype.getTitle=function(){var t=this.options.title||this.printElementType.title||"";return t&&(t=C.replaceEnterAndNewlineAndTab(t,"")),t},e.prototype.getData=function(t){var e=void 0,n=this.getField();if(e=t?n&&n.split(".").reduce((e,n)=>e?e[n]:t?t[n]:"",!1)||"":this.options.testData||this.printElementType.getData()||"",this.options.format){if("datetime"==this.options.dataType)return o.a.dateFormat(e,this.options.format);if("boolen"==this.options.dataType){var i=this.options.format.split(":");if(i.length>0)return!0===e||"true"===e?i[0]:i[1]}}return e},e.prototype.updateTargetText=function(t,e,n,i,r){var a=this.getFormatter(),s=t.find(".hiprint-printElement-text-content"),p="";p=this.getField()?(this.options.getHideTitle()?"":e?e+"：":"")+(a?a(e,n,this.options,this._currenttemplateData,t):n):n=a?a(e,e,this.options,this._currenttemplateData,t):e;var l=this.options.getTextType();if("text"==l)s.html(p);else{if("barcode"==l){s.html('<svg width="100%" display="block" height="100%" class="hibarcode_imgcode" preserveAspectRatio="none slice"></svg ><div class="hibarcode_displayValue"></div>');try{n?(jsbarcode__WEBPACK_IMPORTED_MODULE_2___default()(s.find(".hibarcode_imgcode")[0],n,{format:this.options.getbarcodeMode(),width:1,textMargin:-1,lineColor:this.options.color||"#000000",margin:0,height:parseInt(o.a.pt.toPx(this.options.getHeight()||10).toString()),displayValue:!1}),s.find(".hibarcode_imgcode").attr("height","100%"),s.find(".hibarcode_imgcode").attr("width","100%"),this.options.hideTitle||s.find(".hibarcode_displayValue").html(n)):s.html("")}catch(t){console.log(t),s.html("此格式不支持该文本")}}if("qrcode"==l){s.html("");try{if(n){t.css("line-height",0),s.css("text-align","center");var d=this.options.getWidth()||20,h=this.options.getHeight()||20,u=$("<div></div>").css({width:(d>h?h:d)+"pt",height:(d>h?h:d)+"pt",display:"inline-block"});new QRCode(u[0],{width:"100%",height:"100%",colorDark:this.options.color||"#000000",useSVG:!0,correctLevel:this.options.getQRcodeLevel()}).makeCode(n),s.html(u)}}catch(t){console.log(t),s.html("二维码生成失败")}}}},e.prototype.onResize=function(e,n,i,o,r){t.prototype.onResize.call(this,e,n,i,o,r),"barcode"!=this.options.getTextType()&&"qrcode"!=this.options.getTextType()||this.updateTargetText(this.designTarget,this.getTitle(),this.getData())},e.prototype.createTarget=function(t,e,n){var i=$('<div tabindex="1" class="hiprint-printElement hiprint-printElement-text" style="position: absolute;"><div class="hiprint-printElement-text-content hiprint-printElement-content" style="height:100%;width:100%"></div></div>');return this.updateTargetText(i,t,e,n),i},e.prototype.getHtml=function(t,e,n){return this.getHtml2(t,e,n)},e}(g.a),A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),I=function(t){function e(e){return t.call(this,e)||this}return A(e,t),e}(m.a),L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),H=function(t){function e(e,n){var i=t.call(this,e)||this;return i.options=new I(n),i.options.setDefault(new I(s.a.instance.html.default).getPrintElementOptionEntity()),i}return L(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t),this.updateTargetHtml()}},e.prototype.updateTargetHtml=function(){var t=this.getFormatter();if(t){var e=t(this.getData(),this.options,this._currenttemplateData);this.designTarget.find(".hiprint-printElement-html-content").html(e)}},e.prototype.getConfigOptions=function(){return s.a.instance.html},e.prototype.createTarget=function(t,e){var n=$('<div  class="hiprint-printElement hiprint-printElement-html" style="position: absolute;"><div class="hiprint-printElement-html-content" style="height:100%;width:100%"></div></div>'),i=this.getFormatter();if(i){var o=i(this.getData(),this.options,this._currenttemplateData);n.find(".hiprint-printElement-html-content").append(o)}else this.options.content&&n.find(".hiprint-printElement-html-content").append(this.options.content);return n},e.prototype.getHtml=function(t,e,n){return this.getHtml2(t,e,n)},e}(g.a),R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k=function(t){function e(e,n){var i=t.call(this,e)||this;return i.options=new m.a(n),i.options.setDefault(new m.a(s.a.instance.vline.default).getPrintElementOptionEntity()),i}return R(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t)}},e.prototype.getConfigOptions=function(){return s.a.instance.vline},e.prototype.createTarget=function(t,e){return $('<div class="hiprint-printElement hiprint-printElement-vline" style="border-left:1px solid;position: absolute;"></div>')},e.prototype.getReizeableShowPoints=function(){return["s","r"]},e.prototype.getHtml=function(t,e,n){return this.getHtml2(t,e,n)},e}(g.a),B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),F=function(t){function e(e,n){var i=t.call(this,e)||this;return i.options=new m.a(n),i.options.setDefault(new m.a(s.a.instance.hline.default).getPrintElementOptionEntity()),i}return B(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t)}},e.prototype.getConfigOptions=function(){return s.a.instance.hline},e.prototype.createTarget=function(t,e){return $('<div class="hiprint-printElement hiprint-printElement-hline" style="border-top:1px solid;position: absolute;"></div>')},e.prototype.getReizeableShowPoints=function(){return["e","r"]},e}(g.a),N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),z=function(t){function e(e,n){var i=t.call(this,e)||this;return i.options=new m.a(n),i.options.setDefault(new m.a(s.a.instance.rect.default).getPrintElementOptionEntity()),i}return N(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t)}},e.prototype.getConfigOptions=function(){return s.a.instance.rect},e.prototype.createTarget=function(t,e){return $('<div class="hiprint-printElement hiprint-printElement-rect" style="border:1px solid;position: absolute;"></div>')},e.prototype.getHtml=function(t,e,n){return this.getHtml2(t,e,n)},e}(g.a),W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),j=function(t){function e(e,n){var i=t.call(this,e)||this;return i.options=new m.a(n),i.options.setDefault(new m.a(s.a.instance.oval.default).getPrintElementOptionEntity()),i}return W(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.getData();this.css(this.designTarget,t)}},e.prototype.getConfigOptions=function(){return s.a.instance.oval},e.prototype.createTarget=function(t,e){return $('<div class="hiprint-printElement hiprint-printElement-oval" style="border:1px solid;position: absolute;border-radius: 50%;"></div>')},e.prototype.getHtml=function(t,e,n){return this.getHtml2(t,e,n)},e}(g.a),V=function(){function t(){}return t.createPrintElement=function(t,e){return"text"==t.type?new S(t,e):"image"==t.type?new y(t,e):"longText"==t.type?new x(t,e):"table"==t.type?new h.a(t,e):"html"==t.type?new H(t,e):"vline"==t.type?new k(t,e):"hline"==t.type?new F(t,e):"rect"==t.type?new z(t,e):"oval"==t.type?new j(t,e):void 0},t}(),G=function(){function t(t){this.field=t.field,this.fields=t.fields,this.title=t.title,this.text=t.text,this.tid=t.tid,this.data=t.data,this.styler=t.styler,this.formatter=t.formatter,this.type=t.type,this.onRendered=t.onRendered,this.options=t.options}return t.prototype.getText=function(t){return t?this.title||this.text||"":this.text||this.title||""},t.prototype.getData=function(){return this.data},t.prototype.createPrintElement=function(t){var e={};return $.extend(e,t||{}),V.createPrintElement(this,e)},t.prototype.getPrintElementTypeEntity=function(){return new u({title:this.title,type:this.type})},t.prototype.getFields=function(){return this.fields},t.prototype.getOptions=function(){return this.options||{}},t}(),U=n(16),K=n(12),J=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),X=function(t){function e(e){var n=t.call(this,e)||this;return(e=e||{}).columns?(n.columns=[],e.columns.forEach((function(t){n.columns.push(new K.a(t))}))):n.columns=[new K.a({columns:[new d.a({width:100}),new d.a({width:100})]})],n.lHeight=e.lHeight,n.autoCompletion=e.autoCompletion,n.tableFooterRepeat=e.tableFooterRepeat,n}return J(e,t),e.prototype.getPrintElementOptionEntity=function(){var e=t.prototype.getPrintElementOptionEntity.call(this);return e.fields=this.fields,e.columns=[],this.columns.forEach((function(t){e.columns.push(t.getPrintElementOptionEntity())})),e},e}(m.a),q=n(7),Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Q=function(t){function e(e,n){var i=t.call(this,e)||this;return i.options=new X(n),i.options.setDefault(new X(s.a.instance.tableCustom.default).getPrintElementOptionEntity()),i.columns=i.options.columns,i}return Y(e,t),e.prototype.updateDesignViewFromOptions=function(){if(this.designTarget){var t=this.designTarget.find(".hiprint-printElement-table-content"),e=this.getHtml(this.designPaper);t.html(""),t.append(e[0].target.find(".hiprint-printElement-tableTarget")),this.css(this.designTarget,this.getData()),this.setHiReizeable()}},e.prototype.getDesignTarget=function(t){var e=this;return this.designTarget=this.getHtml(t)[0].target,this.css(this.designTarget,this.getData()),this.designPaper=t,this.designTarget.click((function(){o.a.event.trigger(e.getPrintElementSelectEventKey(),{printElement:e})})),this.designTarget.find("td").hidroppable({accept:".rn-draggable-item",onDrop:function(t,e){},onDragEnter:function(t,e){$(e).removeClass("rn-draggable-item")},onDragLeave:function(t,e){$(e).addClass("rn-draggable-item")}}),this.designTarget},e.prototype.getConfigOptions=function(){return s.a.instance.tableCustom},e.prototype.createTarget=function(t,e,n){var i=$('<div class="hiprint-printElement hiprint-printElement-table" style="position: absolute;"><div class="hiprint-printElement-table-handle"></div><div class="hiprint-printElement-table-content" style="height:100%;width:100%"></span></div>');return i.find(".hiprint-printElement-table-content").append(this.getTableHtml(e,n)),i},e.prototype.getTableHtml=function(t,e){var n=$('<table class="hiprint-printElement-tableTarget" style="border-collapse: collapse;width:100%;"></table>');return n.append(q.a.createTableHead(this.columns,this.options.getWidth())),n.append(q.a.createTableRow(this.columns,t,this.options,this.printElementType)),this.printElementType.footerFormatter&&("no"==this.options.tableFooterRepeat||q.a.createTableFooter(this.printElementType.columns,t,this.options,this.printElementType,e,t)).insertBefore(n.find("tbody")),n},e.prototype.getHtml=function(t,e){this.setCurrenttemplateData(e),this.createTempContainer();var n=this.getPaperHtmlResult(t,e);return this.removeTempContainer(),n},e.prototype.getPaperHtmlResult=function(t,e){var n=[],i=this.getData(e),o=this.getTableHtml(i,e),r=this.createTarget(this.printElementType.title,[],e);e?this.updateTargetWidth(r):this.updateTargetSize(r),this.css(r,i),this.css(o,i),this.getTempContainer().html(""),this.getTempContainer().append(r);var a=r.find("tfoot").outerHeight()||0;r.find("tfoot").remove();for(var s,p=this.getBeginPrintTopInPaperByReferenceElement(t),l=0,d=!1;!d;){var h=0,u=t.getPaperFooter(l);0==l&&p>u&&"none"!=t.panelPageRule&&(p=p-u+t.paperHeader,n.push(new P.a({target:void 0,printLine:void 0})),l++,h=t.getContentHeight(l)-(p-t.paperHeader),u=t.getPaperFooter(l));var c=n.length>0?n[n.length-1].target:void 0,f=this.getRowsInSpecificHeight(h>0?h:0==l?u-p:t.getContentHeight(l),r,o,l,c,e,a);d=f.isEnd;var g=void 0;f.target&&(f.target.css("left",this.options.displayLeft()),f.target[0].height=""),0==l||h>0?(f.target&&(s=p,f.target.css("top",p+"pt")),g=d&&null!=this.options.lHeight?p+(f.height>this.options.lHeight?f.height:this.options.lHeight):p+f.height):(f.target&&(s=t.paperHeader,f.target.css("top",t.paperHeader+"pt")),g=t.paperHeader+f.height),n.push(new P.a({target:f.target,printLine:g,referenceElement:new E.a({top:this.options.getTop(),left:this.options.getLeft(),height:this.options.getHeight(),width:this.options.getWidth(),beginPrintPaperIndex:t.index,bottomInLastPaper:g,printTopInPaper:s})})),l++}return n},e.prototype.getRowsInSpecificHeight=function(t,e,n,i,r,a,s){var p=this,l=void 0,d=n.find("tbody"),h=o.a.pt.toPx(t);e.find("tbody").html("");for(var u=e.outerHeight(),c=[];;){if(u<=h)if(0==d.find("tr").length)a&&this.options.autoCompletion&&(this.autoCompletion(h,e),u=e.outerHeight()),l={target:e.clone(),length:e.find("tbody tr").length,height:o.a.px.toPt(u),isEnd:!0},0==e.find("tbody tr").length&&r&&(l={target:void 0,length:0,height:0,isEnd:!0});else{var f=d.find("tr:lt(1)");e.find("tbody").append(f),u=e.outerHeight();var g=f.data("rowData");c.push(g),u+=s>h&&(d.prepend(f),c.pop(),u=e.outerHeight(),l={target:e.clone(),length:e.find("tbody tr").length,height:o.a.px.toPt(u),isEnd:!1})}else l={target:void 0,length:0,height:0,isEnd:!1};if(l){if("last"==this.options.tableFooterRepeat&&!l.isEnd)break;this.printElementType.footerFormatter&&(q.a.createTableFooter(this.printElementType.columns,this.getData(a),this.options,this.printElementType,a,c).insertBefore(e.find("tbody")),p.css(e,a));break}}return l},e.prototype.getData=function(t){if(!t)return[{}];var e=this.getField(),n=e&&e.split(".").reduce((e,n)=>e?e[n]:t?t[n]:"",!1)||"";return n?JSON.parse(JSON.stringify(n)):[]},e.prototype.autoCompletion=function(t,e){for(var n,i=this.getEmptyRowTarget(),o=e.outerHeight();t>o;)n=i.clone(),e.find("tbody").append(n),o=e.outerHeight();n&&n.remove()},e.prototype.getEmptyRowTarget=function(){return q.a.createEmptyRowTarget(this.columns)},e.prototype.onResize=function(e,n,i,o,r){t.prototype.updateSizeAndPositionOptions.call(this,r,o,i,n),q.a.resizeTableCellWidth(this.designTarget,this.columns,this.options.getWidth())},e.prototype.getReizeableShowPoints=function(){return["s","e"]},e.prototype.design=function(t,e){var n=this;this.designTarget.hidraggable({handle:this.designTarget.find(".hiprint-printElement-table-handle"),axis:n.options.axis?n.options.axis:void 0,onDrag:function(t,i,o){n.updateSizeAndPositionOptions(i,o),n.createLineOfPosition(e),p.a.instance.changed=!0},designTarget:n,moveUnit:"pt",minMove:s.a.instance.movingDistance,onBeforeDrag:function(t){p.a.instance.draging=!0,n.createLineOfPosition(e)},getScale:function(){return n.designPaper.scale||1},onStopDrag:function(t){p.a.instance.changed&&o.a.event.trigger("hiprintTemplateDataChanged_"+n.templateId,"移动"),p.a.instance.draging=!1,p.a.instance.changed=!1,n.removeLineOfPosition()}}),this.setHiReizeable(),this.designTarget.hireizeable({showPoints:n.getReizeableShowPoints(),showSizeBox:s.a.instance.showSizeBox,noContainer:!0,onBeforeResize:function(){p.a.instance.draging=!0},getScale:function(){return n.designPaper.scale||1},onResize:function(t,i,o,r,a){n.onResize(t,i,o,r,a),n.hitable.updateColumnGrips(),n.createLineOfPosition(e)},onStopResize:function(t){o.a.event.trigger("hiprintTemplateDataChanged_"+n.templateId,t?"旋转":"大小"),p.a.instance.draging=!1,n.removeLineOfPosition()}}),this.bingKeyboardMoveEvent(this.designTarget,e)},e.prototype.setHiReizeable=function(){var t=this;this.hitable=new U.a({table:this.designTarget.find("table"),rows:this.columns,resizeRow:!1,resizeColumn:!0,fields:this.options.fields,trs:$(this.designTarget).find("tbody tr"),handle:this.designTarget.find("table thead"),columnDisplayEditable:!0,columnDisplayIndexEditable:!0,columnResizable:!0,columnAlignEditable:!0,isEnableEdit:!0,isEnableEditText:!0,isEnableEditField:!0,isEnableContextMenu:!0,isEnableInsertRow:!0,isEnableDeleteRow:!0,isEnableInsertColumn:!0,isEnableDeleteColumn:!0,isEnableMergeCell:!0}),o.a.event.on("updateTable"+this.hitable.id,(function(){t.updateDesignViewFromOptions()}))},e}(g.a),Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tt=function(t){function e(e){return t.call(this,e)||this}return Z(e,t),e.prototype.createPrintElement=function(t){return new Q(this,t)},e}(f),et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nt=function(t){function e(e){return t.call(this,e)||this}return et(e,t),e.prototype.createPrintElement=function(t){var e={};return $.extend(e,t||{}),V.createPrintElement(this,e)},e.prototype.getPrintElementTypeEntity=function(){return new u({title:this.title,type:this.type})},e}(G),it=function(){function t(){}return t.createPrintElementType=function(t){return t.type=t.type||"text","text"==t.type?new nt(t):"table"==t.type?new f(t):"tableCustom"==t.type?new tt(t):new G(t)},t}(),ot=function(){function t(){}return t.getElementTypeGroups=function(e){var n=t.formatterModule(e);return a.instance[n]||[]},t.getElementType=function(t,e){if(t)return a.instance.getElementType(t);it.createPrintElementType({type:e})},t.build=function(e,n){var i=t.formatterModule(n),o=(new l).createPrintElementTypeHtml(e,this.getElementTypeGroups(i));this.enableDrag(o)},t.buildByHtml=function(t){this.enableDrag(t)},t.enableDrag=function(e){e.hidraggable({revert:!0,proxy:function(t){var e=p.a.instance.getDragingPrintElement(),n=e.printElement.getProxyTarget(e.printElement.printElementType.getOptions());return n.appendTo("body"),n.css("z-index","9999"),n},moveUnit:"pt",minMove:4,onBeforeDrag:function(e){p.a.instance.draging=!0;var n=t.getElementType($(e.data.target).attr("tid"),$(e.data.target).attr("ptype"));return p.a.instance.setDragingPrintElement(n.createPrintElement()),!0},onDrag:function(t,e,n){p.a.instance.getDragingPrintElement().updatePosition(e,n)},onStopDrag:function(t){p.a.instance.draging=!1}})},t.formatterModule=function(t){return t||"_default"},t}(),rt=function(){return function(t,e){var n=this;this.name=t,this.printElementTypes=[],e.forEach((function(t){n.printElementTypes.push(it.createPrintElementType(t))}))}}(),at=function(){return function(t){if(this.index=t.index,this.paperType=t.paperType,this.paperType){var e=p.a.instance[this.paperType];t.height?(this.height=t.height,this.width=t.width):(this.height=e.height,this.width=e.width)}else this.height=t.height,this.width=t.width;this.paperHeader=t.paperHeader||0,this.paperFooter=t.paperFooter||o.a.mm.toPt(this.height),this.printElements=t.printElements||[],this.paperNumberLeft=t.paperNumberLeft,this.paperNumberTop=t.paperNumberTop,this.paperNumberDisabled=t.paperNumberDisabled,this.paperNumberFormat=t.paperNumberFormat,this.panelPaperRule=t.panelPaperRule,this.panelPageRule=t.panelPageRule,this.rotate=t.rotate||void 0,this.firstPaperFooter=t.firstPaperFooter,this.evenPaperFooter=t.evenPaperFooter,this.oddPaperFooter=t.oddPaperFooter,this.lastPaperFooter=t.lastPaperFooter,this.topOffset=t.topOffset,this.fontFamily=t.fontFamily,this.leftOffset=t.leftOffset,this.orient=t.orient,this.scale=t.scale}}(),st=function(){function t(t,e,n,i){this.bx=t,this.by=e,this.ex=t,this.ey=e,this.startX=this.minX=t,this.startY=this.minY=e,this.maxX=t,this.maxY=e,this.lastLeft=n,this.lastTop=i}return t.prototype.updateRect=function(t,e){this.ex=t,this.ey=e,this.minX=this.startX<t?this.startX:t,this.minY=this.startY<e?this.startY:e,this.maxX=this.startX<t?t:this.startX,this.maxY=this.startY<e?e:this.startY},t.prototype.updatePositionByMultipleSelect=function(t,e){null!=t&&(this.lastLeft=this.lastLeft+t),null!=e&&(this.lastTop=this.lastTop+e),this.target.css({left:this.lastLeft+"pt",top:this.lastTop+"pt"})},t}(),pt=function(){function t(t,e){this.templateId=e,this.index=t.index,this.width=t.width,this.height=t.height,this.paperType=t.paperType,this.paperHeader=t.paperHeader,this.paperFooter=t.paperFooter,this.initPrintElements(t.printElements),this.paperNumberLeft=t.paperNumberLeft,this.paperNumberTop=t.paperNumberTop,this.paperNumberDisabled=t.paperNumberDisabled,this.paperNumberFormat=t.paperNumberFormat,this.panelPaperRule=t.panelPaperRule,this.panelPageRule=t.panelPageRule,this.firstPaperFooter=t.firstPaperFooter,this.evenPaperFooter=t.evenPaperFooter,this.oddPaperFooter=t.oddPaperFooter,this.lastPaperFooter=t.lastPaperFooter,this.topOffset=t.topOffset,this.leftOffset=t.leftOffset,this.fontFamily=t.fontFamily,this.orient=t.orient,this.target=this.createTarget(),this.rotate=t.rotate,this.scale=t.scale}return t.prototype.design=function(t){var e=this;this.orderPrintElements(),this.designPaper=this.createNewPage(0),this.target.html(""),this.target.append(this.designPaper.getTarget()),this.droppablePaper(this.designPaper),this.designPaper.design(t),this.designPaper.subscribePaperBaseInfoChanged((function(t){e.paperHeader=t.paperHeader,e.paperFooter=t.paperFooter,e.paperNumberLeft=t.paperNumberLeft,e.paperNumberTop=t.paperNumberTop,e.paperNumberDisabled=t.paperNumberDisabled,e.paperNumberFormat=t.paperNumberFormat})),this.printElements.forEach((function(n){e.appendDesignPrintElement(e.designPaper,n),n.design(t,e.designPaper)})),this.target.bind("click.hiprint",(function(t){o.a.event.trigger("BuildCustomOptionSettingEventKey_"+e.templateId,{options:{panelPaperRule:e.panelPaperRule,panelPageRule:e.panelPageRule,firstPaperFooter:e.firstPaperFooter,evenPaperFooter:e.evenPaperFooter,oddPaperFooter:e.oddPaperFooter,lastPaperFooter:e.lastPaperFooter,leftOffset:e.leftOffset,topOffset:e.topOffset,fontFamily:e.fontFamily,orient:e.orient,paperNumberDisabled:e.paperNumberDisabled,paperNumberFormat:e.paperNumberFormat},callback:function(t){e.panelPaperRule=t.panelPaperRule,e.panelPageRule=t.panelPageRule,e.firstPaperFooter=t.firstPaperFooter,e.evenPaperFooter=t.evenPaperFooter,e.oddPaperFooter=t.oddPaperFooter,e.lastPaperFooter=t.lastPaperFooter,e.leftOffset=t.leftOffset,e.topOffset=t.topOffset,e.fontFamily=t.fontFamily,e.orient=t.orient,e.paperNumberDisabled=e.designPaper.paperNumberDisabled=!!t.paperNumberDisabled||void 0,e.paperNumberFormat=t.paperNumberFormat,e.designPaper.paperNumberFormat=t.paperNumberFormat,t.paperNumberFormat&&(e.designPaper.paperNumberTarget=e.designPaper.createPaperNumber(e.designPaper.formatPaperNumber(1,1),!0)),e.designPaper.setOffset(e.leftOffset,e.topOffset),e.css(e.target),e.designPaper.resetPaperNumber(e.designPaper.paperNumberTarget),e.designPaper.triggerOnPaperBaseInfoChanged()}})})),this.bindShortcutKeyEvent(),this.bingPasteEvent(),this.bindBatchMoveElement()},t.prototype.update=function(t){try{console.log("update ------\x3e"),console.log(t);var e=Date.now();console.log("start",e);var n=this;this.index=t.index,this.width=t.width,this.height=t.height,this.paperType=t.paperType,this.paperHeader=t.paperHeader,this.paperFooter=t.paperFooter,this.designPaper.width=o.a.mm.toPt(t.width),this.designPaper.height=o.a.mm.toPt(this.height),this.designPaper.paperType=this.paperType,this.designPaper.paperHeader=this.paperHeader,this.designPaper.paperFooter=this.paperFooter,this.designPaper.mmheight=t.height,this.designPaper.mmwidth=t.width,this.designPaper.headerLinetarget.css("top",(this.paperHeader||-1)+"pt"),0==this.paperHeader&&this.designPaper.headerLinetarget.addClass("hideheaderLinetarget"),this.designPaper.footerLinetarget.css("top",parseInt(this.paperFooter.toString())+"pt"),this.paperFooter==this.height&&this.designPaper.footerLinetarget.css("top",t.height-s.a.instance.paperHeightTrim+"mm"),this.paperNumberLeft=t.paperNumberLeft,this.paperNumberTop=t.paperNumberTop,this.paperNumberDisabled=t.paperNumberDisabled,this.paperNumberFormat=t.paperNumberFormat,this.designPaper.paperNumberLeft=this.paperNumberLeft,this.designPaper.paperNumberTop=this.paperNumberTop,this.designPaper.paperNumberDisabled=this.paperNumberDisabled,this.designPaper.paperNumberFormat=this.paperNumberFormat,this.designPaper.paperNumberTarget.css("top",this.paperNumberTop+"pt").css("left",this.paperNumberLeft+"pt"),this.designPaper.resetPaperNumber(this.designPaper.paperNumberTarget),this.fontFamily=t.fontFamily,this.orient=t.orient,this.rotate=t.rotate,this.scale=t.scale,this.designPaper.fontFamily=this.fontFamily,this.designPaper.orient=this.orient,this.designPaper.scale=this.scale,this.panelPaperRule=t.panelPaperRule,this.panelPageRule=t.panelPageRule,this.firstPaperFooter=t.firstPaperFooter,this.evenPaperFooter=t.evenPaperFooter,this.oddPaperFooter=t.oddPaperFooter,this.lastPaperFooter=t.lastPaperFooter,this.topOffset=t.topOffset,this.leftOffset=t.leftOffset,this.designPaper.setFooter(this.firstPaperFooter,this.evenPaperFooter,this.oddPaperFooter,this.lastPaperFooter),this.designPaper.setOffset(this.leftOffset,this.topOffset);var i=Date.now();console.log("更新参数 end",i),console.log("更新参数 time:",i-e),this.printElements.forEach((function(t){t.designTarget&&t.designTarget.length&&t.designTarget.remove()})),this.printElements=[];i=Date.now();console.log("清空面板 end",i),console.log("清空面板 time:",i-e),this.initPrintElements(t.printElements);i=Date.now();console.log("初始化元素 end",i),console.log("初始化元素 time:",i-e),this.printElements.forEach((function(e){n.appendDesignPrintElement(n.designPaper,e),e.design(t,n.designPaper)}));i=Date.now();console.log("插入面板 end",i),console.log("插入面板 time:",i-e)}catch(n){console.log("???????"),console.log(n)}},t.prototype.bindShortcutKeyEvent=function(){var t=this;$(document).keydown((function(e){"INPUT"!=e.target.tagName&&(e.ctrlKey||e.metaKey)&&90==e.keyCode&&(e.shiftKey?o.a.event.trigger("hiprintTemplateDataShortcutKey_"+t.templateId,"redo"):o.a.event.trigger("hiprintTemplateDataShortcutKey_"+t.templateId,"undo"),e.preventDefault())}))},t.prototype.bingPasteEvent=function(){var t=this;t.designPaper.target.attr("tabindex","1"),t.designPaper.target.keydown((function(e){"INPUT"!=e.target.tagName&&(e.ctrlKey||e.metaKey)&&86==e.keyCode&&(t.pasteJson(e),e.preventDefault())}))},t.prototype.pasteJson=function(t){var e=$("#copyArea");if(e.length)try{var n=e.text(),i=JSON.parse(n);if(!i.printElementType&&!i.templateId)return;var r=this,a=i.options,s=r.getElementById(i.id);if(!s)return;var p=s.clone(i);if(!p)return;var l=t.currentTarget.className!=t.target.className,d=!l&&r.mouseOffsetX&&o.a.px.toPt(r.mouseOffsetX)||(a.left+=10),h=!l&&r.mouseOffsetY&&o.a.px.toPt(r.mouseOffsetY)||(a.top+=10);p.options.setLeft(d),p.options.setTop(h),p.setTemplateId(r.templateId),p.setPanel(r),r.appendDesignPrintElement(r.designPaper,p,!1),r.printElements.push(p),p.design(void 0,r.designPaper),console.log("pasteJson success"),o.a.event.trigger("hiprintTemplateDataChanged_"+r.templateId,"复制"),p.designTarget.children(".resize-panel").trigger($.Event("click"))}catch(t){console.error("pasteJson error",t)}},t.prototype.css=function(t){this.fontFamily?t.css("fontFamily",this.fontFamily):t[0].style.fontFamily=""},t.prototype.getHtml=function(t,e,n,i,o){var r=this;this.orderPrintElements();var a,s=n||[],p=i||this,l=void 0;return i?(l=s[s.length-1],a=l.getPanelTarget(),l.updateReferenceElement(new E.a({top:this.paperHeader,left:0,height:0,width:0,bottomInLastPaper:l.referenceElement.bottomInLastPaper,beginPrintPaperIndex:s.length-1,printTopInPaper:l.referenceElement.bottomInLastPaper,endPrintPaperIndex:s.length-1}))):(a=p.createTarget(),l=p.createNewPage(s.length),s.push(l),a.append(l.getTarget())),this.printElements.filter((function(t){return!t.isFixed()&&!t.isHeaderOrFooter()})).forEach((function(e){var n=[],i=s[s.length-1];l=i.referenceElement.isPositionLeftOrRight(e.options.getTop(),e.options.getHeight())?s[i.referenceElement.beginPrintPaperIndex]:s[i.referenceElement.endPrintPaperIndex],n=e.getHtml(l,t),n.forEach((function(t,i){t.referenceElement&&(t.referenceElement.endPrintPaperIndex=t.referenceElement.beginPrintPaperIndex+n.length-1),i>0&&(l.index<s.length-1?l=s[l.index+1]:(l=p.createNewPage(s.length,l.referenceElement),s.push(l)),a.append(l.getTarget())),t.target&&("none"!=e.options.showInPage&&l.append(t.target),l.updatePrintLine(t.printLine),e.onRendered(l,t.target)),i==n.length-1&&t.referenceElement&&l.updateReferenceElement(t.referenceElement)}))})),o&&o.templates.forEach((function(t,e){var i=t.data||{},o=t.options||{};t.template.printPanels.forEach((function(t){t.getHtml(i,o,n,r)}))})),i||(this.lastPaperFooter&&s[s.length-1].printLine>this.lastPaperFooter&&(l=p.createNewPage(s.length,l.referenceElement),s.push(l),a.append(l.getTarget())),this.panelPaperRule&&("odd"==this.panelPaperRule&&s.length%2==0&&(l=p.createNewPage(s.length,l.referenceElement),s.push(l),a.append(l.getTarget())),"even"==this.panelPaperRule&&s.length%2==1&&(l=p.createNewPage(s.length,l.referenceElement),s.push(l),a.append(l.getTarget()))),s.forEach((function(n){n.updatePaperNumber(n.index+1,s.length,e.paperNumberToggleInEven),r.fillPaperHeaderAndFooter(n,t,s.length),e&&(null!=e.leftOffset&&n.setLeftOffset(e.leftOffset),null!=e.topOffset&&n.setTopOffset(e.topOffset))})),a.prepend(this.getPrintStyle())),a},t.prototype.resize=function(t,e,n,i){this.width=e,this.height=n,this.paperType=t,this.rotate=i,this.designPaper.resize(e,n)},t.prototype.rotatePaper=function(){null==this.rotate&&(this.rotate=!1),this.rotate=!this.rotate,this.resize(this.paperType,this.height,this.width,this.rotate)},t.prototype.zoom=function(t,e){this.scale=e?t:void 0,this.designPaper.zoom(t)},t.prototype.getTarget=function(){return this.target},t.prototype.enable=function(){this.target.removeClass("hipanel-disable")},t.prototype.disable=function(){this.target.addClass("hipanel-disable")},t.prototype.getPanelEntity=function(t){var e=[];return this.printElements.forEach((function(n){e.push(n.getPrintElementEntity(t))})),new at({index:this.index,width:this.width,height:this.height,paperType:this.paperType,paperHeader:this.paperHeader,paperFooter:this.paperFooter,paperNumberDisabled:!!this.paperNumberDisabled||void 0,paperNumberFormat:this.paperNumberFormat?this.paperNumberFormat:void 0,panelPaperRule:this.panelPaperRule?this.panelPaperRule:void 0,panelPageRule:this.panelPageRule?this.panelPageRule:void 0,paperNumberLeft:this.paperNumberLeft,paperNumberTop:this.paperNumberTop,printElements:e,rotate:this.rotate,firstPaperFooter:this.firstPaperFooter,evenPaperFooter:this.evenPaperFooter,oddPaperFooter:this.oddPaperFooter,lastPaperFooter:this.lastPaperFooter,topOffset:this.topOffset,fontFamily:this.fontFamily,orient:this.orient,scale:this.scale,leftOffset:this.leftOffset})},t.prototype.createTarget=function(){var t=$('<div class="hiprint-printPanel panel-index-'+this.index+'"></div>');return this.css(t),t},t.prototype.droppablePaper=function(t){var e=this;t.getTarget().hidroppable({accept:".ep-draggable-item",onDrop:function(n,i){var r=p.a.instance.getDragingPrintElement(),a=r.printElement;a.updateSizeAndPositionOptions(e.mathroundToporleft(r.left-o.a.px.toPt(e.target.offset().left)),e.mathroundToporleft(r.top-o.a.px.toPt(e.target.offset().top))),a.setTemplateId(e.templateId),a.setPanel(e),e.appendDesignPrintElement(e.designPaper,a,!0),e.printElements.push(a),a.design(void 0,t),o.a.event.trigger("hiprintTemplateDataChanged_"+e.templateId,"新增")}})},t.prototype.initPrintElements=function(t){var e=this;this.printElements=[],t&&t.forEach((function(n){var i;if(i=n.printElementType?it.createPrintElementType(n.printElementType):a.instance.getElementType(n.tid)){var o=i.createPrintElement(n.options);o.setTemplateId(e.templateId),o.setPanel(e),e.printElements.push(o)}else console.log("miss "+JSON.stringify(t))}))},t.prototype.mathroundToporleft=function(t){var e=s.a.instance.movingDistance;return Math.round(t/e)*e},t.prototype.appendDesignPrintElement=function(t,e,n){e.setCurrenttemplateData(void 0);var i=e.getDesignTarget(t);i.addClass("design"),n&&e.initSizeByHtml(i),t.append(i)},t.prototype.createNewPage=function(t,e){var n=new T(this.templateId,this.panelPageRule,this.scale,this.width,this.height,this.paperHeader,this.paperFooter,this.paperNumberLeft,this.paperNumberTop,this.paperNumberDisabled,this.paperNumberFormat,t,e);return n.setFooter(this.firstPaperFooter,this.evenPaperFooter,this.oddPaperFooter,this.lastPaperFooter),n.setOffset(this.leftOffset,this.topOffset),n},t.prototype.orderPrintElements=function(){this.printElements=o.a.orderBy(this.printElements,(function(t){return t.options.getLeft()})),this.printElements=o.a.orderBy(this.printElements,(function(t){return t.options.getTop()}))},t.prototype.fillPaperHeaderAndFooter=function(t,e,n){this.printElements.filter((function(t){return t.isFixed()||t.isHeaderOrFooter()})).forEach((function(i){if(i.isFixed(),i.showInPage(t.index,n)){var o=i.getHtml(t,e);o.length&&t.append(o[0].target)}}))},t.prototype.clear=function(){this.printElements.forEach((function(t){t.designTarget&&t.designTarget.length&&t.designTarget.remove()})),this.printElements=[],o.a.event.trigger("hiprintTemplateDataChanged_"+this.templateId,"清空")},t.prototype.insertPrintElementToPanel=function(t){var e=this.getPrintElementTypeByEntity(t);if(e){var n=e.createPrintElement(t.options);n.setTemplateId(this.templateId),n.setPanel(this),this.printElements.push(n)}},t.prototype.addPrintText=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="text",this.insertPrintElementToPanel(t)},t.prototype.addPrintHtml=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="html",this.insertPrintElementToPanel(t)},t.prototype.addPrintTable=function(t){if(t.printElementType=t.printElementType||{},t.printElementType.type="table",t.options&&t.options.columns){var e=$.extend({},t.options.columns);t.printElementType.columns=e.columns,e.columns=void 0}this.insertPrintElementToPanel(t)},t.prototype.addPrintImage=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="image",this.insertPrintElementToPanel(t)},t.prototype.addPrintLongText=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="longText",this.insertPrintElementToPanel(t)},t.prototype.addPrintVline=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="vline",this.insertPrintElementToPanel(t)},t.prototype.addPrintHline=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="hline",this.insertPrintElementToPanel(t)},t.prototype.addPrintRect=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="rect",this.insertPrintElementToPanel(t)},t.prototype.addPrintOval=function(t){t.printElementType=t.printElementType||{},t.printElementType.type="oval",this.insertPrintElementToPanel(t)},t.prototype.getPrintElementTypeByEntity=function(t){var e;return(e=t.tid?a.instance.getElementType(t.tid):it.createPrintElementType(t.printElementType))||console.log("miss "+JSON.stringify(t)),e},t.prototype.getPrintStyle=function(){return" <style printStyle>\n        @page\n        {\n             border:0;\n             padding:0cm;\n             margin:0cm;\n             "+this.getPrintSizeStyle()+"\n        }\n        </style>\n"},t.prototype.getPrintSizeStyle=function(){return this.paperType?"size:"+this.paperType+" "+(this.height>this.width?"portrait":"landscape")+";":"size: "+this.width+"mm "+this.height+"mm "+(this.orient?1==this.orient?"portrait":"landscape":"")+";"},t.prototype.deletePrintElement=function(t){var e=this;this.printElements.filter((function(n,i){n.id==t.id&&(t.delete(),e.printElements.splice(i,1))}))},t.prototype.getElementByTid=function(t){return this.printElements.filter((function(e){return e.printElementType.tid===t})).map((function(t,e){return t}))},t.prototype.getElementByName=function(t){return this.printElements.filter((function(e){return e.options.name===t})).map((function(t,e){return t}))},t.prototype.getElementById=function(t){return this.printElements.find((function(e){return e.id===t}))},t.prototype.getFieldsInPanel=function(){var t=[];return this.printElements.forEach((function(e){e.options&&e.options.field?t.push(e.options.field):e.printElementType.field&&t.push(e.printElementType.field)})),t},t.prototype.bindBatchMoveElement=function(){var t=this;this.designPaper.getTarget().on("mousemove",(function(e){e.currentTarget.className==t.designPaper.target[0].className?(t.mouseOffsetX=e.offsetX,t.mouseOffsetY=e.offsetY):t.mouseOffsetX=t.mouseOffsetY=void 0,p.a.instance.draging||1===e.buttons&&p.a.instance.rectDraging&&t.mouseRect&&(t.mouseRect.updateRect(e.pageX,e.pageY),t.updateRectPanel(t.mouseRect))})).on("mousedown",(function(e){p.a.instance.rectDraging=!0,p.a.instance.draging||(t.mouseRect&&t.mouseRect.target&&t.mouseRect.target.remove(),1===e.buttons&&"hiprint-printPaper hidroppable design"==e.target.className&&(t.mouseRect=new st(e.pageX,e.pageY,p.a.instance.dragLengthCNum(e.pageX-t.designPaper.getTarget().offset().left,s.a.instance.movingDistance),p.a.instance.dragLengthCNum(e.pageY-t.designPaper.getTarget().offset().top,s.a.instance.movingDistance))))})).on("mouseup",(function(t){p.a.instance.rectDraging=!1}))},t.prototype.getElementInRect=function(t){var e=[];return this.printElements.filter((function(t){return!1!==t.options.draggable})).forEach((function(n){n.inRect(t)&&e.push(n)})),e},t.prototype.updateRectPanel=function(t){var e=this,n=this.designPaper.getTarget(),i=this.designPaper.scale||1;if(this.mouseRect.target||(this.mouseRect.target=$('<div tabindex="1" class="mouseRect" style="z-index:2;position: absolute;opacity:0.2;border: 1px dashed #000;background-color:#31676f;"><span></span></div>'),n.find(".hiprint-printPaper-content").append(this.mouseRect.target),this.bingKeyboardMoveEvent(this.mouseRect.target),this.mouseRect.target.hidraggable({onDrag:function(t,n,r){e.mouseRect.target.css({transform:"unset"}),e.mouseRect.lastLeft=e.mouseRect.lastLeft?o.a.px.toPt(e.mouseRect.target[0].offsetLeft):n/i,e.mouseRect.lastTop=e.mouseRect.lastTop?o.a.px.toPt(e.mouseRect.target[0].offsetTop):r/i,(e.mouseRect.mouseRectSelectedElement||[]).forEach((function(t){t.updatePositionByMultipleSelect(n-e.mouseRect.lastLeft,r-e.mouseRect.lastTop)})),e.mouseRect.lastLeft=n/i,e.mouseRect.lastTop=r/i,p.a.instance.changed=!0},moveUnit:"pt",minMove:s.a.instance.movingDistance,onBeforeDrag:function(t){e.mouseRect.target.focus(),p.a.instance.draging=!0,e.mouseRect.mouseRectSelectedElement||(e.mouseRect.mouseRectSelectedElement=e.getElementInRect(e.mouseRect))},getScale:function(){return e.designPaper.scale||1},onStopDrag:function(t){p.a.instance.changed&&o.a.event.trigger("hiprintTemplateDataChanged_"+n.templateId,"框选移动"),p.a.instance.draging=!1,p.a.instance.changed=!1}})),t.ex>=t.bx&&t.ey>=t.by)this.mouseRect.target.css({height:t.maxY-t.minY+"px",width:t.maxX-t.minX+"px",left:t.lastLeft/i+"pt",top:t.lastTop/i+"pt",transform:"unset"});else if(t.ex<t.bx&&t.ey<t.by)this.mouseRect.target.css({height:t.maxY-t.minY+"px",width:t.maxX-t.minX+"px",left:t.lastLeft/i+"pt",top:t.lastTop/i+"pt",transform:"rotate(180deg)","transform-origin":"0 0"});else{var r="",a="rotate(180deg)";t.startX==t.minX||t.startX==t.maxX?t.ey>=t.by?(a="scaleX(-1)",r="left"):r="center top":t.startY!=t.minY&&t.startY!=t.maxY||(r=t.ex>=t.bx?"right":"left"),this.mouseRect.target.css({height:t.maxY-t.minY+"px",width:t.maxX-t.minX+"px",left:t.lastLeft/i+"pt",top:t.lastTop/i+"pt",transform:a,"transform-origin":r})}t.target.focus()},t.prototype.bingKeyboardMoveEvent=function(t){var e=this;t.attr("tabindex","1"),t.keydown((function(t){e.mouseRect.mouseRectSelectedElement||(e.mouseRect.mouseRectSelectedElement=e.getElementInRect(e.mouseRect));var n=e.mouseRect.mouseRectSelectedElement||[];switch(t.keyCode){case 37:e.mouseRect.updatePositionByMultipleSelect(0-s.a.instance.movingDistance,0),n.forEach((function(t){t.updatePositionByMultipleSelect(0-s.a.instance.movingDistance,0)})),t.preventDefault();break;case 38:e.mouseRect.updatePositionByMultipleSelect(0,0-s.a.instance.movingDistance),n.forEach((function(t){t.updatePositionByMultipleSelect(0,0-s.a.instance.movingDistance)})),t.preventDefault();break;case 39:e.mouseRect.updatePositionByMultipleSelect(s.a.instance.movingDistance,0),n.forEach((function(t){t.updatePositionByMultipleSelect(s.a.instance.movingDistance,0)})),t.preventDefault();break;case 40:e.mouseRect.updatePositionByMultipleSelect(0,s.a.instance.movingDistance),n.forEach((function(t){t.updatePositionByMultipleSelect(0,s.a.instance.movingDistance)})),t.preventDefault()}[37,38,39,40].includes(t.keyCode)&&o.a.event.trigger("hiprintTemplateDataChanged_"+e.templateId,"框选移动")}))},t}(),lt=function(){return function(t){if(t)if(t.panels){this.panels=[];for(var e=0;e<t.panels.length;e++)this.panels.push(new at(t.panels[e]))}else this.panels=[]}}(),dt=n(9),ht=function(){function t(t,e){var n=this;this.printElementOptionSettingPanel={},this.printTemplate=t,this.settingContainer=$(e),o.a.event.on(t.getPrintElementSelectEventKey(),(function(t){n.buildSetting(t)})),o.a.event.on(t.getBuildCustomOptionSettingEventKey(),(function(t){n.buildSettingByCustomOptions(t)})),o.a.event.on("clearSettingContainer",(function(){n.clearSettingContainer()}))}return t.prototype.init=function(){},t.prototype.clearSettingContainer=function(){if(this.lastPrintElement){var t=this.lastPrintElement.getConfigOptions();t&&t.tabs&&t.tabs.length?this.lastPrintElement.getPrintElementOptionTabs().forEach((function(t){t.list&&t.list.forEach((function(t){t.destroy()}))})):this.lastPrintElement.getPrintElementOptionItems().forEach((function(t){t.destroy()}))}this.lastPrintElement=void 0,this.settingContainer.html("")},t.prototype.clearLastPrintElement=function(){this.lastPrintElement&&(this.lastPrintElement._printElementOptionTabs&&this.lastPrintElement._printElementOptionTabs.forEach((function(t){t.list&&t.list.forEach((function(t){t.destroy()}))})),this.lastPrintElement._printElementOptionItems&&this.lastPrintElement._printElementOptionItems.forEach((function(t){t.destroy()}))),this.lastPrintElement=void 0},t.prototype.buildSetting=function(t){var e,n=this,i=this,o=t.printElement,r=t.customOptionsInput,a=o.getPrintElementOptionTabs();n.clearSettingContainer(),a.length?(e=$('<div class="prop-tabs"><ul class="prop-tab-items"></ul></div>'),a.forEach((function(t){var a=$('<li class="prop-tab-item"><span class="tab-title">'+t.name+"</span></li>");e.find(".prop-tab-items").append(a);var s=$('<div class="hiprint-option-items" data-title="'+t.name+'"></div>');t.list.forEach((function(t){t.submit=function(t){o.submitOption()};var e=t.createTarget(o,o.options,o.printElementType);n.printElementOptionSettingPanel[t.name]=e,s.append(e),["columns","dataType"].includes(t.name)?t.setValue(o.options[t.name],o.options,o.printElementType):["coordinate","widthHeight"].includes(t.name)?t.setValue(o.options,o):t.setValue(o.options[t.name]||o.printElementType[t.name])})),0==t.list.length&&r&&r.length&&r.forEach((function(t){var e=t.callback;t.callback=function(t){e&&(e(t),o.submitOption())};var n=t.optionItems;t.title&&s.append('<div class="hiprint-option-item hiprint-option-item-row">\n            <div class="hiprint-option-item-label hiprint-option-title">\n              '+t.title+"\n            </div>\n        </div>"),n.forEach((function(e){e.submit=function(e){t.callback(i.getValueByOptionItems(n))},s.append(e.createTarget(i.printTemplate,t.options,void 0)),e.setValue(t.options[e.name],t.options,void 0)})),s.bind("click.submitOption",(function(){t.callback(i.getValueByOptionItems(n))})),s.find(".auto-submit").change((function(){t.callback(i.getValueByOptionItems(n))})),s.find(".auto-submit:input").bind("keydown.submitOption",(function(e){13===e.keyCode&&t.callback(i.getValueByOptionItems(n))}))})),e.append(s)}))):(e=$('<div class="hiprint-option-items"></div>'),o.getPrintElementOptionItems().forEach((function(t){t.submit=function(t){o.submitOption()};var i=t.createTarget(o,o.options,o.printElementType);n.printElementOptionSettingPanel[t.name]=i,e.append(i),["columns","dataType"].includes(t.name)?t.setValue(o.options[t.name],o.options,o.printElementType):["coordinate","widthHeight"].includes(t.name)?t.setValue(o.options,o):t.setValue(o.options[t.name]||o.printElementType[t.name])})));var s=$('<button class="hiprint-option-item-settingBtn hiprint-option-item-submitBtn"\n        type="button">确定</button>'),p=$('<button  class="hiprint-option-item-settingBtn hiprint-option-item-deleteBtn"\n        type="button">删除</button>');if(e.append(s),e.append(p),a.length){e.on("click",".prop-tab-item",(function(){var t=$(this),i=t.index();n.settingContainer.data("last-index",i),t.addClass("active"),t.siblings().removeClass("active");var o=e.find(".hiprint-option-items:eq("+i+")");o.addClass("active"),o.siblings().removeClass("active")}));var l=+(n.settingContainer.data("last-index")||0);l>=a.length&&(l=0),e.find(".prop-tab-item:eq("+l+")").click()}s.bind("click.submitOption",(function(){o.submitOption()})),p.bind("click.deleteBtn",(function(){i.printTemplate.deletePrintElement(o),n.clearSettingContainer()})),e.find(".auto-submit").change((function(t){o.submitOption()})),e.find(".auto-submit:input").bind("keydown.submitOption",(function(t){13==t.keyCode&&o.submitOption()})),this.settingContainer.append(e),a.length<1&&r&&r.forEach((function(t){var e=t.callback;t.callback=function(t){e&&(e(t),o.submitOption())},n.buildSettingByCustomOptions(t,n.settingContainer)})),this.lastPrintElement=o},t.prototype.buildSettingByCustomOptions=function(t,e){var n=this;this.clearLastPrintElement();var i=e||this.settingContainer;e||this.settingContainer.html("");var o=[],r=s.a.instance.panel.supportOptions.filter((function(t){return!t.hidden})).map((function(t){return t.name}));t.optionItems?o=t.optionItems:Object.keys(t.options).filter((function(t){return r.includes(t)})).forEach((function(t){var e=dt.a.getItem(t);e&&o.push(e)}));var a=$('<div class="hiprint-option-items"></div>');t.title&&a.append('<div class="hiprint-option-item hiprint-option-item-row">\n            <div class="hiprint-option-item-label hiprint-option-title">\n              '+t.title+"\n            </div>\n        </div>"),o.forEach((function(e){e.submit=function(e){t.callback(n.getValueByOptionItems(o))},a.append(e.createTarget(n.printTemplate,t.options,void 0)),e.setValue(t.options[e.name],t.options,void 0)}));var p=$('<button class="hiprint-option-item-settingBtn hiprint-option-item-submitBtn"\n        type="button">确定</button>');a.append(p),p.bind("click.submitOption",(function(){t.callback(n.getValueByOptionItems(o))})),a.find(".auto-submit").change((function(e){t.callback(n.getValueByOptionItems(o))})),a.find(".auto-submit:input").bind("keydown.submitOption",(function(e){13==e.keyCode&&t.callback(n.getValueByOptionItems(o))})),i.append(a)},t.prototype.getValueByOptionItems=function(t){var e={};return t.forEach((function(t){e[t.name]=t.getValue()})),e},t}(),ut=function(){function t(t,e){this.paginationContainer=t,this.jqPaginationContainer=$(this.paginationContainer),this.template=e}return t.prototype.buildPagination=function(t){var e=this.template.getPaneltotal(),n=this;this.jqPaginationContainer.html("");for(var i=$('<ul class="hiprint-pagination"></ul>'),o=function(){var t=r,e=$("<li><span>"+(t+1)+'</span><a href="javascript:void(0);">x</a></li>');e.find("span").click((function(){n.template.selectPanel(t),e.removeClass("selected"),$(this).parent("li").addClass("selected")})),e.find("a").click((function(){n.template.deletePanel(t),n.buildPagination()})),i.append(e)},r=0;r<e;r++)o();var a=$("<li><span>+</span></li>");i.append(a),this.jqPaginationContainer.append(i),a.click((function(){n.template.addPrintPanel(void 0,!0),n.buildPagination()}))},t}(),ct=function(){function t(t){var e=this;this.tempimageBase64={},this.id=p.a.instance.guid(),p.a.instance.setPrintTemplateById(this.id,this);var n=t||{};this.printPanels=[],this.dataMode=n.dataMode||1,this.history=void 0==n.history||n.history,this.onDataChanged=n.onDataChanged,this.onUpdateError=n.onUpdateError,this.lastJson=n.template||{},this.historyList=[{id:p.a.instance.guid(),type:"初始",json:this.lastJson}],this.historyPos=0;var i=new lt(n.template||[]);n.template&&i.panels.forEach((function(t){e.printPanels.push(new pt(t,e.id))})),n.fontList&&(this.fontList=n.fontList),n.fields&&(this.fields=n.fields),n.onImageChooseClick&&(this.onImageChooseClick=n.onImageChooseClick),n.settingContainer&&new ht(this,n.settingContainer),n.paginationContainer&&(this.printPaginationCreator=new ut(n.paginationContainer,this),this.printPaginationCreator.buildPagination()),this.initAutoSave()}return t.prototype.design=function(t,e){var n=this;if(e||(e={}),0==this.printPanels.length){var i=this.createDefaultPanel();this.printPanels.push(i)}if(!t)throw new Error("options.container can not be empty");this.createContainer(t),this.printPanels.forEach((function(t,i){n.container.append(t.getTarget()),i>0&&t.disable(),t.design(e)})),this.selectPanel(0)},t.prototype.getSimpleHtml=function(t,e){var n=this;e||(e={});var i=$('<div class="hiprint-printTemplate"></div>');return t&&t.constructor===Array?t.forEach((function(t){t&&n.printPanels.forEach((function(n,o){i.append(n.getHtml(t,e))}))})):this.printPanels.forEach((function(n,o){i.append(n.getHtml(t,e))})),e&&e.imgToBase64&&this.transformImg(i.find("img")),i},t.prototype.getHtml=function(t,e){return t||(t={}),this.getSimpleHtml(t,e)},t.prototype.getJointHtml=function(t,e,n){var i=$('<div class="hiprint-printTemplate"></div>'),o=[];return this.printPanels.forEach((function(r,a){i.append(r.getHtml(t,e,o,void 0,n))})),i},t.prototype.setPaper=function(t,e){if(/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/.test(t))this.editingPanel.resize(void 0,parseFloat(t),parseFloat(e),!1);else{var n=p.a.instance[t];if(!n)throw new Error("not found pagetype:"+(t||""));this.editingPanel.resize(t,n.width,n.height,!1)}},t.prototype.rotatePaper=function(){this.editingPanel.rotatePaper()},t.prototype.zoom=function(t,e){this.editingPanel.zoom(t,e)},t.prototype.addPrintPanel=function(t,e){var n=t?new pt(new at(t),this.id):this.createDefaultPanel();return t&&(t.index=this.printPanels.length),e&&(this.container.append(n.getTarget()),n.design()),this.printPanels.push(n),e&&this.selectPanel(n.index),n},t.prototype.selectPanel=function(t){var e=this;this.printPanels.forEach((function(n,i){t==i?(n.enable(),e.editingPanel=n):n.disable()}))},t.prototype.deletePanel=function(t){this.printPanels[t].clear(),this.printPanels[t].getTarget().remove(),this.printPanels.splice(t,1)},t.prototype.getPaneltotal=function(){return this.printPanels.length},t.prototype.createDefaultPanel=function(){return new pt(new at({index:this.printPanels.length,paperType:"A4"}),this.id)},t.prototype.createContainer=function(t){t?(this.container=$(t),this.container.addClass("hiprint-printTemplate")):this.container=$('<div class="hiprint-printTemplate"></div>')},t.prototype.getJsonTid=function(){var t=[];return this.printPanels.forEach((function(e){e.getPanelEntity().printElements.length&&t.push(e.getPanelEntity())})),new lt({panels:t})},t.prototype.getJson=function(){var t=[];return this.printPanels.forEach((function(e){t.push(e.getPanelEntity(!0))})),new lt({panels:t})},t.prototype.undo=function(t){o.a.event.trigger("hiprintTemplateDataShortcutKey_"+this.id,"undo")},t.prototype.redo=function(t){o.a.event.trigger("hiprintTemplateDataShortcutKey_"+this.id,"redo")},t.prototype.getPrintElementSelectEventKey=function(){return"PrintElementSelectEventKey_"+this.id},t.prototype.getBuildCustomOptionSettingEventKey=function(){return"BuildCustomOptionSettingEventKey_"+this.id},t.prototype.clear=function(){this.printPanels.forEach((function(t){if(t.clear(),t.index>0){var e=t.getTarget();e&&e.length&&e.remove()}})),this.printPanels=[this.printPanels[0]],this.printPaginationCreator&&this.printPaginationCreator.buildPagination()},t.prototype.getPaperType=function(t){return null==t&&(t=0),this.printPanels[0].paperType},t.prototype.getOrient=function(t){return null==t&&(t=0),this.printPanels[t].height>this.printPanels[t].width?1:2},t.prototype.getPrintStyle=function(t){return this.printPanels[t].getPrintStyle()},t.prototype.print=function(t,e,n){t||(t={}),this.getHtml(t,e).hiwprint(n)},t.prototype.print2=function(t,e){if(t||(t={}),e||(e={}),this.clientIsOpened()){var n=this,i=0,o={},r=$('link[media=print][href*="print-lock.css"]').length>0?$('link[media=print][href*="print-lock.css"]'):[],a="";e.styleHandler&&(a+=e.styleHandler()),r.each((function(s,p){var l=new XMLHttpRequest;l.open("GET",$(p).attr("href")),l.onreadystatechange=function(){if(4===l.readyState&&200===l.status&&(o[s+""]='<style rel="stylesheet" type="text/css">'+l.responseText+"</style>",++i==r.length)){for(var p="",d=0;d<r.length;d++)p+=o[d+""];a&&(p=a+p),n.sentToClient(p,t,e)}},l.send()}))}else alert("连接客户端失败")},t.prototype.imageToBase64=function(t){var e=$(t).attr("src");if(-1==e.indexOf("base64"))try{if(!this.tempimageBase64[e]){var n=document.createElement("canvas"),i=new Image;i.src=t.attr("src"),n.width=i.width,n.height=i.height,n.getContext("2d").drawImage(i,0,0),e&&(this.tempimageBase64[e]=n.toDataURL("image/png"))}t.attr("src",this.tempimageBase64[e])}catch(e){try{this.xhrLoadImage(t)}catch(t){console.log(t)}}},t.prototype.xhrLoadImage=function(t){},t.prototype.sentToClient=function(t,e,n){e||(e={});var i=$.extend({},n||{});i.imgToBase64=!0;var o=t+this.getHtml(e,i)[0].outerHTML;i.id=p.a.instance.guid(),i.html=o,i.templateId=this.id,hiwebSocket.send(i)},t.prototype.printByHtml=function(t){$(t).hiwprint()},t.prototype.printByHtml2=function(t,e){if(e||(e={}),this.clientIsOpened()){var n=this,i=0,o={},r=$("link[media=print]").length>0?$("link[media=print]"):$("link");r.each((function(a,s){var l=new XMLHttpRequest;l.open("GET",$(s).attr("href")),l.onreadystatechange=function(){if(4===l.readyState&&200===l.status&&(o[a+""]='<style rel="stylesheet" type="text/css">'+l.responseText+"</style>",++i==r.length)){for(var s="",d=0;d<r.length;d++)s+=o[d+""];var h=s+$(t)[0].outerHTML,u=$.extend({},e||{});u.id=p.a.instance.guid(),u.html=h,u.templateId=n.id,hiwebSocket.send(u)}},l.send()}))}else alert("连接客户端失败")},t.prototype.deletePrintElement=function(t){this.printPanels.forEach((function(e){e.deletePrintElement(t)}))},t.prototype.transformImg=function(t){var e=this;t.map((function(t,n){e.imageToBase64($(n))}))},t.prototype.toPdf=function(t,e,n){var i=this,r=$.Deferred(),a=!0;if(this.printPanels.length){var s=o.a.mm.toPt(this.printPanels[0].width),p=o.a.mm.toPt(this.printPanels[0].height),l=$.extend({scale:2,width:o.a.pt.toPx(s),x:0,y:0,useCORS:!0},n||{}),d=new jspdf__WEBPACK_IMPORTED_MODULE_7__["a"]({orientation:1==this.getOrient(0)?"portrait":"landscape",unit:"pt",format:this.printPanels[0].paperType?this.printPanels[0].paperType.toLocaleLowerCase():[s,p]}),h=this.getHtml(t,n);n&&(a=n.isDownload),this.createTempContainer();var u=this.getTempContainer();this.svg2canvas(h),u.html(h[0]);var c=u.find(".hiprint-printPanel .hiprint-printPaper").length;$(h).css("position:fixed"),html2canvas__WEBPACK_IMPORTED_MODULE_8___default()(h[0],l).then((function(t){var n=t.getContext("2d");n.mozImageSmoothingEnabled=!1,n.webkitImageSmoothingEnabled=!1,n.msImageSmoothingEnabled=!1,n.imageSmoothingEnabled=!1;for(var o=t.toDataURL("image/jpeg"),l=0;l<c;l++)d.addImage(o,"JPEG",0,0-l*p,s,c*p),l<c-1&&d.addPage();if(a)i.removeTempContainer(),e.indexOf(".pdf")>-1?d.save(e):d.save(e+".pdf");else{i.removeTempContainer();var h=d.output("blob");r.resolve(h)}}))}return r.promise()},t.prototype.createTempContainer=function(){this.removeTempContainer(),$("body").prepend($('<div class="hiprint_temp_Container" style="overflow:hidden;height: 0px;box-sizing: border-box;"></div>'))},t.prototype.removeTempContainer=function(){$(".hiprint_temp_Container").remove()},t.prototype.getTempContainer=function(){return $(".hiprint_temp_Container")},t.prototype.svg2canvas=function(t){var e=this;t.find("svg").each((function(t,n){var i=n.parentNode,o=e.parentWidthHeight(i),r=canvg__WEBPACK_IMPORTED_MODULE_9__["b"].createCanvas(o.width,o.height),a=r.getContext("2d"),s=(new XMLSerializer).serializeToString(n);canvg__WEBPACK_IMPORTED_MODULE_9__["a"].fromString(a,s).render(),$(n).before(r),i.removeChild(n)}))},t.prototype.parentWidthHeight=function(t){return t.style.width.endsWith("%")||t.style.height.endsWith("%")?"hiprint-printPaper-content"!=t.className?this.parentWidthHeight(t.parentNode):{width:10,height:10}:{width:o.a.pt.toPx(parseFloat(t.style.width)),height:o.a.pt.toPx(parseFloat(t.style.height))}},t.prototype.on=function(t,e){o.a.event.clear(t+"_"+this.id),o.a.event.on(t+"_"+this.id,e)},t.prototype.clientIsOpened=function(){return hiwebSocket.opened},t.prototype.getPrinterList=function(){var t=hiwebSocket.getPrinterList();return t||[]},t.prototype.getElementByTid=function(t,e){return null==e&&(e=0),this.printPanels[e].getElementByTid(t)},t.prototype.getElementByName=function(t,e){return null==e&&(e=0),this.printPanels[e].getElementByName(t)},t.prototype.getPanel=function(t){return null==t&&(t=0),this.printPanels[t]},t.prototype.loadAllImages=function(t,e,n){var i=this;null==n&&(n=0);for(var o=t[0].getElementsByTagName("img"),r=!0,a=0;a<o.length;a++){var s=o[a];s.src&&s.src!==window.location.href&&-1==s.src.indexOf("base64")&&(s&&void 0!==s.naturalWidth&&0!==s.naturalWidth&&s.complete||(r=!1))}n++,!r&&n<10?setTimeout((function(){i.loadAllImages(t,e,n)}),500):e()},t.prototype.setFontList=function(t){this.fontList=t},t.prototype.getFontList=function(){return this.fontList},t.prototype.setFields=function(t){this.fields=t},t.prototype.getFields=function(){return this.fields},t.prototype.setOnImageChooseClick=function(t){this.onImageChooseClick=t},t.prototype.getOnImageChooseClick=function(){return this.onImageChooseClick},t.prototype.getFieldsInPanel=function(){var t=[];return this.printPanels.forEach((function(e){t=t.concat(e.getFieldsInPanel())})),t},t.prototype.update=function(t){var e=this;try{if(t&&"object"==_typeof(t)){var n=new at(t.panels[0]);e.editingPanel.update(n)}}catch(i){console.log(i),e.onUpdateError&&e.onUpdateError(i)}},t.prototype.getSelectEls=function(){var t=this,e=[];return e=t.editingPanel.mouseRect&&t.editingPanel.mouseRect.target?t.editingPanel.getElementInRect(t.editingPanel.mouseRect):t.editingPanel.printElements.filter((function(t){return"block"==t.designTarget.children().last().css("display")&&!t.printElementType.type.includes("table")})),e},t.prototype.updateOption=function(t,e){var n=this.getSelectEls();n&&n.length&&(n.forEach((function(n){n.updateOption(t,e,!0)})),o.a.event.trigger("hiprintTemplateDataChanged_"+this.id,"批量修改"))},t.prototype.setElsAlign=function(t){var e=this.getSelectEls();if(e.length){var n=Math.min.apply(null,e.map((function(t){return t.options.left}))),i=Math.max.apply(null,e.map((function(t){return t.options.left+t.options.width}))),o=Math.min.apply(null,e.map((function(t){return t.options.top}))),r=Math.max.apply(null,e.map((function(t){return t.options.top+t.options.height})));switch(t){case"left":e.forEach((function(t){t.updateSizeAndPositionOptions(n),t.designTarget.css("left",t.options.displayLeft())}));break;case"vertical":var a=n+(i-n)/2;e.forEach((function(t){t.updateSizeAndPositionOptions(a-t.options.width/2),t.designTarget.css("left",t.options.displayLeft())}));break;case"right":e.forEach((function(t){t.updateSizeAndPositionOptions(i-t.options.width),t.designTarget.css("left",t.options.displayLeft())}));break;case"top":e.forEach((function(t){t.updateSizeAndPositionOptions(void 0,o),t.designTarget.css("top",t.options.displayTop())}));break;case"horizontal":var s=o+(r-o)/2;e.forEach((function(t){t.updateSizeAndPositionOptions(void 0,s-t.options.height/2),t.designTarget.css("top",t.options.displayTop())}));break;case"bottom":e.forEach((function(t){t.updateSizeAndPositionOptions(void 0,r-t.options.height),t.designTarget.css("top",t.options.displayTop())}));break;case"distributeHor":var p=[].reduce.call(e,(function(t,e){return t+e.options.width}),0),l=(i-n-p)/(e.length-1);e.sort((function(t,e){return t.options.left-e.options.left})),e.forEach((function(t,n){[0,e.length-1].includes(n)||(t.updateSizeAndPositionOptions(e[n-1].options.left+e[n-1].options.width+l),t.designTarget.css("left",t.options.displayLeft()))}));break;case"distributeVer":var d=[].reduce.call(e,(function(t,e){return t+e.options.height}),0),h=(r-o-d)/(e.length-1);e.sort((function(t,e){return t.options.top-e.options.top})),e.forEach((function(t,n){[0,e.length-1].includes(n)||(t.updateSizeAndPositionOptions(void 0,e[n-1].options.top+e[n-1].options.height+h),t.designTarget.css("top",t.options.displayTop()))}));break}}},t.prototype.setElsSpace=function(t,e){var n=this.getSelectEls();n.length&&(e?(n.sort((function(t,e){return t.options.left-e.options.left})),n.forEach((function(e,i){i>0&&(e.updateSizeAndPositionOptions(n[i-1].options.left+n[i-1].options.width+t),e.designTarget.css("left",e.options.displayLeft()))}))):(n.sort((function(t,e){return t.options.top-e.options.top})),n.forEach((function(e,i){i>0&&(e.updateSizeAndPositionOptions(void 0,n[i-1].options.top+n[i-1].options.height+t),e.designTarget.css("top",e.options.displayTop()))}))))},t.prototype.initAutoSave=function(){var t=this;o.a.event.on("hiprintTemplateDataShortcutKey_"+this.id,(function(e){if(t.history)switch(e){case"undo":if(t.historyPos>0){t.historyPos-=1;var n=t.historyList[t.historyPos];t.update(n.json,n.type)}break;case"redo":if(t.historyPos<t.historyList.length-1){t.historyPos+=1;n=t.historyList[t.historyPos];t.update(n.json,n.type)}break}})),o.a.event.on("hiprintTemplateDataChanged_"+this.id,(function(e){if(t.history){var n=1==t.dataMode?t.getJson():t.getJsonTid();t.lastJson=n,t.historyPos<t.historyList.length-1&&(t.historyList=t.historyList.slice(0,t.historyPos+1)),t.historyList.push({id:p.a.instance.guid(),type:e,json:n}),t.historyList.length>50?t.historyList=t.historyList.slice(0,1).concat(t.historyList.slice(1,50)):t.historyPos+=1,t.onDataChanged&&t.onDataChanged(e,n)}}))},t}();function ft(t){this.getHtml(t).hiwprint()}function gt(t,e,n){$.extend({},t||{}).imgToBase64=!0;var i=new ct({});i.on("printSuccess",e),i.on("printError",n),i.printByHtml2(this.getHtml(t),t.options)}function mt(t){var e=void 0;return t&&t.templates.forEach((function(n,i){var o=$.extend({},n.options||{});t.imgToBase64&&(o.imgToBase64=!0),e?e.append(n.template.getHtml(n.data,o).html()):e=n.template.getHtml(n.data,o)})),e}function vt(t){s.a.instance.init(t),s.a.instance.providers.forEach((function(t){t.addElementTypes(a.instance)}))}function yt(t){t?t&&Object.keys(t).forEach((function(e){if("optionItems"==e&&t.optionItems&&t.optionItems.length&&s.a.instance.registerItems(t.optionItems),t[e].tabs&&t[e].tabs.length&&(t[e].tabs.forEach((function(t,n){if(t.replace)$.extend(s.a.instance[e].tabs[n],t);else{var i=t.options,o=s.a.instance[e].tabs[n].options;i.forEach((function(t){var e=o.findIndex((function(e){return e.name==t.name}));e>-1?o[e].hidden=t.hidden:t.after?(e=o.findIndex((function(e){return e.name==t.after})),e>-1&&o.splice(e+1,0,t)):o.push(t)})),$.extend(s.a.instance[e].tabs[n],{name:t.name,options:o})}})),delete t[e].tabs),t[e].supportOptions){var n=t[e].supportOptions,i=s.a.instance[e].supportOptions;n.forEach((function(t){var e=i.findIndex((function(e){return e.name==t.name}));e>-1?i[e].hidden=t.hidden:t.after?(e=i.findIndex((function(e){return e.name==t.after})),e>-1&&i.splice(e+1,0,t)):i.push(t)})),$.extend(s.a.instance[e].supportOptions,i),delete t[e].supportOptions}$.extend(s.a.instance[e],t[e])})):$.extend(s.a.instance,HIPRINT_CONFIG)}function bt(t,e){return a.instance.updateElementType(t,e)}function _t(t){s.a.instance.clear("printerList"),s.a.instance.on("printerList",t),hiwebSocket.refreshPrinterList()}function Et(t,e,...n){s.a.instance.clear("address_"+t),s.a.instance.on("address_"+t,e),hiwebSocket.getAddress(t,...n)}function Tt(t,e,n){s.a.instance.clear("ippPrinterCallback"),s.a.instance.on("ippPrinterCallback",e),s.a.instance.clear("ippPrinterConnected"),s.a.instance.on("ippPrinterConnected",n),hiwebSocket.ippPrint(t)}function Pt(t,e){s.a.instance.clear("ippRequestCallback"),s.a.instance.on("ippRequestCallback",e),hiwebSocket.ippRequest(t)}n.d(e,"init",(function(){return vt})),n.d(e,"setConfig",(function(){return yt})),n.d(e,"updateElementType",(function(){return bt})),n.d(e,"hiwebSocket",(function(){return hiwebSocket})),n.d(e,"refreshPrinterList",(function(){return _t})),n.d(e,"getAddress",(function(){return Et})),n.d(e,"ippPrint",(function(){return Tt})),n.d(e,"ippRequest",(function(){return Pt})),n.d(e,"PrintElementTypeManager",(function(){return ot})),n.d(e,"PrintElementTypeGroup",(function(){return rt})),n.d(e,"PrintTemplate",(function(){return ct})),n.d(e,"print",(function(){return ft})),n.d(e,"print2",(function(){return gt})),n.d(e,"getHtml",(function(){return mt})),$(document).ready((function(){console.log("document ready"),console.log(window.autoConnect),hiwebSocket.hasIo()&&window.autoConnect&&hiwebSocket.start()}))}]),defaultElementTypeProvider=Object(_etypes_default_etyps_provider__WEBPACK_IMPORTED_MODULE_10__["a"])(hiprint)}).call(this,__webpack_require__("1157"),__webpack_require__("1157"))},4678:function(t,e,n){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id="4678"},"4e8f":function(t,e,n){"use strict";(function(t){e["a"]={name:"printPreview",props:{},data(){return{visible:!1,spinning:!0,waitShowPrinter:!1,width:0,hiprintTemplate:{},printData:{}}},computed:{},watch:{},created(){},mounted(){},methods:{hideModal(){this.visible=!1},show(e,n,i="210"){this.visible=!0,this.spinning=!0,this.width=i,this.hiprintTemplate=e,this.printData=n,setTimeout(()=>{t("#preview_content_tasks").html(e.getHtml(n)),this.spinning=!1},500)},print(){this.waitShowPrinter=!0,this.hiprintTemplate.print(this.printData,{},{callback:()=>{this.waitShowPrinter=!1}})},toPdf(){this.hiprintTemplate.toPdf(this.printData,"打印预览pdf")}}}}).call(this,n("1157"))},"568c":function(t,e){(function(){window.HIPRINT_CONFIG={movingDistance:1.5,paperHeightTrim:1,showPosition:!0,positionLineMode:!1,positionUnit:!0,showSizeBox:!0,panel:{supportOptions:[{name:"panelPaperRule",hidden:!1},{name:"panelPageRule",hidden:!1},{name:"firstPaperFooter",hidden:!1},{name:"evenPaperFooter",hidden:!1},{name:"oddPaperFooter",hidden:!1},{name:"lastPaperFooter",hidden:!1},{name:"leftOffset",hidden:!1},{name:"topOffset",hidden:!1},{name:"fontFamily",hidden:!1},{name:"orient",hidden:!1},{name:"paperNumberDisabled",hidden:!1},{name:"paperNumberFormat",hidden:!1}],default:{}},text:{tabs:[{name:"基础",options:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"hideTitle",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"dataType",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"color",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"textDecoration",hidden:!1},{name:"textAlign",hidden:!1},{name:"textContentVerticalAlign",hidden:!1},{name:"lineHeight",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"边框",options:[{name:"optionsGroup",hidden:!1},{name:"borderLeft",hidden:!1},{name:"borderTop",hidden:!1},{name:"borderRight",hidden:!1},{name:"borderBottom",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderColor",hidden:!1},{name:"contentPaddingLeft",hidden:!1},{name:"contentPaddingTop",hidden:!1},{name:"contentPaddingRight",hidden:!1},{name:"contentPaddingBottom",hidden:!1}]},{name:"高级",options:[{name:"textType",hidden:!1},{name:"barcodeMode",hidden:!1},{name:"qrCodeLevel",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"axis",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}]}],supportOptions:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"dataType",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"color",hidden:!1},{name:"textDecoration",hidden:!1},{name:"textAlign",hidden:!1},{name:"textContentVerticalAlign",hidden:!1},{name:"lineHeight",hidden:!1},{name:"textType",hidden:!1},{name:"barcodeMode",hidden:!1},{name:"qrCodeLevel",hidden:!1},{name:"hideTitle",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1},{name:"optionsGroup",hidden:!1},{name:"borderLeft",hidden:!1},{name:"borderTop",hidden:!1},{name:"borderRight",hidden:!1},{name:"borderBottom",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderColor",hidden:!1},{name:"contentPaddingLeft",hidden:!1},{name:"contentPaddingTop",hidden:!1},{name:"contentPaddingRight",hidden:!1},{name:"contentPaddingBottom",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}],default:{width:120,height:9.75}},image:{tabs:[{name:"基础",options:[{name:"field",hidden:!1},{name:"src",hidden:!1},{name:"fit",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"axis",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}]}],supportOptions:[{name:"field",hidden:!1},{name:"src",hidden:!1},{name:"fit",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}],default:{}},longText:{tabs:[{name:"基础",options:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"hideTitle",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"textAlign",hidden:!1},{name:"lineHeight",hidden:!1},{name:"color",hidden:!1},{name:"longTextIndent",hidden:!1},{name:"leftSpaceRemoved",hidden:!1},{name:"lHeight",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"axis",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}]}],supportOptions:[{name:"title",hidden:!1},{name:"field",hidden:!1},{name:"testData",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"fontWeight",hidden:!1},{name:"letterSpacing",hidden:!1},{name:"textAlign",hidden:!1},{name:"lineHeight",hidden:!1},{name:"color",hidden:!1},{name:"hideTitle",hidden:!1},{name:"longTextIndent",hidden:!1},{name:"leftSpaceRemoved",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"lHeight",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1},{name:"optionsGroup",hidden:!1},{name:"borderLeft",hidden:!1},{name:"borderTop",hidden:!1},{name:"borderRight",hidden:!1},{name:"borderBottom",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderColor",hidden:!1},{name:"contentPaddingLeft",hidden:!1},{name:"contentPaddingTop",hidden:!1},{name:"contentPaddingRight",hidden:!1},{name:"contentPaddingBottom",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"formatter",hidden:!1},{name:"styler",hidden:!1}],default:{height:42,width:550}},table:{tabs:[{name:"基础",options:[{name:"field",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"tableHeaderRepeat",hidden:!1},{name:"tableFooterRepeat",hidden:!1},{name:"autoCompletion",hidden:!1},{name:"columns",hidden:!1}]},{name:"样式",options:[{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"lineHeight",hidden:!1},{name:"textAlign",hidden:!1},{name:"gridColumns",hidden:!1},{name:"gridColumnsGutter",hidden:!1},{name:"tableBorder",hidden:!1},{name:"tableHeaderBorder",hidden:!1},{name:"tableHeaderCellBorder",hidden:!1},{name:"tableHeaderRowHeight",hidden:!1},{name:"tableHeaderBackground",hidden:!1},{name:"tableHeaderFontSize",hidden:!1},{name:"tableHeaderFontWeight",hidden:!1},{name:"tableBodyRowHeight",hidden:!1},{name:"tableBodyRowBorder",hidden:!1},{name:"tableBodyCellBorder",hidden:!1},{name:"tableFooterBorder",hidden:!1},{name:"tableFooterCellBorder",hidden:!1},{name:"lHeight",hidden:!1}]},{name:"列",options:[]},{name:"高级",options:[{name:"axis",hidden:!1},{name:"styler",hidden:!1},{name:"rowStyler",hidden:!1},{name:"footerFormatter",hidden:!1},{name:"rowsColumnsMerge",hidden:!1},{name:"gridColumnsFooterFormatter",hidden:!1}]}],supportOptions:[{name:"field",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"lineHeight",hidden:!1},{name:"textAlign",hidden:!1},{name:"gridColumns",hidden:!1},{name:"gridColumnsGutter",hidden:!1},{name:"tableHeaderRepeat",hidden:!1},{name:"tableBorder",hidden:!1},{name:"tableHeaderBorder",hidden:!1},{name:"tableHeaderCellBorder",hidden:!1},{name:"tableHeaderRowHeight",hidden:!1},{name:"tableHeaderBackground",hidden:!1},{name:"tableHeaderFontSize",hidden:!1},{name:"tableHeaderFontWeight",hidden:!1},{name:"tableBodyRowHeight",hidden:!1},{name:"tableBodyRowBorder",hidden:!1},{name:"tableBodyCellBorder",hidden:!1},{name:"tableFooterBorder",hidden:!1},{name:"tableFooterCellBorder",hidden:!1},{name:"axis",hidden:!1},{name:"lHeight",hidden:!1},{name:"autoCompletion",hidden:!1},{name:"columns",hidden:!1},{name:"styler",hidden:!1},{name:"rowStyler",hidden:!1},{name:"tableFooterRepeat",hidden:!1},{name:"footerFormatter",hidden:!1},{name:"rowsColumnsMerge",hidden:!1},{name:"gridColumnsFooterFormatter",hidden:!1}],default:{width:550}},tableCustom:{supportOptions:[{name:"field",hidden:!1},{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"fontFamily",hidden:!1},{name:"fontSize",hidden:!1},{name:"textAlign",hidden:!1},{name:"tableBorder",hidden:!1},{name:"tableHeaderBorder",hidden:!1},{name:"tableHeaderCellBorder",hidden:!1},{name:"tableHeaderRowHeight",hidden:!1},{name:"tableHeaderFontSize",hidden:!1},{name:"tableHeaderFontWeight",hidden:!1},{name:"tableHeaderBackground",hidden:!1},{name:"tableBodyRowHeight",hidden:!1},{name:"tableBodyRowBorder",hidden:!1},{name:"tableBodyCellBorder",hidden:!1},{name:"tableFooterBorder",hidden:!1},{name:"tableFooterCellBorder",hidden:!1},{name:"axis",hidden:!1},{name:"lHeight",hidden:!1},{name:"autoCompletion",hidden:!1},{name:"tableFooterRepeat",hidden:!1}],default:{width:550}},hline:{tabs:[{name:"基础",options:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"axis",hidden:!1}]}],supportOptions:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}],default:{borderWidth:.75,height:9,width:90}},vline:{tabs:[{name:"基础",options:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"axis",hidden:!1}]}],supportOptions:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}],default:{borderWidth:void 0,height:90,width:9}},rect:{tabs:[{name:"基础",options:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"axis",hidden:!1}]}],supportOptions:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}],default:{borderWidth:void 0,height:90,width:90}},oval:{tabs:[{name:"基础",options:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"axis",hidden:!1}]}],supportOptions:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"borderWidth",hidden:!1},{name:"borderStyle",hidden:!1},{name:"borderColor",hidden:!1},{name:"backgroundColor",hidden:!1},{name:"showInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"axis",hidden:!1},{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}],default:{borderWidth:void 0,height:90,width:90}},html:{tabs:[{name:"基础",options:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1}]},{name:"样式",options:[{name:"transform",hidden:!1},{name:"zIndex",hidden:!1}]},{name:"高级",options:[{name:"axis",hidden:!1},{name:"formatter",hidden:!1}]}],supportOptions:[{name:"coordinate",hidden:!1},{name:"widthHeight",hidden:!1},{name:"showInPage",hidden:!1},{name:"unShowInPage",hidden:!1},{name:"fixed",hidden:!1},{name:"zIndex",hidden:!1},{name:"axis",hidden:!1},{name:"formatter",hidden:!1}],default:{height:90,width:90}},tableColumn:{supportOptions:[{name:"title",hidden:!1},{name:"align",hidden:!1},{name:"halign",hidden:!1},{name:"vAlign",hidden:!1},{name:"tableTextType",hidden:!1},{name:"tableBarcodeMode",hidden:!1},{name:"tableQRCodeLevel",hidden:!1},{name:"tableColumnHeight",hidden:!1},{name:"paddingLeft",hidden:!1},{name:"paddingRight",hidden:!1},{name:"tableSummary",hidden:!1},{name:"formatter2",hidden:!1},{name:"styler2",hidden:!1}],default:{height:90,width:90}}}})()},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("a-space",{staticClass:"logos",staticStyle:{float:"left"}},[i("img",{attrs:{src:n("cf05")}}),i("img",{attrs:{src:n("f407")}}),i("div",[t._v("期待大家的参与😁")])]),i("a-row",{staticClass:"menus",attrs:{type:"flex"}},[i("a-button-group",[t._l(t.demoList,(function(e){return[i("a-button",{key:e.name,attrs:{type:e.name===t.curDemo?"primary":"info"},on:{click:function(n){t.curDemo=e.name}}},[t._v(" "+t._s(e.title)+" ")])]}))],2)],1),i("keep-alive",{attrs:{include:t.keepInclude,max:10}},[i(t.curDemo,{tag:"component"})],1)],1)},r=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-card",[n("div",{staticStyle:{display:"flex","flex-direction":"column"}},[n("a-space",{staticStyle:{"margin-bottom":"10px"}},[n("a-button-group",[t._l(t.paperTypes,(function(e,i){return[n("a-button",{key:i,attrs:{type:t.curPaperType===i?"primary":"info"},on:{click:function(n){return t.setPaper(i,e)}}},[t._v(" "+t._s(i)+" ")])]})),n("a-popover",{attrs:{title:"设置纸张宽高(mm)",trigger:"click"},model:{value:t.paperPopVisible,callback:function(e){t.paperPopVisible=e},expression:"paperPopVisible"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("a-input-group",{staticStyle:{margin:"10px 10px"},attrs:{compact:""}},[n("a-input",{staticStyle:{width:"100px","text-align":"center"},attrs:{type:"number",placeholder:"宽(mm)"},model:{value:t.paperWidth,callback:function(e){t.paperWidth=e},expression:"paperWidth"}}),n("a-input",{staticStyle:{width:"30px","border-left":"0","pointer-events":"none",backgroundColor:"#fff"},attrs:{placeholder:"~",disabled:""}}),n("a-input",{staticStyle:{width:"100px","text-align":"center","border-left":"0"},attrs:{type:"number",placeholder:"高(mm)"},model:{value:t.paperHeight,callback:function(e){t.paperHeight=e},expression:"paperHeight"}})],1),n("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.otherPaper}},[t._v("确定")])],1),n("a-button",{attrs:{type:"other"==t.curPaperType?"primary":""}},[t._v("自定义纸张")])],1)],2),n("a-button",{attrs:{type:"text",icon:"zoom-out"},on:{click:function(e){return t.changeScale(!1)}}}),n("a-input-number",{staticStyle:{width:"70px"},attrs:{value:t.scaleValue,min:t.scaleMin,max:t.scaleMax,step:.1,disabled:"",formatter:function(t){return(100*t).toFixed(0)+"%"},parser:function(t){return t.replace("%","")}}}),n("a-button",{attrs:{type:"text",icon:"zoom-in"},on:{click:function(e){return t.changeScale(!0)}}}),n("a-button",{attrs:{type:"primary",icon:"redo"},on:{click:function(e){return t.rotatePaper()}}},[t._v("旋转")]),n("a-button",{attrs:{type:"primary",icon:"eye"},on:{click:t.preView}},[t._v(" 预览 ")]),n("a-button",{attrs:{type:"primary",icon:"printer"},on:{click:t.print}},[t._v(" 直接打印 ")]),n("a-button",{attrs:{type:"primary"},on:{click:t.onlyPrint}},[t._v(" Api单独打印 ")]),n("a-button",{attrs:{type:"primary"},on:{click:t.onlyPrint2}},[t._v(" Api单独直接打印 ")]),n("a-popconfirm",{attrs:{title:"是否确认清空?",okType:"danger",okText:"确定清空"},on:{confirm:t.clearPaper}},[n("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),n("a-button",{attrs:{type:"danger"}},[t._v(" 清空 "),n("a-icon",{attrs:{type:"close"}})],1)],1)],1),n("a-space",{staticStyle:{"margin-bottom":"10px"}},[n("a-button",{attrs:{type:"primary"},on:{click:t.ippPrintAttr}},[t._v(" ipp获取 打印机 参数情况 ")]),n("a-button",{attrs:{type:"primary"},on:{click:t.ippPrintTest}},[t._v(" ipp打印测试 ")]),n("a-button",{attrs:{type:"primary"},on:{click:t.ippRequestTest}},[t._v(" ipp请求 获取 打印机 参数情况 ")]),n("a-button",{attrs:{type:"primary"},on:{click:t.ippRequestPrint}},[t._v(" ipp请求 打印测试 ")])],1),n("a-space",{staticStyle:{"margin-bottom":"10px"}},[n("a-textarea",{staticStyle:{width:"30vw"},attrs:{placeholder:"复制json模板到此后 点击右侧更新","allow-clear":""},on:{pressEnter:t.updateJson},model:{value:t.jsonIn,callback:function(e){t.jsonIn=e},expression:"jsonIn"}}),n("a-button",{attrs:{type:"primary"},on:{click:t.updateJson}},[t._v(" 更新json模板 ")]),n("a-button",{attrs:{type:"primary"},on:{click:t.exportJson}},[t._v(" 导出json模板到 textArea ")]),n("a-textarea",{staticStyle:{width:"30vw"},attrs:{placeholder:"点击左侧导出json","allow-clear":""},model:{value:t.jsonOut,callback:function(e){t.jsonOut=e},expression:"jsonOut"}})],1),n("a-space",{staticStyle:{"margin-bottom":"10px"}},[n("a-button",{attrs:{type:"primary"},on:{click:t.getSelectEls}},[t._v(" 获取选中元素 ")]),n("a-button",{attrs:{type:"primary"},on:{click:t.updateFontSize}},[t._v(" 选中元素字体12pt ")]),n("a-button",{attrs:{type:"primary"},on:{click:t.updateFontWeight}},[t._v(" 选中元素字体Bolder ")]),n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.setElsSpace(!0)}}},[t._v(" 水平间距10 ")]),n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.setElsSpace(!1)}}},[t._v(" 垂直间距10 ")]),n("a-radio-group",[n("a-radio-button",{attrs:{title:"左对齐"},on:{click:function(e){return t.setElsAlign("left")}}},[n("span",{staticClass:"glyphicon glyphicon-object-align-left"})]),n("a-radio-button",{attrs:{title:"居中"},on:{click:function(e){return t.setElsAlign("vertical")}}},[n("span",{staticClass:"glyphicon glyphicon-object-align-vertical"})]),n("a-radio-button",{attrs:{title:"右对齐"},on:{click:function(e){return t.setElsAlign("right")}}},[n("span",{staticClass:"glyphicon glyphicon-object-align-right"})]),n("a-radio-button",{attrs:{title:"顶部对齐"},on:{click:function(e){return t.setElsAlign("top")}}},[n("span",{staticClass:"glyphicon glyphicon-object-align-top"})]),n("a-radio-button",{attrs:{title:"垂直居中"},on:{click:function(e){return t.setElsAlign("horizontal")}}},[n("span",{staticClass:"glyphicon glyphicon-object-align-horizontal"})]),n("a-radio-button",{attrs:{title:"底部对齐"},on:{click:function(e){return t.setElsAlign("bottom")}}},[n("span",{staticClass:"glyphicon glyphicon-object-align-bottom"})]),n("a-radio-button",{attrs:{title:"横向分散"},on:{click:function(e){return t.setElsAlign("distributeHor")}}},[n("span",{staticClass:"glyphicon glyphicon-resize-horizontal"})]),n("a-radio-button",{attrs:{title:"纵向分散"},on:{click:function(e){return t.setElsAlign("distributeVer")}}},[n("span",{staticClass:"glyphicon glyphicon-resize-vertical"})])],1)],1)],1),n("a-row",{attrs:{gutter:[8,0]}},[n("a-col",{attrs:{span:4}},[n("a-card",{staticStyle:{height:"100vh"}},[n("a-row",[n("a-col",{staticClass:"rect-printElement-types hiprintEpContainer",attrs:{span:24}},[n("a-row",{staticClass:"drag_item_title"},[t._v("拖拽组件列表")]),n("a-row",{staticStyle:{height:"100px"}},[n("a-col",{staticClass:"drag_item_box",attrs:{span:12}},[n("div",[n("a",{staticClass:"ep-draggable-item",attrs:{tid:"defaultModule.text"}},[n("span",{staticClass:"glyphicon glyphicon-text-width",attrs:{"aria-hidden":"true"}}),n("p",{staticClass:"glyphicon-class"},[t._v("文本")])])])]),n("a-col",{staticClass:"drag_item_box",attrs:{span:12,tid:"defaultModule.text"}},[n("div",[n("a",{staticClass:"ep-draggable-item",attrs:{tid:"defaultModule.image"}},[n("span",{staticClass:"glyphicon glyphicon-picture",attrs:{"aria-hidden":"true"}}),n("p",{staticClass:"glyphicon-class"},[t._v("图片")])])])])],1),n("a-row",{staticStyle:{height:"100px"}},[n("a-col",{staticClass:"drag_item_box",attrs:{span:12,tid:"defaultModule.text"}},[n("div",[n("a",{staticClass:"ep-draggable-item",attrs:{tid:"defaultModule.longText"}},[n("span",{staticClass:"glyphicon glyphicon-subscript",attrs:{"aria-hidden":"true"}}),n("p",{staticClass:"glyphicon-class"},[t._v("长文")])])])]),n("a-col",{staticClass:"drag_item_box",attrs:{span:12,tid:"defaultModule.text"}},[n("div",[n("a",{staticClass:"ep-draggable-item",attrs:{tid:"defaultModule.tableCustom"}},[n("span",{staticClass:"glyphicon glyphicon-th",attrs:{"aria-hidden":"true"}}),n("p",{staticClass:"glyphicon-class"},[t._v("表格")])])])])],1),n("a-row",{staticStyle:{height:"100px"}},[n("a-col",{staticClass:"drag_item_box",attrs:{span:12,tid:"defaultModule.text"}},[n("div",[n("a",{staticClass:"ep-draggable-item",attrs:{tid:"defaultModule.html"}},[n("span",{staticClass:"glyphicon glyphicon-header",attrs:{"aria-hidden":"true"}}),n("p",{staticClass:"glyphicon-class"},[t._v("html")])])])]),n("a-col",{staticClass:"drag_item_box",attrs:{span:12,tid:"defaultModule.text"}},[n("div",[n("a",{staticClass:"ep-draggable-item",attrs:{tid:"defaultModule.customText"}},[n("span",{staticClass:"glyphicon glyphicon-text-width",attrs:{"aria-hidden":"true"}}),n("p",{staticClass:"glyphicon-class"},[t._v("自定义")])])])])],1),n("a-row",{staticClass:"drag_item_title"},[t._v("辅助")]),n("a-row",{staticStyle:{height:"100px"}},[n("a-col",{staticClass:"drag_item_box",attrs:{span:12,tid:"defaultModule.text"}},[n("div",[n("a",{staticClass:"ep-draggable-item",attrs:{tid:"defaultModule.hline"}},[n("span",{staticClass:"glyphicon glyphicon-resize-horizontal",attrs:{"aria-hidden":"true"}}),n("p",{staticClass:"glyphicon-class"},[t._v("横线")])])])]),n("a-col",{staticClass:"drag_item_box",attrs:{span:12,tid:"defaultModule.text"}},[n("div",[n("a",{staticClass:"ep-draggable-item",attrs:{tid:"defaultModule.vline"}},[n("span",{staticClass:"glyphicon glyphicon-resize-vertical",attrs:{"aria-hidden":"true"}}),n("p",{staticClass:"glyphicon-class"},[t._v("竖线")])])])])],1),n("a-row",{staticStyle:{height:"100px"}},[n("a-col",{staticClass:"drag_item_box",attrs:{span:12,tid:"defaultModule.text"}},[n("div",[n("a",{staticClass:"ep-draggable-item",attrs:{tid:"defaultModule.rect"}},[n("span",{staticClass:"glyphicon glyphicon-unchecked",attrs:{"aria-hidden":"true"}}),n("p",{staticClass:"glyphicon-class"},[t._v("矩形")])])])]),n("a-col",{staticClass:"drag_item_box",attrs:{span:12,tid:"defaultModule.text"}},[n("div",[n("a",{staticClass:"ep-draggable-item",attrs:{tid:"defaultModule.oval"}},[n("span",{staticClass:"glyphicon glyphicon-record",attrs:{"aria-hidden":"true"}}),n("p",{staticClass:"glyphicon-class"},[t._v("椭圆")])])])])],1)],1)],1)],1)],1),n("a-col",{attrs:{span:15}},[n("a-card",{staticClass:"card-design"},[n("div",{staticClass:"hiprint-printTemplate",attrs:{id:"hiprint-printTemplate"}})])],1),n("a-col",{staticClass:"params_setting_container",attrs:{span:5}},[n("a-card",[n("a-row",{staticClass:"hinnn-layout-sider"},[n("div",{attrs:{id:"PrintElementOptionSetting"}})])],1)],1)],1),n("print-preview",{ref:"preView"})],1)},s=[],p=n("8bce"),l=p["a"],d=(n("d26e"),n("2877")),h=Object(d["a"])(l,a,s,!1,null,"999b002a",null),u=h.exports,c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-card",[n("a-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:[8,0]}},[n("a-col",{attrs:{span:4}},[n("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",defaultValue:0,"option-label-prop":"label"},on:{change:t.changeMode},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},t._l(t.modeList,(function(e,i){return n("a-select-option",{key:i,attrs:{label:e.name,value:i}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),n("a-col",{attrs:{span:20}},[n("a-space",[n("a-button-group",[t._l(t.paperTypes,(function(e,i){return[n("a-button",{key:i,attrs:{type:t.curPaperType===i?"primary":"info"},on:{click:function(n){return t.setPaper(i,e)}}},[t._v(" "+t._s(i)+" ")])]})),n("a-popover",{attrs:{title:"设置纸张宽高(mm)",trigger:"click"},model:{value:t.paperPopVisible,callback:function(e){t.paperPopVisible=e},expression:"paperPopVisible"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("a-input-group",{staticStyle:{margin:"10px 10px"},attrs:{compact:""}},[n("a-input",{staticStyle:{width:"100px","text-align":"center"},attrs:{type:"number",placeholder:"宽(mm)"},model:{value:t.paperWidth,callback:function(e){t.paperWidth=e},expression:"paperWidth"}}),n("a-input",{staticStyle:{width:"30px","border-left":"0","pointer-events":"none",backgroundColor:"#fff"},attrs:{placeholder:"~",disabled:""}}),n("a-input",{staticStyle:{width:"100px","text-align":"center","border-left":"0"},attrs:{type:"number",placeholder:"高(mm)"},model:{value:t.paperHeight,callback:function(e){t.paperHeight=e},expression:"paperHeight"}})],1),n("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.otherPaper}},[t._v("确定")])],1),n("a-button",{attrs:{type:"other"==t.curPaperType?"primary":""}},[t._v("自定义纸张")])],1)],2),n("a-button",{attrs:{type:"text",icon:"zoom-out"},on:{click:function(e){return t.changeScale(!1)}}}),n("a-input-number",{staticStyle:{width:"70px"},attrs:{value:t.scaleValue,min:t.scaleMin,max:t.scaleMax,step:.1,disabled:"",formatter:function(t){return(100*t).toFixed(0)+"%"},parser:function(t){return t.replace("%","")}}}),n("a-button",{attrs:{type:"text",icon:"zoom-in"},on:{click:function(e){return t.changeScale(!0)}}}),n("a-button-group",[n("a-button",{attrs:{type:"primary",icon:"eye"},on:{click:t.preView}},[t._v(" 预览 ")]),n("a-button",{attrs:{type:"primary"},on:{click:t.print}},[t._v(" 直接打印 "),n("a-icon",{attrs:{type:"printer"}})],1)],1),n("a-button-group",[n("a-button",{attrs:{type:"primary",icon:"save"},on:{click:t.save}},[t._v(" 保存 ")]),n("a-popconfirm",{attrs:{title:"是否确认清空?",okType:"danger",okText:"确定清空"},on:{confirm:t.clearPaper}},[n("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),n("a-button",{attrs:{type:"danger"}},[t._v(" 清空 "),n("a-icon",{attrs:{type:"close"}})],1)],1)],1)],1)],1)],1),n("a-row",{attrs:{gutter:[8,0]}},[n("a-col",{attrs:{span:4}},[n("a-card",{staticStyle:{height:"100vh"}},[n("a-row",[n("a-col",{staticClass:"rect-printElement-types hiprintEpContainer",attrs:{span:24}})],1)],1)],1),n("a-col",{attrs:{span:14}},[n("a-card",{staticClass:"card-design"},[n("div",{staticClass:"hiprint-printTemplate",attrs:{id:"hiprint-printTemplate"}})])],1),n("a-col",{staticClass:"params_setting_container",attrs:{span:6}},[n("a-card",[n("a-row",{staticClass:"hinnn-layout-sider"},[n("div",{attrs:{id:"PrintElementOptionSetting"}})])],1)],1)],1),n("print-preview",{ref:"preView"})],1)},f=[],g=n("3355"),m=g["a"],v=(n("8eb5"),Object(d["a"])(m,c,f,!1,null,"405eccf6",null)),y=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-card",[n("a-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:[8,0]}},[n("a-col",{attrs:{span:24}},[n("a-space",[n("a-button-group",[t._l(t.paperTypes,(function(e,i){return[n("a-button",{key:i,attrs:{type:t.curPaperType===i?"primary":"info"},on:{click:function(n){return t.setPaper(i,e)}}},[t._v(" "+t._s(i)+" ")])]})),n("a-popover",{attrs:{title:"设置纸张宽高(mm)",trigger:"click"},model:{value:t.paperPopVisible,callback:function(e){t.paperPopVisible=e},expression:"paperPopVisible"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("a-input-group",{staticStyle:{margin:"10px 10px"},attrs:{compact:""}},[n("a-input",{staticStyle:{width:"100px","text-align":"center"},attrs:{type:"number",placeholder:"宽(mm)"},model:{value:t.paperWidth,callback:function(e){t.paperWidth=e},expression:"paperWidth"}}),n("a-input",{staticStyle:{width:"30px","border-left":"0","pointer-events":"none",backgroundColor:"#fff"},attrs:{placeholder:"~",disabled:""}}),n("a-input",{staticStyle:{width:"100px","text-align":"center","border-left":"0"},attrs:{type:"number",placeholder:"高(mm)"},model:{value:t.paperHeight,callback:function(e){t.paperHeight=e},expression:"paperHeight"}})],1),n("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.otherPaper}},[t._v("确定")])],1),n("a-button",{attrs:{type:"other"==t.curPaperType?"primary":""}},[t._v("自定义纸张")])],1)],2),t._v(" 打印数量： "),n("a-slider",{staticStyle:{width:"200px"},attrs:{min:1,max:1e4},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}}),n("a-input-number",{staticStyle:{"margin-left":"16px"},attrs:{min:1,max:1e4},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}}),n("a-button-group",[n("a-button",{attrs:{type:"primary",icon:"eye"},on:{click:t.preView}},[t._v(" 预览 ")]),n("a-button",{attrs:{type:"primary"},on:{click:t.print}},[t._v(" 直接打印 "),n("a-icon",{attrs:{type:"printer"}})],1)],1),n("a-button-group",[n("a-button",{attrs:{type:"primary",icon:"save"},on:{click:t.save}},[t._v(" 保存 ")]),n("a-popconfirm",{attrs:{title:"是否确认清空?",okType:"danger",okText:"确定清空"},on:{confirm:t.clearPaper}},[n("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),n("a-button",{attrs:{type:"danger"}},[t._v(" 清空 "),n("a-icon",{attrs:{type:"close"}})],1)],1)],1)],1)],1)],1),n("a-row",{attrs:{gutter:[8,0]}},[n("a-col",{attrs:{span:4}},[n("a-card",{staticStyle:{height:"100vh"}},[n("a-row",[n("a-col",{staticClass:"rect-printElement-types hiprintEpContainer",attrs:{span:24}})],1)],1)],1),n("a-col",{attrs:{span:14}},[n("a-card",{staticClass:"card-design"},[n("div",{staticClass:"hiprint-printTemplate",attrs:{id:"hiprint-printTemplate"}})])],1),n("a-col",{staticClass:"params_setting_container",attrs:{span:6}},[n("a-card",[n("a-row",{staticClass:"hinnn-layout-sider"},[n("div",{attrs:{id:"PrintElementOptionSetting"}})])],1)],1)],1),n("print-preview",{ref:"preView"})],1)},_=[],E=n("62be"),T=E["a"],P=(n("8086"),Object(d["a"])(T,b,_,!1,null,"47725567",null)),w=P.exports,x={name:"App",components:{printDesign:u,printCustom:y,printTasks:w},data(){return{curDemo:"printDesign",keepInclude:"printDesign,printCustom,printTasks",demoList:[{name:"printDesign",title:"默认拖拽设计"},{name:"printCustom",title:"自定义设计"},{name:"printTasks",title:"队列/批量打印"}]}}},C=x,M=(n("7c55"),Object(d["a"])(C,o,r,!1,null,null,null)),O=M.exports,D=n("f23d"),S=(n("202f"),n("b635")),A=n("c16e"),I=n.n(A);i["a"].use(D["a"]),i["a"].use(S["b"]);let L={namespace:"hiPrint-",name:"ls",storage:"local"};i["a"].use(I.a,L),i["a"].config.productionTip=!1,new i["a"]({render:t=>t(O)}).$mount("#app")},"62be":function(t,e,n){"use strict";(function(t){var i=n("8c16"),o=n("b635"),r=n("9a4b"),a=n("6465"),s=n("3567"),p=n("e375");let l;e["a"]={name:"printCustom",components:{printPreview:i["a"]},data(){return{deactivated:!1,count:1,curPaper:{type:"other",width:80,height:60},paperTypes:{A3:{width:420,height:296.6},A4:{width:210,height:296.6},A5:{width:210,height:147.6},B3:{width:500,height:352.6},B4:{width:250,height:352.6},B5:{width:250,height:175.6}},paperPopVisible:!1,paperWidth:"80",paperHeight:"60"}},computed:{curPaperType(){let t="other",e=this.paperTypes;for(const n in e){let i=e[n],{width:o,height:r}=this.curPaper;i.width===o&&i.height===r&&(t=n)}return t}},mounted(){this.init(),this.otherPaper()},activated(){this.deactivated&&(this.init(),this.deactivated=!1)},deactivated(){this.deactivated=!0},methods:{init(){o["c"].init({providers:[s["a"]]}),t(".hiprintEpContainer").empty(),o["c"].PrintElementTypeManager.build(".hiprintEpContainer","taskProviderModule"),t("#hiprint-printTemplate").empty();let e=this.$ls.get("KEY_TEMPLATE_TASKS",a["a"]);l=new o["c"].PrintTemplate({template:e,settingContainer:"#PrintElementOptionSetting",paginationContainer:".hiprint-printPagination"}),l.design("#hiprint-printTemplate")},setPaper(t,e){try{Object.keys(this.paperTypes).includes(t)?(this.curPaper={type:t,width:e.width,height:e.height},l.setPaper(e.width,e.height)):(this.curPaper={type:"other",width:e.width,height:e.height},l.setPaper(e.width,e.height))}catch(n){this.$message.error("操作失败: "+n)}},otherPaper(){let t={};t.width=this.paperWidth,t.height=this.paperHeight,this.paperPopVisible=!1,this.setPaper("other",t)},preView(){let{width:t}=this.curPaper;this.$refs.preView.show(l,p["a"],t)},print(){if(window.hiwebSocket.opened){const t=l.getPrinterList();return console.log(t),void this.tasksPrint()}this.$message.error("客户端未连接,无法直接打印")},tasksPrint(){const t=new r["a"];t.setConcurrency(1);const e=[];let n=this;const i="open"+Date.now();for(let o=1;o<=this.count;o++){let r="task"+o;e.push(e=>{let a={count:o.toString()};n.realPrint(t,e,r,o,a,i)})}t.addMultiple(e),this.openNotification(t,i)},realPrint(t,e,n,i,r,s){let p=this;p.$notification.info({key:n,placement:"topRight",duration:null,message:`正在准备打印第 ${i} 张`,description:"队列运行中..."});let l=p.$ls.get("KEY_TEMPLATE_TASKS",a["a"]),d=new o["c"].PrintTemplate({template:l});d.print2(r,{printer:"",title:n}),d.on("printSuccess",(function(){let i=t.tasks.list.length>1?"准备打印下一张":"已完成打印";p.$notification.success({key:n,placement:"topRight",message:n+" 打印成功",description:i}),e(),t.isBusy()||p.$notification.close(s)})),d.on("printError",(function(){p.$notification.close(n),e(),p.$message.error("打印失败，已加入重试队列中"),t.add(p.realPrint(t,e,n,i,r))}))},openNotification(t,e){let n=this;n.$notification.open({key:e,message:"队列运行中...",duration:0,placement:"topLeft",description:"点击关闭所有任务",btn:i=>i("a-button",{props:{type:"danger",size:"small"},on:{click:()=>{n.$notification.close(e),t.removeAll(),n.$message.info("已移除所有任务")}}},"关闭任务")})},save(){let t=l.getJson(),e=this.$ls.get("KEY_TEMPLATE_TASKS",a["a"]);console.log(t),console.log(JSON.stringify(t)),this.$ls.set("KEY_TEMPLATE_TASKS",e),this.$message.info("保存成功")},clearPaper(){try{l.clear()}catch(t){this.$message.error("操作失败: "+t)}}}}}).call(this,n("1157"))},6465:function(t,e,n){"use strict";e["a"]={panels:[{index:0,height:60,width:80,paperHeader:-15,paperFooter:170.07874015748033,printElements:[{options:{left:28.5,top:12,height:17,width:120,testData:"单据表头",fontSize:16.5,fontWeight:"700",textAlign:"center",hideTitle:!0,title:"单据表头"},printElementType:{title:"单据表头",type:"text"}},{options:{left:28.5,top:34.5,height:32,width:120,testData:"XS888888888",fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"qrcode",title:"二维码"},printElementType:{title:"二维码",type:"text"}},{options:{left:157.5,top:15,height:9.75,width:57,title:"第",field:"count",testData:"1"},printElementType:{title:"文本",type:"text"}}],paperNumberLeft:196,paperNumberTop:148,paperNumberDisabled:!0}]}},7670:function(t,e,n){"use strict";(function(t){e["a"]={name:"printPreview",props:{},data(){return{visible:!1,spinning:!0,waitShowPrinter:!1,width:0,hiprintTemplate:{},printData:{}}},computed:{},watch:{},created(){},mounted(){},methods:{hideModal(){this.visible=!1},show(e,n,i="210"){this.visible=!0,this.spinning=!0,this.width=i,this.hiprintTemplate=e,this.printData=n,setTimeout(()=>{t("#preview_content_custom").html(e.getHtml(n)),this.spinning=!1},500)},print(){this.waitShowPrinter=!0,this.hiprintTemplate.print(this.printData,{},{callback:()=>{this.waitShowPrinter=!1}})},toPdf(){this.hiprintTemplate.toPdf(this.printData,"打印预览pdf")}}}}).call(this,n("1157"))},7814:function(t,e,n){},"7c55":function(t,e,n){"use strict";n("2395")},8086:function(t,e,n){"use strict";n("097d")},8616:function(t,e,n){"use strict";e["a"]={panels:[{index:0,height:297,width:210,paperHeader:49.5,paperFooter:780,printElements:[{options:{left:175.5,top:10.5,height:27,width:259,title:"HiPrint自定义模块打印插件",fontSize:19,fontWeight:"600",textAlign:"center",lineHeight:26,coordinateSync:!0,widthHeightSync:!0,draggable:!1},printElementType:{title:"自定义文本",type:"text"}},{options:{left:60,top:27,height:13,width:52,title:"页眉线",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:25.5,top:57,height:705,width:9,fixed:!0,borderStyle:"dotted"},printElementType:{type:"vline"}},{options:{left:60,top:61.5,height:48,width:87,src:"",fit:"contain"},printElementType:{title:"图片",type:"image"}},{options:{left:153,top:64.5,height:39,width:276,title:"二维码以及条形码均采用svg格式打印。不同打印机打印不会造成失真。图片打印：不同DPI打印可能会导致失真，",fontFamily:"微软雅黑",textAlign:"center",lineHeight:18},printElementType:{title:"自定义文本",type:"text"}},{options:{left:457.5,top:79.5,height:13,width:120,title:"姓名",field:"name",testData:"古力娜扎",color:"#f00808",textDecoration:"underline",textAlign:"center",fields:[{text:"id",field:"id"},{text:"姓名",field:"name"},{text:"性别",field:"gender"},{text:"数量",field:"count"}]},printElementType:{title:"文本",type:"text"}},{options:{left:483,top:124.5,height:43,width:51,title:"123456789",textType:"qrcode"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:285,top:130.5,height:34,width:175,title:"123456789",fontFamily:"微软雅黑",textAlign:"center",textType:"barcode"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:60,top:132,height:19,width:213,title:"所有打印元素都可已拖拽的方式来改变元素大小",fontFamily:"微软雅黑",textAlign:"center",lineHeight:18},printElementType:{title:"自定义文本",type:"text"}},{options:{left:153,top:189,height:13,width:238,title:"单击元素，右侧可自定义元素属性",textAlign:"center",fontFamily:"微软雅黑"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:60,top:190.5,height:13,width:51,title:"横线",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:415.5,top:190.5,height:13,width:164,title:"可以配置各属性的默认值",textAlign:"center",fontFamily:"微软雅黑"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:60,top:214.5,height:10,width:475.5},printElementType:{title:"横线",type:"hline"}},{options:{left:235.5,top:220.5,height:32,width:342,title:"自定义表格：用户可左键选中表头，右键查看可操作项，操作类似Excel，双击表头单元格可进行编辑。内容：title#field",fontFamily:"微软雅黑",textAlign:"center",lineHeight:15},printElementType:{title:"自定义文本",type:"text"}},{options:{left:156,top:265.5,height:13,width:94,title:"表头列大小可拖动",fontFamily:"微软雅黑",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:60,top:265.5,height:13,width:90,title:"红色区域可拖动",fontFamily:"微软雅黑",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:60,top:285,height:56,width:511.5,field:"table",tableFooterRepeat:"",fields:[{text:"id",field:"id"},{text:"姓名",field:"name"},{text:"性别",field:"gender"},{text:"数量",field:"count"}],columns:[[{width:85.25,colspan:1,rowspan:1,checked:!0},{title:"性别",field:"gender",width:85.25,colspan:1,rowspan:1,checked:!1},{title:"姓名",field:"name",width:85.25,align:"center",colspan:1,rowspan:1,checked:!0,tableSummary:"count"},{title:"数量",field:"count",width:85.25,align:"center",colspan:1,rowspan:1,checked:!0,tableSummary:"sum"},{width:85.25,colspan:1,rowspan:1,checked:!0},{width:85.25,colspan:1,rowspan:1,checked:!0}]]},printElementType:{title:"表格",type:"table",editable:!0,columnDisplayEditable:!0,columnDisplayIndexEditable:!0,columnTitleEditable:!0,columnResizable:!0,columnAlignEditable:!0,isEnableEditField:!0,isEnableContextMenu:!0,isEnableInsertRow:!0,isEnableDeleteRow:!0,isEnableInsertColumn:!0,isEnableDeleteColumn:!0,isEnableMergeCell:!0}},{options:{left:21,top:346.5,height:61.5,width:15,title:"装订线",lineHeight:18,fixed:!0,contentPaddingTop:3.75,backgroundColor:"#ffffff"},printElementType:{type:"text"}},{options:{left:225,top:355,height:13,width:346.5,title:"自定义模块：主要为开发人员设计，能够快速，简单，实现自己功能",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:60,top:370.5,height:18,width:79,title:"配置项表格",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:225,top:385.5,height:38,width:346.5,title:"配置模块：主要为客户使用，开发人员可以配置属性，字段，标题等，客户直接使用，配置模块请参考实例2",fontFamily:"微软雅黑",lineHeight:15,textAlign:"center",color:"#d93838"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:60,top:487.5,height:13,width:123,title:"长文本会自动分页",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:60,top:507,height:40,width:511.5,field:"longText"},printElementType:{title:"长文",type:"longText"}},{options:{left:475.5,top:565.5,height:100,width:100},printElementType:{title:"矩形",type:"rect"}},{options:{left:174,top:568.5,height:13,width:90,title:"竖线",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:60,top:574.5,height:100,width:10},printElementType:{title:"竖线",type:"vline"}},{options:{left:210,top:604.5,height:13,width:120,title:"横线",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:130.5,top:625.5,height:10,width:277},printElementType:{title:"横线",type:"hline"}},{options:{left:364.5,top:649.5,height:13,width:101,title:"矩形",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:525,top:784.5,height:13,width:63,title:"页尾线",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:12,top:786,height:49,width:49},printElementType:{title:"html",type:"html"}},{options:{left:75,top:790.5,height:13,width:137,title:"红色原型是自动定义的Html",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}},{options:{left:334.5,top:810,height:13,width:205,title:"页眉线已上。页尾下以下每页都会重复打印",textAlign:"center"},printElementType:{title:"自定义文本",type:"text"}}],paperNumberLeft:565.5,paperNumberTop:819}]}},"898a":function(t,e,n){},"8bce":function(t,e,n){"use strict";(function(t){var i=n("b635"),o=n("8616"),r=n("1264"),a=n("beb3");let s;e["a"]={name:"printDesign",components:{printPreview:a["a"]},data(){return{deactivated:!1,curPaper:{type:"A4",width:210,height:296.6},paperTypes:{A3:{width:420,height:296.6},A4:{width:210,height:296.6},A5:{width:210,height:147.6},B3:{width:500,height:352.6},B4:{width:250,height:352.6},B5:{width:250,height:175.6}},paperPopVisible:!1,paperWidth:"220",paperHeight:"80",scaleValue:1,scaleMax:5,scaleMin:.5,jsonIn:"",jsonOut:""}},computed:{curPaperType(){let t="other",e=this.paperTypes;for(const n in e){let i=e[n],{width:o,height:r}=this.curPaper;i.width===o&&i.height===r&&(t=n)}return t}},activated(){this.deactivated&&(this.init(),this.deactivated=!1)},deactivated(){this.deactivated=!0},mounted(){this.init()},methods:{init(){i["c"].init({providers:[new i["a"]]}),i["c"].setConfig(),i["c"].setConfig({optionItems:[function(){function e(){this.name="scale"}return e.prototype.css=function(t,e){return t&&t.length&&e?t.css("transform","scale("+e+")"):null},e.prototype.createTarget=function(e,n,i){return this.target=t('<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        缩放\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="number" class="auto-submit"/>\n        </div>\n    </div>'),this.target},e.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseFloat(t.toString())},e.prototype.setValue=function(t){this.target.find("input").val(t)},e.prototype.destroy=function(){this.target.remove()},e}(),function(){function e(){this.name="zIndex"}return e.prototype.css=function(t,e){return t&&t.length&&e?t.css("z-index",e):null},e.prototype.createTarget=function(){return this.target=t('<div class="hiprint-option-item">\n        <div class="hiprint-option-item-label">\n        元素层级2\n        </div>\n        <div class="hiprint-option-item-field">\n        <input type="number" class="auto-submit"/>\n        </div>\n    </div>'),this.target},e.prototype.getValue=function(){var t=this.target.find("input").val();if(t)return parseInt(t.toString())},e.prototype.setValue=function(t){this.target.find("input").val(t)},e.prototype.destroy=function(){this.target.remove()},e}()],movingDistance:2.5,text:{tabs:[{name:"样式",options:[{name:"scale",after:"transform",hidden:!1}]}],supportOptions:[{name:"styler",hidden:!0},{name:"scale",after:"transform",hidden:!1},{name:"formatter",hidden:!0}]},image:{tabs:[{replace:!0,name:"基本",options:[{name:"field",hidden:!1},{name:"src",hidden:!1},{name:"fit",hidden:!1}]}]}}),i["c"].PrintElementTypeManager.buildByHtml(t(".ep-draggable-item")),t("#hiprint-printTemplate").empty();s=new i["c"].PrintTemplate({template:o["a"],onImageChooseClick:t=>{setTimeout(()=>{t.refresh("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtAAAAIIAQMAAAB99EudAAAABlBMVEUmf8vG2O41LStnAAABD0lEQVR42u3XQQqCQBSAYcWFS4/QUTpaHa2jdISWLUJjjMpclJoPGvq+1WsYfiJCZ4oCAAAAAAAAAAAAAAAAAHin6pL9c6H/fOzHbRrP0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0u/SY9LS0tLS0tLS0tLS0n+edm+UlpaWlpaWlpaWlpaW/tl0Ndyzbno7/+tPTJdd1wal69dNa6abx+Lq6TSeYtK7BX/Diek0XULSZZrakPRtV0i6Hu/KIt30q4fM0pvBqvR9mvsQkZaW9gyJT+f5lsnzjR54xAk8mAUeJyMPwYFH98ALx5Jr0kRLLndT7b64UX9QR/0eAAAAAAAAAAAAAAAAAAD/4gpryzr/bja4QgAAAABJRU5ErkJggg==")},3e3)},fontList:[{title:"微软雅黑",value:"Microsoft YaHei"},{title:"黑体",value:"STHeitiSC-Light"},{title:"思源黑体",value:"SourceHanSansCN-Normal"},{title:"王羲之书法体",value:"王羲之书法体"},{title:"宋体",value:"SimSun"},{title:"华为楷体",value:"STKaiti"},{title:"cursive",value:"cursive"}],dataMode:1,history:!0,onDataChanged:(t,e)=>{console.log(t),console.log(e)},onUpdateError:t=>{console.log(t)},settingContainer:"#PrintElementOptionSetting",paginationContainer:".hiprint-printPagination"}),s.design("#hiprint-printTemplate"),console.log(s),this.scaleValue=s.editingPanel.scale||1},setPaper(t,e){try{Object.keys(this.paperTypes).includes(t)?(this.curPaper={type:t,width:e.width,height:e.height},s.setPaper(e.width,e.height)):(this.curPaper={type:"other",width:e.width,height:e.height},s.setPaper(e.width,e.height))}catch(n){this.$message.error("操作失败: "+n)}},otherPaper(){let t={};t.width=this.paperWidth,t.height=this.paperHeight,this.paperPopVisible=!1,this.setPaper("other",t)},changeScale(t){let e=this.scaleValue;t?(e+=.1,e>this.scaleMax&&(e=5)):(e-=.1,e<this.scaleMin&&(e=.5)),s&&(s.zoom(e),this.scaleValue=e)},rotatePaper(){s&&s.rotatePaper()},preView(){i["c"].updateElementType("defaultModule.text",t=>(t.title="这是更新后的元素",t)),i["c"].refreshPrinterList(t=>{console.log("refreshPrinterList"),console.log(t)}),i["c"].getAddress("ip",t=>{console.log("ip"),console.log(t)}),i["c"].getAddress("ipv6",t=>{console.log("ipv6"),console.log(t)}),i["c"].getAddress("mac",t=>{console.log("mac"),console.log(t)}),i["c"].getAddress("dns",t=>{console.log("dns"),console.log(t)}),i["c"].getAddress("all",t=>{console.log("all"),console.log(t)}),i["c"].getAddress("interface",t=>{console.log("interface"),console.log(t)},"IPv4","eth1"),this.$refs.preView.show(s,r["a"])},onlyPrint(){let t=this.$print(void 0,o["a"],r["a"],{},{styleHandler:()=>{let t='<link href="http://hiprint.io/Content/hiprint/css/print-lock.css" media="print" rel="stylesheet">';return t}});console.log(t)},onlyPrint2(){let t=this;if(window.hiwebSocket.opened){let e=this.$print2(void 0,o["a"],r["a"],{printer:"",title:"Api单独打印",styleHandler:()=>{let t="<style>.hiprint-printElement-text{color:red !important;}</style>";return t}}),n="Api单独直接打印";e.on("printSuccess",(function(){t.$notification.success({key:n,placement:"topRight",message:n+" 打印成功",description:"Api单独直接打印回调"})}))}else this.$message.error("客户端未连接,无法直接打印")},print(){if(window.hiwebSocket.opened){const t=s.getPrinterList();return console.log(t),void s.print2(r["a"],{printer:"",title:"hiprint测试打印"})}this.$message.error("客户端未连接,无法直接打印")},clearPaper(){try{s.clear()}catch(t){this.$message.error("操作失败: "+t)}},ippPrintAttr(){const t=s.getPrinterList();if(console.log(t),!t.length)return;let e=t[0];console.log(e);let n=e.options["printer-uri-supported"];i["c"].ippPrint({url:n,opt:{},action:"Get-Printer-Attributes",message:null},t=>{console.log(t)},t=>{console.log(t)})},ippPrintTest(){const t=s.getPrinterList();if(console.log(t),!t.length)return;let e=t[0];console.log(e);let n=e.options["printer-uri-supported"];i["c"].ippPrint({url:n,opt:{},action:"Print-Job",message:{"operation-attributes-tag":{"requesting-user-name":"hiPrint","job-name":"ipp Test Job","document-format":"text/plain"},data:"test test test test test test test",encoding:"utf-8"}},t=>{console.log(t)},t=>{console.log(t)})},ippRequestTest(){const t=s.getPrinterList();if(console.log(t),!t.length)return;let e=t[0];console.log(e);let n=e.options["printer-uri-supported"];i["c"].ippRequest({url:n,data:{operation:"Get-Printer-Attributes","operation-attributes-tag":{"attributes-charset":"utf-8","attributes-natural-language":"zh-cn","printer-uri":n}}},t=>{console.log(t)})},ippRequestPrint(){const t=s.getPrinterList();if(console.log(t),!t.length)return;let e=t[0];console.log(e);let n=e.options["printer-uri-supported"],o="ippRequestPrint ippRequestPrint ippRequestPrint",r=new Uint8Array(o.length);for(var a=0;a<o.length;a++)r[a]=o.charCodeAt(a);let p=r.buffer;i["c"].ippRequest({url:n,data:{operation:"Print-Job","operation-attributes-tag":{"attributes-charset":"utf-8","attributes-natural-language":"zh-cn","printer-uri":n,"requesting-user-name":"hiPrint","job-name":"ipp Request Job","document-format":"text/plain"},data:p}},t=>{console.log(t)})},updateJson(){if(s)try{s.update(JSON.parse(this.jsonIn))}catch(t){this.$message.error("更新失败: "+t)}},exportJson(){s&&(this.jsonOut=JSON.stringify(s.getJson()||{}))},setElsAlign(t){s.setElsAlign(t)},setElsSpace(t){s.setElsSpace(10,t)},getSelectEls(){let t=s.getSelectEls();console.log(t)},updateFontSize(){s.updateOption("fontSize",12)},updateFontWeight(){s.updateOption("fontWeight","bolder")}}}}).call(this,n("1157"))},"8c16":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-modal",{attrs:{visible:t.visible,maskClosable:!1,width:t.width+"mm"},on:{cancel:t.hideModal}},[n("a-spin",{staticStyle:{"min-height":"100px"},attrs:{spinning:t.spinning}},[n("div",{attrs:{id:"preview_content_tasks"}})]),n("template",{slot:"title"},[n("a-space",[n("div",{staticStyle:{"margin-right":"20px"}},[t._v("打印预览")]),n("a-button",{attrs:{loading:t.waitShowPrinter,type:"primary",icon:"printer"},on:{click:function(e){return e.stopPropagation(),t.print.apply(null,arguments)}}},[t._v("打印")]),n("a-button",{attrs:{type:"primary",icon:"printer"},on:{click:function(e){return e.stopPropagation(),t.toPdf.apply(null,arguments)}}},[t._v("pdf")])],1)],1),n("template",{slot:"footer"},[n("a-button",{key:"close",attrs:{type:"info"},on:{click:t.hideModal}},[t._v(" 关闭 ")])],1)],2)},o=[],r=n("4e8f"),a=r["a"],s=(n("f9a5"),n("2877")),p=Object(s["a"])(a,i,o,!1,null,"40746034",null);e["a"]=p.exports},"8eb5":function(t,e,n){"use strict";n("1032")},a41b:function(t,e,n){t.exports=n.p+"static/img/v_img.d7cff5bd.svg"},b635:function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var i=n("4474");n.d(e,"c",(function(){return i["b"]})),n.d(e,"a",(function(){return i["a"]}));n("f893"),n("f45d");n("568c");let o=function(){console.log("disAutoConnect"),window.autoConnect=!1,window.hiwebSocket&&window.hiwebSocket.hasIo()&&window.hiwebSocket.stop()},r={disAutoConnect:o,install:function(t,e="$hiPrint",n=!0){n||o();let r=t.prototype||t.config.globalProperties;r[e]=i["b"],r.$print=function(t=i["a"],e,...n){i["b"].init({providers:[new t]});var o=new i["b"].PrintTemplate({template:e});return o.print(...n),o},r.$print2=function(t=i["a"],e,...n){i["b"].init({providers:[new t]});var o=new i["b"].PrintTemplate({template:e});return o.print2(...n),o}}}},b7f5:function(t,e,n){"use strict";n("898a")},beb3:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-modal",{attrs:{visible:t.visible,maskClosable:!1,width:t.width+"mm"},on:{cancel:t.hideModal}},[n("a-spin",{staticStyle:{"min-height":"100px"},attrs:{spinning:t.spinning}},[n("div",{attrs:{id:"preview_content_design"}})]),n("template",{slot:"title"},[n("a-space",[n("div",{staticStyle:{"margin-right":"20px"}},[t._v("打印预览")]),n("a-button",{attrs:{loading:t.waitShowPrinter,type:"primary",icon:"printer"},on:{click:function(e){return e.stopPropagation(),t.print.apply(null,arguments)}}},[t._v("打印")]),n("a-button",{attrs:{type:"primary",icon:"printer"},on:{click:function(e){return e.stopPropagation(),t.toPdf.apply(null,arguments)}}},[t._v("pdf")])],1)],1),n("template",{slot:"footer"},[n("a-button",{key:"close",attrs:{type:"info"},on:{click:t.hideModal}},[t._v(" 关闭 ")])],1)],2)},o=[],r=n("2ef0"),a=r["a"],s=(n("b7f5"),n("2877")),p=Object(s["a"])(a,i,o,!1,null,"17e08236",null);e["a"]=p.exports},c5d8:function(t,e,n){"use strict";e["a"]=function(t){return function(e){var n=function(e){e.removePrintElementTypes("defaultModule"),e.addPrintElementTypes("defaultModule",[new t.PrintElementTypeGroup("常规",[{tid:"defaultModule.text",title:"文本",data:"",type:"text"},{tid:"defaultModule.image",title:"图片",data:"",type:"image"},{tid:"defaultModule.longText",title:"长文",data:"155123456789",type:"longText"},{tid:"defaultModule.table",field:"table",title:"表格",type:"table",groupFields:["name"],groupFooterFormatter:function(t,e){return"这里自定义统计脚信息"},columns:[[{title:"行号",fixed:!0,rowspan:2,field:"id",width:70},{title:"人员信息",colspan:2},{title:"销售统计",colspan:2}],[{title:"姓名",align:"left",field:"name",width:100},{title:"性别",field:"gender",width:100},{title:"销售数量",field:"count",width:100},{title:"销售金额",field:"amount",width:100}]]},{tid:"defaultModule.tableCustom",title:"表格",type:"tableCustom"},{tid:"defaultModule.html",title:"html",formatter:function(t,e){return'<div style="height:50pt;width:50pt;background:red;border-radius: 50%;"></div>'},type:"html"},{tid:"defaultModule.customText",title:"自定义文本",customText:"自定义文本",custom:!0,type:"text"}]),new t.PrintElementTypeGroup("辅助",[{tid:"defaultModule.hline",title:"横线",type:"hline"},{tid:"defaultModule.vline",title:"竖线",type:"vline"},{tid:"defaultModule.rect",title:"矩形",type:"rect"},{tid:"defaultModule.oval",title:"椭圆",type:"oval"}])])};return{addElementTypes:n}}}},cc1f:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-modal",{attrs:{visible:t.visible,maskClosable:!1,width:t.width+"mm"},on:{cancel:t.hideModal}},[n("a-spin",{staticStyle:{"min-height":"100px"},attrs:{spinning:t.spinning}},[n("div",{attrs:{id:"preview_content_custom"}})]),n("template",{slot:"title"},[n("a-space",[n("div",{staticStyle:{"margin-right":"20px"}},[t._v("打印预览")]),n("a-button",{attrs:{loading:t.waitShowPrinter,type:"primary",icon:"printer"},on:{click:function(e){return e.stopPropagation(),t.print.apply(null,arguments)}}},[t._v("打印")]),n("a-button",{attrs:{type:"primary",icon:"printer"},on:{click:function(e){return e.stopPropagation(),t.toPdf.apply(null,arguments)}}},[t._v("pdf")])],1)],1),n("template",{slot:"footer"},[n("a-button",{key:"close",attrs:{type:"info"},on:{click:t.hideModal}},[t._v(" 关闭 ")])],1)],2)},o=[],r=n("7670"),a=r["a"],s=(n("09bf"),n("2877")),p=Object(s["a"])(a,i,o,!1,null,"056858d1",null);e["a"]=p.exports},cf05:function(t,e,n){t.exports=n.p+"static/img/logo.82b9c7a5.png"},d26e:function(t,e,n){"use strict";n("e7a0")},e375:function(t,e,n){"use strict";e["a"]={count:"1"}},e562:function(t,e,n){(function(t){(function(t){function e(t,e){try{if(t.focus(),i()||n())try{t.contentWindow.document.execCommand("print",!1,null)}catch(o){t.contentWindow.print()}else t.contentWindow.print();e.callback&&e.callback()}catch(r){console.log(r)}}function n(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode}function i(){return!n()&&!!window.StyleMedia}function o(t,e,n){void 0===n&&(n=0);for(var i=t.getElementsByTagName("img"),r=!0,a=0;a<i.length;a++){var s=i[a];s.src&&s.src!==window.location.href&&-1==s.src.indexOf("base64")&&(s&&"undefined"!==typeof s.naturalWidth&&0!==s.naturalWidth&&s.complete||s.complete||(r=!1))}n++,!r&&n<10?setTimeout((function(){o(t,e,n)}),500):e()}t.fn.hiwprint=function(n){var i=document.getElementById("hiwprint_iframe");i&&i.parentNode.removeChild(i);var r=t.extend({},t.fn.hiwprint.defaults,n),a=this,s=t('<iframe id="hiwprint_iframe"  style="visibility: hidden; height: 0; width: 0; position: absolute;"></iframe>'),p="";r.importCss&&(r.styleHandler&&(p+=r.styleHandler()),t("link[media=print]").length>0&&t("link[media=print]").each((function(){t(this).attr("href").indexOf("print-lock.css")>=0&&(p+='<link rel="stylesheet" type="text/css" media="print" href="'+t(this).attr("href")+'">',p+='<link rel="stylesheet" type="text/css" href="'+t(this).attr("href")+'">')}))),s[0].srcdoc='<!DOCTYPE html><html><head><title></title><meta charset="UTF-8">'+p+"</head><body></body></html>",s[0].onload=function(){var t=s[0].contentWindow||s[0].contentDocument;t.document&&(t=t.document),s.attr("srcdoc")||t.write('<!DOCTYPE html><html><head><title></title><meta charset="UTF-8">'+p+"</head><body></body></html>"),r.printContainer?t.body.innerHTML=a[0].outerHTML:t.body.innerHTML=a.html(),o(t,(function(){e(s[0],r)}))},s.appendTo("body")},t.fn.hiwprint.defaults={importCss:!0,printContainer:!0,callback:null,styleHandler:null}})(t)}).call(this,n("1157"))},e7a0:function(t,e,n){},f407:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtAAAAIIAQMAAAB99EudAAAABlBMVEUmf8vG2O41LStnAAABD0lEQVR42u3XQQqCQBSAYcWFS4/QUTpaHa2jdISWLUJjjMpclJoPGvq+1WsYfiJCZ4oCAAAAAAAAAAAAAAAAAHin6pL9c6H/fOzHbRrP0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0u/SY9LS0tLS0tLS0tLS0n+edm+UlpaWlpaWlpaWlpaW/tl0Ndyzbno7/+tPTJdd1wal69dNa6abx+Lq6TSeYtK7BX/Diek0XULSZZrakPRtV0i6Hu/KIt30q4fM0pvBqvR9mvsQkZaW9gyJT+f5lsnzjR54xAk8mAUeJyMPwYFH98ALx5Jr0kRLLndT7b64UX9QR/0eAAAAAAAAAAAAAAAAAAD/4gpryzr/bja4QgAAAABJRU5ErkJggg=="},f45d:function(t,e,n){},f801:function(t,e){window.QRCode,function(){function t(t){this.mode=n.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,i=this.data.length;e<i;e++){var o=[],r=this.data.charCodeAt(e);r>65536?(o[0]=240|(1835008&r)>>>18,o[1]=128|(258048&r)>>>12,o[2]=128|(4032&r)>>>6,o[3]=128|63&r):r>2048?(o[0]=224|(61440&r)>>>12,o[1]=128|(4032&r)>>>6,o[2]=128|63&r):r>128?(o[0]=192|(1984&r)>>>6,o[1]=128|63&r):o[0]=r,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;e<n;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var n=new t(e);this.dataList.push(n),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[i][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,n),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+n][e+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=r.getLostPoint(this);(0==n||t>i)&&(t=i,e=n)}return e},createMovieClip:function(t,e,n){var i=t.createEmptyMovieClip(e,n),o=1;this.make();for(var r=0;r<this.modules.length;r++)for(var a=r*o,s=0;s<this.modules[r].length;s++){var p=s*o,l=this.modules[r][s];l&&(i.beginFill(0,100),i.moveTo(p,a),i.lineTo(p+o,a),i.lineTo(p+o,a+o),i.lineTo(p,a+o),i.endFill())}return i},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=r.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],o=t[n];if(null==this.modules[i][o])for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)this.modules[i+a][o+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s}},setupTypeNumber:function(t){for(var e=r.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){i=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,i=r.getBCHTypeInfo(n),o=0;o<15;o++){var a=!t&&1==(i>>o&1);o<6?this.modules[o][8]=a:o<8?this.modules[o+1][8]=a:this.modules[this.moduleCount-15+o][8]=a}for(o=0;o<15;o++){a=!t&&1==(i>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=a:o<9?this.modules[8][15-o-1+1]=a:this.modules[8][15-o-1]=a}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,i=this.moduleCount-1,o=7,a=0,s=this.moduleCount-1;s>0;s-=2){6==s&&s--;while(1){for(var p=0;p<2;p++)if(null==this.modules[i][s-p]){var l=!1;a<t.length&&(l=1==(t[a]>>>o&1));var d=r.getMask(e,i,s-p);d&&(l=!l),this.modules[i][s-p]=l,o--,-1==o&&(a++,o=7)}if(i+=n,i<0||this.moduleCount<=i){i-=n,n=-n;break}}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,n,i){for(var o=l.getRSBlocks(t,n),a=new d,s=0;s<i.length;s++){var p=i[s];a.put(p.mode,4),a.put(p.getLength(),r.getLengthInBits(p.mode,t)),p.write(a)}var h=0;for(s=0;s<o.length;s++)h+=o[s].dataCount;if(a.getLengthInBits()>8*h)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*h+")");a.getLengthInBits()+4<=8*h&&a.put(0,4);while(a.getLengthInBits()%8!=0)a.putBit(!1);while(1){if(a.getLengthInBits()>=8*h)break;if(a.put(e.PAD0,8),a.getLengthInBits()>=8*h)break;a.put(e.PAD1,8)}return e.createBytes(a,o)},e.createBytes=function(t,e){for(var n=0,i=0,o=0,a=new Array(e.length),s=new Array(e.length),l=0;l<e.length;l++){var d=e[l].dataCount,h=e[l].totalCount-d;i=Math.max(i,d),o=Math.max(o,h),a[l]=new Array(d);for(var u=0;u<a[l].length;u++)a[l][u]=255&t.buffer[u+n];n+=d;var c=r.getErrorCorrectPolynomial(h),f=new p(a[l],c.getLength()-1),g=f.mod(c);s[l]=new Array(c.getLength()-1);for(u=0;u<s[l].length;u++){var m=u+g.getLength()-s[l].length;s[l][u]=m>=0?g.get(m):0}}var v=0;for(u=0;u<e.length;u++)v+=e[u].totalCount;var y=new Array(v),b=0;for(u=0;u<i;u++)for(l=0;l<e.length;l++)u<a[l].length&&(y[b++]=a[l][u]);for(u=0;u<o;u++)for(l=0;l<e.length;l++)u<s[l].length&&(y[b++]=s[l][u]);return y};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(r.getBCHDigit(e)-r.getBCHDigit(r.G15)>=0)e^=r.G15<<r.getBCHDigit(e)-r.getBCHDigit(r.G15);return(t<<10|e)^r.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(r.getBCHDigit(e)-r.getBCHDigit(r.G18)>=0)e^=r.G18<<r.getBCHDigit(e)-r.getBCHDigit(r.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return r.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case o.PATTERN000:return(e+n)%2==0;case o.PATTERN001:return e%2==0;case o.PATTERN010:return n%3==0;case o.PATTERN011:return(e+n)%3==0;case o.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case o.PATTERN101:return e*n%2+e*n%3==0;case o.PATTERN110:return(e*n%2+e*n%3)%2==0;case o.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new p([1],0),n=0;n<t;n++)e=e.multiply(new p([1,a.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i++)for(var o=0;o<e;o++){for(var r=0,a=t.isDark(i,o),s=-1;s<=1;s++)if(!(i+s<0||e<=i+s))for(var p=-1;p<=1;p++)o+p<0||e<=o+p||0==s&&0==p||a==t.isDark(i+s,o+p)&&r++;r>5&&(n+=3+r-5)}for(i=0;i<e-1;i++)for(o=0;o<e-1;o++){var l=0;t.isDark(i,o)&&l++,t.isDark(i+1,o)&&l++,t.isDark(i,o+1)&&l++,t.isDark(i+1,o+1)&&l++,0!=l&&4!=l||(n+=3)}for(i=0;i<e;i++)for(o=0;o<e-6;o++)t.isDark(i,o)&&!t.isDark(i,o+1)&&t.isDark(i,o+2)&&t.isDark(i,o+3)&&t.isDark(i,o+4)&&!t.isDark(i,o+5)&&t.isDark(i,o+6)&&(n+=40);for(o=0;o<e;o++)for(i=0;i<e-6;i++)t.isDark(i,o)&&!t.isDark(i+1,o)&&t.isDark(i+2,o)&&t.isDark(i+3,o)&&t.isDark(i+4,o)&&!t.isDark(i+5,o)&&t.isDark(i+6,o)&&(n+=40);var d=0;for(o=0;o<e;o++)for(i=0;i<e;i++)t.isDark(i,o)&&d++;var h=Math.abs(100*d/e/e-50)/5;return n+=10*h,n}},a={glog:function(t){if(t<1)throw new Error("glog("+t+")");return a.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return a.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},s=0;s<8;s++)a.EXP_TABLE[s]=1<<s;for(s=8;s<256;s++)a.EXP_TABLE[s]=a.EXP_TABLE[s-4]^a.EXP_TABLE[s-5]^a.EXP_TABLE[s-6]^a.EXP_TABLE[s-8];for(s=0;s<255;s++)a.LOG_TABLE[a.EXP_TABLE[s]]=s;function p(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var n=0;while(n<t.length&&0==t[n])n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}function l(t,e){this.totalCount=t,this.dataCount=e}function d(){this.buffer=[],this.length=0}p.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=a.gexp(a.glog(this.get(n))+a.glog(t.get(i)));return new p(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=a.glog(this.get(0))-a.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<t.getLength();i++)n[i]^=a.gexp(a.glog(t.get(i))+e);return new p(n,0).mod(t)}},l.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],l.getRSBlocks=function(t,e){var n=l.getRsBlockTable(t,e);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=n.length/3,o=[],r=0;r<i;r++)for(var a=n[3*r+0],s=n[3*r+1],p=n[3*r+2],d=0;d<a;d++)o.push(new l(s,p));return o},l.getRsBlockTable=function(t,e){switch(e){case i.L:return l.RS_BLOCK_TABLE[4*(t-1)+0];case i.M:return l.RS_BLOCK_TABLE[4*(t-1)+1];case i.Q:return l.RS_BLOCK_TABLE[4*(t-1)+2];case i.H:return l.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},d.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var h=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function u(){return"undefined"!=typeof CanvasRenderingContext2D}function c(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var n=e.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(t=parseFloat(n[1]))}return t}var f=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){var e=this._htOption,n=this._el,i=t.getModuleCount();Math.floor(e.width/i),Math.floor(e.height/i);function o(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e)e.hasOwnProperty(i)&&n.setAttribute(i,e[i]);return n}this.clear();var r=o("svg",{viewBox:"0 0 "+String(i)+" "+String(i),width:"100%",height:"100%",fill:e.colorLight});r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(r),r.appendChild(o("rect",{fill:e.colorLight,width:"100%",height:"100%"})),r.appendChild(o("rect",{fill:e.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;a<i;a++)for(var s=0;s<i;s++)if(t.isDark(a,s)){var p=o("use",{x:String(s),y:String(a)});p.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),r.appendChild(p)}},t.prototype.clear=function(){while(this._el.hasChildNodes())this._el.removeChild(this._el.lastChild)},t}(window),g="svg"===document.documentElement.tagName.toLowerCase(),m=g?f:u()?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this&&this._android&&this._android<=2.1){var e=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,i,o,r,a,s,p,l,d){if("nodeName"in t&&/img/i.test(t.nodeName))for(var h=arguments.length-1;h>=1;h--)arguments[h]=arguments[h]*e;else"undefined"==typeof l&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);n.apply(this,arguments)}}function i(t,e){var n=this;if(n._fFail=e,n._fSuccess=t,null===n._bSupportDataURI){var i=document.createElement("img"),o=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)},r=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)};return i.onabort=o,i.onerror=o,i.onload=r,void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}var o=function(t,e){this._bIsPainted=!1,this._android=c(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return o.prototype.draw=function(t){var e=this._elImage,n=this._oContext,i=this._htOption,o=t.getModuleCount(),r=i.width/o,a=i.height/o,s=Math.round(r),p=Math.round(a);e.style.display="none",this.clear();for(var l=0;l<o;l++)for(var d=0;d<o;d++){var h=t.isDark(l,d),u=d*r,c=l*a;n.strokeStyle=h?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=h?i.colorDark:i.colorLight,n.fillRect(u,c,r,a),n.strokeRect(Math.floor(u)+.5,Math.floor(c)+.5,s,p),n.strokeRect(Math.ceil(u)-.5,Math.ceil(c)-.5,s,p)}this._bIsPainted=!0},o.prototype.makeImage=function(){this._bIsPainted&&i.call(this,t)},o.prototype.isPainted=function(){return this._bIsPainted},o.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},o.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},o}(window):function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,n=this._el,i=t.getModuleCount(),o=Math.floor(e.width/i),r=Math.floor(e.height/i),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<i;s++){a.push("<tr>");for(var p=0;p<i;p++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+o+"px;height:"+r+"px;background-color:"+(t.isDark(s,p)?e.colorDark:e.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),n.innerHTML=a.join("");var l=n.childNodes[0],d=(e.width-l.offsetWidth)/2,h=(e.height-l.offsetHeight)/2;d>0&&h>0&&(l.style.margin=h+"px "+d+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}(window);function v(t,e){for(var n=1,o=y(t),r=0,a=h.length;r<=a;r++){var s=0;switch(e){case i.L:s=h[r][0];break;case i.M:s=h[r][1];break;case i.Q:s=h[r][2];break;case i.H:s=h[r][3];break}if(o<=s)break;n++}if(n>h.length)throw new Error("Too long data");return n}function y(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}var b=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:i.H},"string"===typeof e&&(e={text:e}),e)for(var n in e)this._htOption[n]=e[n];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(m=f),this._android=c(),this._el=t,this._oQRCode=null,this._oDrawing=new m(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)};b.prototype.makeCode=function(t){this._oQRCode=new e(v(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},b.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},b.prototype.clear=function(){this._oDrawing.clear()},b.CorrectLevel=i,window.QRCode=b}(window)},f893:function(t,e,n){},f9a5:function(t,e,n){"use strict";n("7814")}});